/*!
 * Winbows11 - 0b0a3b60dc8135a5
 * Copyright (c) Microhard 2025
 * Github : Siyu1017/winbows11
 */
Object.defineProperty(window.System,"buildId",{value:"0b0a3b60dc8135a5",writable:!1,configurable:!1}),(()=>{var __webpack_modules__={0:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   e: () => (/* binding */ OutputStream)\n/* harmony export */ });\n/* harmony import */ var _eventEmitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8035);\n\r\n\r\nclass OutputStream extends _eventEmitter_js__WEBPACK_IMPORTED_MODULE_0__/* .EventEmitter */ .b {\r\n    constructor() {\r\n        super();\r\n        this.buffer = [];\r\n    }\r\n\r\n    write(data) {\r\n        this.buffer.push(data);\r\n        this._emit('data', data);\r\n    }\r\n\r\n    toString() {\r\n        return this.buffer;\r\n    }\r\n\r\n    read() {\r\n        return this.buffer.shift();\r\n    }\r\n\r\n    clear() {\r\n        this.buffer = [];\r\n        this._emit('clear');\r\n    }\r\n}\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/utils/outputStream.js?\n}")},18:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   M0: () => (/* binding */ Process),\n/* harmony export */   RE: () => (/* binding */ generateEnv),\n/* harmony export */   uF: () => (/* binding */ processes)\n/* harmony export */ });\n/* harmony import */ var _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6450);\n/* harmony import */ var _utils_inputStream_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6617);\n/* harmony import */ var _utils_outputStream_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(0);\n/* harmony import */ var _utils_eventEmitter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8035);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n\r\n\r\n\r\nfunction createNextTick() {\r\n    const queue = [];\r\n    const textNode = document.createTextNode('');\r\n    const observer = new MutationObserver(() => {\r\n        const toRun = queue.splice(0);\r\n        for (const fn of toRun) fn();\r\n    });\r\n\r\n    observer.observe(textNode, { characterData: true });\r\n\r\n    let toggle = 0;\r\n\r\n    return (cb) => {\r\n        queue.push(cb);\r\n        toggle = 1 - toggle;\r\n        textNode.data = toggle;\r\n    };\r\n}\r\nconst fallbackNextTick = createNextTick();\r\n\r\nfunction generateEnv() {\r\n    return {\r\n        APPDATA: 'C:/User/AppData/Local',\r\n        COMPUTERNAME: 'SUPERCOMPUTER',\r\n        LOCALAPPDATA: 'C:/User/AppData/Local',\r\n        NUMBER_OF_PROCESSORS: navigator.hardwareConcurrency,\r\n        OS: 'Winbows_NT',\r\n        ProgramFiles: 'C:/Program Files',\r\n        SystemDrive: 'C:',\r\n        SystemRoot: 'C:/Winbows',\r\n        TEMP: 'C:/User/AppData/Local/Temp',\r\n        TMP: 'C:/User/AppData/Local/Temp',\r\n        USERDOMAIN: 'SUPERCOMPUTER',\r\n        USERDOMAIN_ROAMINGPROFILE: 'SUPERCOMPUTER',\r\n        USERNAME: 'ADMIN',\r\n        USERPROFILE: 'C:/User',\r\n        windir: 'C:/Winbows',\r\n    };\r\n}\r\n\r\nconst processes = new Array(8192);\r\nconst emit = Symbol('emit');\r\n\r\nclass Process {\r\n    constructor(cwd) {\r\n        // Process id\r\n        this.pid = processes.findIndex(p => p == null);\r\n        if (this.pid == -1) throw new Error('The maximum number of processes has been reached');\r\n        processes[this.pid] = this;\r\n\r\n        // Initialize\r\n        this.env = generateEnv();\r\n        this.argv0 = 'C:/Program Files/WNR/WNR.js';\r\n        this.argv = [this.argv0];\r\n        this.platform = 'win32';\r\n        this.cwd = () => (cwd || 'C:/User/');\r\n\r\n        this.stdin = new _utils_inputStream_js__WEBPACK_IMPORTED_MODULE_1__/* .InputStream */ .z();\r\n        this.stdout = new _utils_outputStream_js__WEBPACK_IMPORTED_MODULE_2__/* .OutputStream */ .e();\r\n        this.stderr = new _utils_outputStream_js__WEBPACK_IMPORTED_MODULE_2__/* .OutputStream */ .e();\r\n\r\n        const eventEmitter = new _utils_eventEmitter_js__WEBPACK_IMPORTED_MODULE_3__/* .EventEmitter */ .b();\r\n        this.on = eventEmitter.on.bind(eventEmitter);\r\n        this.off = eventEmitter.off.bind(eventEmitter);\r\n        this[emit] = eventEmitter._emit.bind(eventEmitter);\r\n    }\r\n    nextTick(cb) {\r\n        return 'queueMicrotask' in window ? queueMicrotask(cb) : fallbackNextTick(cb)\r\n    }\r\n    kill() {\r\n        processes[this.pid] = null;\r\n        this[emit]('exit', 0);\r\n    }\r\n    exit(code) {\r\n        processes[this.pid] = null;\r\n        this[emit]('exit', code || 0);\r\n    }\r\n    abort() { }\r\n    chdir(dir) {\r\n        dir = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.toDirFormat(dir);\r\n        if (!fs.exists(dir)) {\r\n            throw new Error(`Directory not found : ${dir}`);\r\n        } else {\r\n            this.cwd = () => dir;\r\n        }\r\n    }\r\n}\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/process.js?\n}")},248:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BW: () => (/* binding */ getImageTheme),\n/* harmony export */   E9: () => (/* binding */ getPosition),\n/* harmony export */   Jt: () => (/* binding */ getPointerPosition),\n/* harmony export */   Tm: () => (/* binding */ replaceHTMLTags),\n/* harmony export */   _z: () => (/* binding */ getJsonFromURL),\n/* harmony export */   al: () => (/* binding */ canvasClarifier),\n/* harmony export */   cb: () => (/* binding */ delay),\n/* harmony export */   lZ: () => (/* binding */ randomID),\n/* harmony export */   rf: () => (/* binding */ parseKeyValueArgs)\n/* harmony export */ });\n/* unused harmony exports getType, getStackTrace, isElement, isString, isJSON, isObject, isNumber, isFunction, capitalizeFirstLetter, toNumber, formatBytes, loadImage */\nfunction getJsonFromURL(url) {\r\n    if (!url) url = location.search;\r\n    var query = url.substr(1);\r\n    var result = {};\r\n    query.split(\"&\").forEach(function (part) {\r\n        var item = part.split(\"=\");\r\n        result[item[0]] = decodeURIComponent(item[1]);\r\n    });\r\n    return result;\r\n}\r\n\r\nfunction getType(val) {\r\n    return Object.prototype.toString.call(val);\r\n}\r\n\r\nfunction randomID(count, chars) {\r\n    var chars = chars || 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',\r\n        result = '',\r\n        length = chars.length;\r\n    for (let i = 0; i < count; i++) {\r\n        result += chars.charAt(Math.floor(Math.random() * length));\r\n    }\r\n    return result;\r\n};\r\n\r\nfunction getStackTrace() {\r\n    var stack;\r\n\r\n    try {\r\n        throw new Error('');\r\n    } catch (error) {\r\n        stack = error.stack || '';\r\n    }\r\n\r\n    stack = stack.split('\\n').map(function (line) { return line.trim(); });\r\n    return stack.splice(stack[0] == 'Error' ? 2 : 1);\r\n}\r\n\r\n/**\r\n * Parse the args like [\"FOO=1\", \"BAR=test\"] to { FOO: \"1\", BAR: \"test\" }\r\n * @param {string[]} args\r\n * @returns {Record<string, string>}\r\n */\r\nfunction parseKeyValueArgs(args) {\r\n    const result = {};\r\n    for (const arg of args) {\r\n        const [key, value] = arg.split(\"=\", 2);\r\n        if (key && value !== undefined) {\r\n            result[key] = value;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction isElement(obj) {\r\n    try {\r\n        return obj instanceof HTMLElement;\r\n    }\r\n    catch (e) {\r\n        return (typeof obj === \"object\") &&\r\n            (obj.nodeType === 1) && (typeof obj.style === \"object\") &&\r\n            (typeof obj.ownerDocument === \"object\");\r\n    }\r\n}\r\n\r\nfunction isString(val) {\r\n    return getType(val) === '[object String]';\r\n}\r\n\r\nfunction isJSON(item) {\r\n    let value = typeof item !== \"string\" ? JSON.stringify(item) : item;\r\n    try {\r\n        value = JSON.parse(value);\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n\r\n    return typeof value === \"object\" && value !== null;\r\n}\r\n\r\nfunction isObject(obj) {\r\n    var type = typeof obj;\r\n    return type === 'function' || type === 'object' && !!obj;\r\n};\r\n\r\nfunction isNumber(value) {\r\n    return typeof value === 'number' && isFinite(value);\r\n}\r\n\r\nfunction isFunction(fn) {\r\n    return typeof fn === 'function';\r\n}\r\n\r\n/**\r\n * Find the distance of an element from the upper left corner of the document\r\n * @param {Element} element \r\n * @returns {Object}\r\n */\r\nfunction getPosition(element) {\r\n    function offset(el) {\r\n        var rect = el.getBoundingClientRect(),\r\n            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n            scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n        return { top: rect.top + scrollTop, left: rect.left + scrollLeft }\r\n    }\r\n    return { x: offset(element).left, y: offset(element).top };\r\n}\r\n\r\nfunction capitalizeFirstLetter(val) {\r\n    return String(val).charAt(0).toUpperCase() + String(val).slice(1);\r\n}\r\n\r\nfunction replaceHTMLTags(content = '') {\r\n    return content.replaceAll(\"<\", \"&lt;\").replaceAll(\">\", \"&gt;\");\r\n}\r\n\r\nfunction toNumber(val) {\r\n    if (isNumber(val)) return val;\r\n\r\n    const temp = isFunction(val?.valueOf) ? val.valueOf() : val;\r\n    val = isObject(temp) ? temp + '' : temp;\r\n\r\n    return +val;\r\n}\r\n\r\nfunction getPointerPosition(e) {\r\n    let x = e.clientX;\r\n    let y = e.clientY;\r\n    if (e.type.startsWith('touch')) {\r\n        var touch = e.touches[0] || e.changedTouches[0];\r\n        x = touch.pageX;\r\n        y = touch.pageY;\r\n    }\r\n    return { x: x + window.scrollX, y: y + window.scrollY };\r\n}\r\n\r\nfunction formatBytes(bytes, decimals = 2) {\r\n    if (bytes === 0) return '0 Bytes';\r\n\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(decimals)) + ' ' + sizes[i];\r\n}\r\n\r\nfunction loadImage(url) {\r\n    return new Promise(async (resolve, reject) => {\r\n        var img = new Image();\r\n        img.onload = async () => {\r\n            return resolve();\r\n        }\r\n        img.onerror = async (err) => {\r\n            return reject(err);\r\n        }\r\n        img.src = url;\r\n    })\r\n}\r\n\r\nfunction canvasClarifier(canvas, ctx, width, height) {\r\n    const originalSize = {\r\n        width: (width ? width : canvas.offsetWidth),\r\n        height: (height ? height : canvas.offsetHeight)\r\n    }\r\n    var ratio = window.devicePixelRatio || 1;\r\n    canvas.width = originalSize.width * ratio;\r\n    canvas.height = originalSize.height * ratio;\r\n    ctx.scale(ratio, ratio);\r\n    if (originalSize.width != canvas.offsetWidth || originalSize.height != canvas.offsetHeight) {\r\n        canvas.style.width = originalSize.width + 'px';\r\n        canvas.style.height = originalSize.height + 'px';\r\n    }\r\n}\r\n\r\nfunction getImageTheme(img) {\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n\r\n    ctx.drawImage(img, 0, 0, img.width, img.height);\r\n\r\n    const imageData = ctx.getImageData(0, 0, img.width, img.height);\r\n    const pixels = imageData.data;\r\n\r\n    let totalBrightness = 0;\r\n\r\n    for (let i = 0; i < pixels.length; i += 4) {\r\n        const r = pixels[i];\r\n        const g = pixels[i + 1];\r\n        const b = pixels[i + 2];\r\n\r\n        const brightness = (r * 0.299 + g * 0.587 + b * 0.114);\r\n        totalBrightness += brightness;\r\n    }\r\n\r\n    const averageBrightness = totalBrightness / (img.width * img.height);\r\n\r\n    const threshold = 128;\r\n    if (averageBrightness > threshold) {\r\n        return 'light';\r\n    } else {\r\n        return 'dark';\r\n    }\r\n}\r\n\r\nfunction delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\n\n//# sourceURL=webpack://winbows11/./src/utils.js?\n}")},367:module=>{"use strict";eval('{module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724%27 height=%2724%27 fill=%27none%27%3E%3Cpath d=%27M12 1.25c5.937 0 10.75 4.813 10.75 10.75S17.937 22.75 12 22.75 1.25 17.937 1.25 12 6.063 1.25 12 1.25Zm0 9.336-3-3L7.586 9l3 3-3 3 1.415 1.414 2.999-3 2.999 3L16.413 15l-3-3 3.001-3L15 7.586l-3 3Z%27 fill=%27%23000%27/%3E%3C/svg%3E";\n\n//# sourceURL=webpack://winbows11/data:image/svg+xml;charset=utf-8,%253Csvg_xmlns=%2527http://www.w3.org/2000/svg%2527_width=%252724%2527_height=%252724%2527_fill=%2527none%2527%253E%253Cpath_d=%2527M12_1.25c5.937_0_10.75_4.813_10.75_10.75S17.937_22.75_12_22.75_1.25_17.937_1.25_12_6.063_1.25_12_1.25Zm0_9.336-3-3L7.586_9l3_3-3_3_1.415_1.414_2.999-3_2.999_3L16.413_15l-3-3_3.001-3L15_7.586l-3_3Z%2527_fill=%2527%2523000%2527/%253E%253C/svg%253E?\n}')},540:module=>{"use strict";eval('{\r\n\r\n/* istanbul ignore next  */\r\nfunction insertStyleElement(options) {\r\n  var element = document.createElement("style");\r\n  options.setAttributes(element, options.attributes);\r\n  options.insert(element, options.options);\r\n  return element;\r\n}\r\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://winbows11/./node_modules/style-loader/dist/runtime/insertStyleElement.js?\n}')},581:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5072);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7825);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7659);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5056);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(540);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1113);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_storage_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9188);\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_storage_css__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A, options);\n\n\n\n\n       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_storage_css__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A && _node_modules_css_loader_dist_cjs_js_storage_css__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A.locals ? _node_modules_css_loader_dist_cjs_js_storage_css__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A.locals : undefined);\n\n\n//# sourceURL=webpack://winbows11/./src/kernel/devtool/storage.css?\n}')},701:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5072);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7825);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7659);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5056);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(540);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1113);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(2614);\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A, options);\n\n\n\n\n       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A && _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A.locals ? _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A.locals : undefined);\n\n\n//# sourceURL=webpack://winbows11/./src/lib/external/winbows-devtool/dist/index.css?\n}')},877:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Root element\r\nconst root = document.createElement('div');\r\nroot.className = 'root';\r\ndocument.body.appendChild(root);\r\n\r\n// Screen of winbows\r\nconst screenElement = document.createElement('div');\r\nconst background = document.createElement('div');\r\nconst backgroundImage = document.createElement('div');\r\nconst appWrapper = document.createElement('div');\r\n\r\nscreenElement.className = 'screen';\r\nbackground.className = 'background';\r\nbackgroundImage.className = 'background-image';\r\nappWrapper.className = 'app-wrapper';\r\n\r\nroot.appendChild(screenElement);\r\nscreenElement.appendChild(background);\r\nscreenElement.appendChild(appWrapper);\r\nbackground.appendChild(backgroundImage);\r\n\r\n// Desktop \r\nconst desktop = document.createElement('div');\r\nconst desktopItems = document.createElement('div');\r\n\r\ndesktop.className = 'desktop winui-no-background';\r\ndesktopItems.className = 'desktop-items';\r\n\r\nappWrapper.appendChild(desktop);\r\ndesktop.appendChild(desktopItems);\r\n\r\nfunction updateScreenSize() {\r\n    root.style.setProperty('--viewport-width', root.offsetWidth + 'px');\r\n    root.style.setProperty('--viewport-height', root.offsetHeight + 'px');\r\n}\r\n\r\nwindow.addEventListener('resize', updateScreenSize);\r\nwindow.addEventListener('load', updateScreenSize);\r\n\r\nconst observer = new ResizeObserver(updateScreenSize);\r\nobserver.observe(root);\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n    root,\r\n    screenElement,\r\n    background,\r\n    backgroundImage,\r\n    appWrapper,\r\n    desktop,\r\n    desktopItems,\r\n    get width() {\r\n        return root.offsetWidth;\r\n    },\r\n    get height() {\r\n        return root.offsetHeight;\r\n    }\r\n});\n\n//# sourceURL=webpack://winbows11/./src/kernel/viewport.js?\n}")},1079:module=>{"use strict";eval('{module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg width=%2720%27 height=%2720%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath fill-rule=%27evenodd%27 clip-rule=%27evenodd%27 d=%27m1 17 9-15 9 15H1ZM11 7v5H9V7h2Zm-1 8.1a1.1 1.1 0 1 0 0-2.2 1.1 1.1 0 0 0 0 2.2Z%27 fill=%27%23000%27/%3E%3C/svg%3E";\n\n//# sourceURL=webpack://winbows11/data:image/svg+xml;charset=utf-8,%253Csvg_width=%252720%2527_height=%252720%2527_fill=%2527none%2527_xmlns=%2527http://www.w3.org/2000/svg%2527%253E%253Cpath_fill-rule=%2527evenodd%2527_clip-rule=%2527evenodd%2527_d=%2527m1_17_9-15_9_15H1ZM11_7v5H9V7h2Zm-1_8.1a1.1_1.1_0_1_0_0-2.2_1.1_1.1_0_0_0_0_2.2Z%2527_fill=%2527%2523000%2527/%253E%253C/svg%253E?\n}')},1113:module=>{"use strict";eval("{\r\n\r\n/* istanbul ignore next  */\r\nfunction styleTagTransform(css, styleElement) {\r\n  if (styleElement.styleSheet) {\r\n    styleElement.styleSheet.cssText = css;\r\n  } else {\r\n    while (styleElement.firstChild) {\r\n      styleElement.removeChild(styleElement.firstChild);\r\n    }\r\n    styleElement.appendChild(document.createTextNode(css));\r\n  }\r\n}\r\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://winbows11/./node_modules/style-loader/dist/runtime/styleTagTransform.js?\n}")},1123:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   r: () => (/* binding */ appRegistry)\n/* harmony export */ });\n/* harmony import */ var _WRT_shell_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3379);\n/* harmony import */ var _lib_fs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6450);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_fs_js__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_fs_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n\r\nfunction generateAppSeed({ appName, basePath, contentPath }) {\r\n    let seed = null;\r\n\r\n    const nAppName = (0,_WRT_shell_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .getScheme */ .my)(appName);\r\n    const nBasePath = _lib_fs_js__WEBPACK_IMPORTED_MODULE_1__/* .fsUtils */ .P.normalize(basePath || '');\r\n    const nContentPath = _lib_fs_js__WEBPACK_IMPORTED_MODULE_1__/* .fsUtils */ .P.normalize(contentPath || '');\r\n\r\n    if (nAppName) {\r\n        seed = nAppName;\r\n        if (nBasePath) seed += '|' + nBasePath;\r\n    } else if (nBasePath) {\r\n        seed = nBasePath;\r\n    } else if (nContentPath) {\r\n        seed = nContentPath;\r\n    } else {\r\n        seed = 'tmp-' + Math.random().toString(36).slice(2, 10);\r\n    }\r\n\r\n    return seed;\r\n}\r\n\r\nfunction simpleHash(str) {\r\n    let hash = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        hash = (hash << 5) - hash + str.charCodeAt(i);\r\n        hash |= 0;\r\n    }\r\n    return 'app-' + Math.abs(hash).toString(36);\r\n}\r\n\r\nfunction generateAppId({ appName, basePath, contentPath }) {\r\n    const seed = generateAppSeed({ appName, basePath, contentPath });\r\n    return simpleHash(seed);\r\n}\r\n\r\nconst defaultData = {\r\n\r\n}\r\nconst appRegistry = {\r\n    apps: {\r\n        'explorer': {\r\n            basePath: 'C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/',\r\n            icon: 'C:/Winbows/icons/folders/explorer.ico',\r\n            entryScript: 'C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/app.wrt',\r\n            configScript: 'C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/configurable.wrt'\r\n        },\r\n        'edge': {\r\n            basePath: 'C:/Winbows/SystemApps/Microhard.Winbows.Edge/',\r\n            icon: 'C:/Winbows/icons/applications/tools/edge.ico',\r\n            entryScript: 'C:/Winbows/SystemApps/Microhard.Winbows.Edge/app.wrt'\r\n        },\r\n        'edgebeta': {\r\n            basePath: 'C:/Winbows/SystemApps/Microhard.Winbows.Edge.BETA/',\r\n            icon: 'C:/Winbows/icons/applications/tools/edgebeta.ico',\r\n            entryScript: 'C:/Winbows/SystemApps/Microhard.Winbows.Edge.BETA/app.wrt'\r\n        },\r\n        'store': {\r\n            basePath: 'C:/Winbows/SystemApps/Microhard.Winbows.MicrohardStore/',\r\n            icon: 'C:/Winbows/icons/applications/novelty/store2.ico',\r\n            entryScript: 'C:/Winbows/SystemApps/Microhard.Winbows.MicrohardStore/app.wrt'\r\n        },\r\n        'cmd': {\r\n            basePath: 'C:/User/Documents/sdk-v1/examples/wrt-terminal-app-demo/',\r\n            icon: 'C:/Winbows/icons/applications/novelty/terminal.ico',\r\n            entryScript: 'C:/User/Documents/sdk-v1/examples/wrt-terminal-app-demo/app.wrt'\r\n        },\r\n        'notepad': {\r\n            basePath: 'C:/Program Files/Notepad/',\r\n            icon: 'C:/Winbows/icons/applications/novelty/notepad.ico',\r\n            entryScript: 'C:/Program Files/Notepad/app.wrt'\r\n        },\r\n        'calculator': {\r\n            basePath: 'C:/Program Files/Calculator/',\r\n            icon: 'C:/Winbows/icons/applications/novelty/calculator.ico',\r\n            entryScript: 'C:/Program Files/Calculator/app.wrt'\r\n        },\r\n        'paint': {\r\n            basePath: 'C:/Program Files/Paint/',\r\n            icon: 'C:/Winbows/icons/applications/novelty/paint.ico',\r\n            entryScript: 'C:/Program Files/Paint/app.wrt'\r\n        },\r\n        'info': {\r\n            basePath: 'C:/Winbows/SystemApps/Microhard.Winbows.Info/',\r\n            icon: 'C:/Winbows/icons/emblems/info.ico',\r\n            entryScript: 'C:/Winbows/SystemApps/Microhard.Winbows.Info/app.wrt',\r\n            autoExecute: true\r\n        },\r\n        'code': {\r\n            basePath: 'C:/Program Files/VSCode/',\r\n            icon: 'C:/Winbows/icons/applications/office/code.ico',\r\n            entryScript: 'C:/Program Files/VSCode/app.wrt'\r\n        },\r\n        'taskmgr': {\r\n            basePath: 'C:/Winbows/SystemApps/Microhard.Winbows.Taskmgr',\r\n            icon: 'C:/Winbows/icons/applications/tools/taskmanager.ico',\r\n            entryScript: 'C:/Winbows/SystemApps/Microhard.Winbows.Taskmgr/app.wrt'\r\n        },\r\n        'settings': {\r\n            basePath: 'C:/Winbows/SystemApps/Microhard.Winbows.Settings',\r\n            icon: 'C:/Winbows/icons/applications/tools/settings.ico',\r\n            entryScript: 'C:/Winbows/SystemApps/Microhard.Winbows.Settings/app.wrt'\r\n        },\r\n        'fpsmeter': {\r\n            basePath: 'C:/Program Files/FPS Meter/',\r\n            icon: 'C:/Program Files/FPS Meter/favicon.ico',\r\n            entryScript: 'C:/Program Files/FPS Meter/app.wrt'\r\n        },\r\n        'photos': {\r\n            basePath: 'C:/Winbows/SystemApps/Microhard.Winbows.Photos',\r\n            icon: 'C:/Winbows/icons/applications/novelty/photos.ico',\r\n            entryScript: 'C:/Winbows/SystemApps/Microhard.Winbows.Photos/app.wrt'\r\n        },\r\n        'network-listener': {\r\n            basePath: 'C:/Program Files/Network Listener/',\r\n            icon: 'C:/Winbows/icons/files/program.ico',\r\n            entryScript: 'C:/Program Files/Network Listener/app.wrt'\r\n        },\r\n        'json-viewer': {\r\n            basePath: 'C:/Program Files/JSON Viewer/',\r\n            icon: 'C:/Program Files/JSON Viewer/json-viewer.svg',\r\n            entryScript: 'C:/Program Files/JSON Viewer/app.wrt'\r\n        }\r\n    },\r\n    install: () => { },\r\n    uninstall: () => { },\r\n    update: () => { },\r\n    getInfo: (name) => {\r\n        if (!appRegistry.apps[name]) {\r\n            return {};\r\n        }\r\n        return appRegistry.apps[name];\r\n    },\r\n    getIcon: (path) => {\r\n        const app = Object.values(appRegistry.apps).find(a => path.startsWith(a.basePath));\r\n        return app?.icon || 'C:/Winbows/icons/files/program.ico';\r\n    },\r\n    getApp: (path) => {\r\n        const keys = Object.keys(appRegistry.apps);\r\n        const app = Object.values(appRegistry.apps).find(a => path.startsWith(a.basePath));\r\n        if (!app) return {};\r\n        return { ...app, name: keys.find(k => appRegistry.apps[k] === app) };\r\n    },\r\n    exists: (name) => !!appRegistry.apps[name] || Object.keys(appRegistry.apps).some(k => appRegistry.apps[k].path === name)\r\n}\r\n\r\n// Initialize\r\nObject.keys(appRegistry.apps).forEach(appName => {\r\n    const app = appRegistry.apps[appName];\r\n    if (!app.appId) app.appId = generateAppId(appName, app.basePath, app.entryScript);\r\n    if (!app.appName) app.appName = appName;\r\n})\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/appRegistry.js?\n}")},1161:module=>{"use strict";eval('{module.exports = /*#__PURE__*/JSON.parse(\'{"U":{"wrt-example-module":{"name":"wrt-example-module","version":"1.0.0","main":"./dist/index.js","files":["dist"],"pd":"wrt-example-module"}}}\');\n\n//# sourceURL=webpack://winbows11/./User/AppData/Roaming/wrt/wrt_modules/packages.json?\n}')},1293:(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1601);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6314);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.devtool-tabview {\r\n    width: inherit;\r\n    height: inherit;\r\n    display: flex;\r\n    flex-direction: column;\r\n    font-family: var(--winbows-font-default);\r\n}\r\n\r\n.devtool-tabview-tabs-container {\r\n    border-bottom: 1px solid #484848;\r\n    position: relative;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    -webkit-user-drag: none;\r\n    overflow-x: auto;\r\n    -webkit-overflow-scrolling: touch;\r\n    overflow-y: hidden;\r\n    white-space: nowrap;\r\n    transition: mask-image .1s ease-in-out;\r\n}\r\n\r\n.devtool-tabview-tabs-container::-webkit-scrollbar-thumb,\r\n.devtool-tabview-tabs-container::-webkit-scrollbar-track,\r\n.devtool-tabview-tabs-container::-webkit-scrollbar {\r\n    display: none;\r\n}\r\n\r\n.devtool-tabview-tabs {\r\n    height: inherit;\r\n}\r\n\r\n.devtool-tabview-tab {\r\n    display: inline-flex;\r\n    height: inherit;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 0 .75rem;\r\n}\r\n\r\n.devtool-tabview-tab:hover {\r\n    background: rgba(255, 255, 255, .1);\r\n}\r\n\r\n.devtool-tabview-tab.selected {\r\n    color: #a7cbff;\r\n}\r\n\r\n.devtool-tabview-slider {\r\n    position: absolute;\r\n    height: 2px;\r\n    bottom: 0;\r\n    overflow: hidden;\r\n    transition: all .1s ease-in-out;\r\n}\r\n\r\n.devtool-tabview-slider::before {\r\n    content: '';\r\n    display: block;\r\n    position: absolute;\r\n    width: inherit;\r\n    height: 4px;\r\n    background: #a7cbff;\r\n    transform: translateY(2px);\r\n    border-radius: 2px;\r\n    bottom: 0;\r\n}\r\n\r\n.devtool-tabview-item-container {\r\n    height: -webkit-fill-available;\r\n}\r\n\r\n.devtool-tabview-item {\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.devtool-tabview-item.active {\r\n    display: block;\r\n}`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://winbows11/./src/kernel/devtool/tabview.css?./node_modules/css-loader/dist/cjs.js\n}")},1493:(__webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony import */ var _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5392);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(248);\n/* harmony import */ var _ui_winui_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3477);\n/* harmony import */ var _taskbar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8620);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_0__, _taskbar_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_0__, _taskbar_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\nconst { fs } = _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_0__/* .apis */ .O;\r\n\r\nconst startMenuContainer = document.createElement('div');\r\nconst startMenu = document.createElement('div');\r\nconst startMenuInner = document.createElement('div');\r\nconst startMenuSearch = document.createElement('div');\r\nconst startMenuSearchIcon = document.createElement('div');\r\nconst startMenuSearchInput = document.createElement('input');\r\nconst startMenuApps = document.createElement('div');\r\nconst startMenuPinned = document.createElement('div');\r\nconst startMenuRecommended = document.createElement('div');\r\nconst startMenuFooter = document.createElement('div');\r\n\r\nstartMenuContainer.className = 'start-menu-container';\r\nstartMenu.className = 'start-menu';\r\nstartMenuInner.className = 'start-menu-inner';\r\nstartMenuSearch.className = 'start-menu-search';\r\nstartMenuSearchIcon.className = 'start-menu-search-icon';\r\nstartMenuSearchInput.className = 'start-menu-search-input';\r\nstartMenuApps.className = 'start-menu-apps';\r\nstartMenuPinned.className = 'start-menu-pinned';\r\nstartMenuRecommended.className = 'start-menu-recommended';\r\nstartMenuFooter.className = 'start-menu-footer';\r\n\r\nstartMenuSearchInput.placeholder = 'Search for apps, settings and documents';\r\n\r\nstartMenuContainer.appendChild(startMenu);\r\nstartMenu.appendChild(startMenuInner);\r\nstartMenuInner.appendChild(startMenuSearch);\r\nstartMenuSearch.appendChild(startMenuSearchIcon);\r\nstartMenuSearch.appendChild(startMenuSearchInput);\r\nstartMenuInner.appendChild(startMenuApps)\r\nstartMenuApps.appendChild(startMenuPinned);\r\nstartMenuApps.appendChild(startMenuRecommended);\r\nstartMenu.appendChild(startMenuFooter);\r\n\r\n// Pinned\r\nconst pinnedHeader = document.createElement('div');\r\nconst pinnedTitle = document.createElement('div');\r\nconst pinnedExpand = document.createElement('div');\r\nconst pinnedAppsContainer = document.createElement('div');\r\nconst pinnedApps = document.createElement('div');\r\n\r\npinnedHeader.className = 'start-menu-pinned-header';\r\npinnedTitle.className = 'start-menu-pinned-title';\r\npinnedExpand.className = 'start-menu-pinned-expand';\r\npinnedAppsContainer.className = 'start-menu-pinned-apps-container';\r\npinnedApps.className = 'start-menu-pinned-apps';\r\n\r\npinnedTitle.innerHTML = 'Pinned';\r\npinnedExpand.innerHTML = 'All apps'\r\n\r\nstartMenuPinned.appendChild(pinnedHeader);\r\nstartMenuPinned.appendChild(pinnedAppsContainer)\r\npinnedAppsContainer.appendChild(pinnedApps);\r\npinnedHeader.appendChild(pinnedTitle);\r\npinnedHeader.appendChild(pinnedExpand);\r\n\r\n// Footer\r\nconst footerProfile = document.createElement('div');\r\nconst footerPower = document.createElement('div');\r\nconst footerProfileAvatar = document.createElement('div');\r\nconst footerProfileUsername = document.createElement('div');\r\nconst footerPowerButton = document.createElement('div');\r\n\r\nfooterProfile.className = 'start-menu-footer-profile';\r\nfooterPower.className = 'start-menu-footer-power';\r\nfooterProfileAvatar.className = 'start-menu-footer-profile-avatar';\r\nfooterProfileUsername.className = 'start-menu-footer-profile-username';\r\nfooterPowerButton.className = 'start-menu-footer-power-button';\r\n\r\nfs.getFileURL('C:/Winbows/icons/user.png').then(url => {\r\n    footerProfileAvatar.style.backgroundImage = `url(${url})`;\r\n})\r\nfooterProfileUsername.innerHTML = _utils_js__WEBPACK_IMPORTED_MODULE_3__/* .replaceHTMLTags */ .Tm('Admin');\r\n\r\nstartMenuFooter.appendChild(footerProfile);\r\nstartMenuFooter.appendChild(footerPower);\r\nfooterProfile.appendChild(footerProfileAvatar);\r\nfooterProfile.appendChild(footerProfileUsername);\r\nfooterPower.appendChild(footerPowerButton);\r\n\r\nconst powerMenu = _ui_winui_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .A.contextMenu([]);\r\nfooterPowerButton.addEventListener('click', (e) => {\r\n    powerMenu.setItems([\r\n        {\r\n            icon: \"lock\",\r\n            text: \"Lock\",\r\n            action: () => {\r\n                window.Winbows.ShowLockScreen();\r\n            }\r\n        }, {\r\n            icon: \"quiet-hours\",\r\n            text: \"Sleep\",\r\n            action: () => {\r\n\r\n            },\r\n            disabled: true\r\n        }, {\r\n            icon: \"power-button\",\r\n            text: \"Shut down\",\r\n            action: () => {\r\n\r\n            },\r\n            disabled: true\r\n        }, {\r\n            icon: \"update-restore\",\r\n            text: \"Restart\",\r\n            action: () => {\r\n                location.reload();\r\n            }\r\n        }\r\n    ])\r\n    var position = _utils_js__WEBPACK_IMPORTED_MODULE_3__/* .getPosition */ .E9(footerPowerButton);\r\n    powerMenu.container.style.setProperty('--contextmenu-bg', 'var(--winbows-taskbar-bg)');\r\n    powerMenu.container.style.setProperty('--contextmenu-backdrop-filter', 'saturate(3) blur(20px)');\r\n    powerMenu.open(position.x, window.innerHeight - position.y, 'left-bottom');\r\n})\r\n\r\n;(0,_taskbar_js__WEBPACK_IMPORTED_MODULE_2__.on)('pointerdown', (e) => {\r\n    if (!powerMenu.container.contains(e.target)) {\r\n        powerMenu.close();\r\n    }\r\n})\r\n\r\n;(0,_taskbar_js__WEBPACK_IMPORTED_MODULE_2__.on)('pointerdown', (e) => {\r\n    if (e.target == startMenuContainer || startMenuContainer.contains(e.target) || powerMenu.container.contains(e.target)) return;\r\n    startMenuContainer.classList.remove('active');\r\n})\r\n\r\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (startMenuContainer)));\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/taskbar/startMenu.js?\n}")},1601:module=>{"use strict";eval("{\r\n\r\nmodule.exports = function (i) {\r\n  return i[1];\r\n};\n\n//# sourceURL=webpack://winbows11/./node_modules/css-loader/dist/runtime/noSourceMaps.js?\n}")},1830:(__webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony import */ var _viewport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(877);\n/* harmony import */ var _loading_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8547);\n/* harmony import */ var _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6450);\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3618);\n/* harmony import */ var _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2810);\n/* harmony import */ var _lockScreen_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9304);\n/* harmony import */ var _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(5392);\n/* harmony import */ var _devtool_devtool_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(6856);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(248);\n/* harmony import */ var _taskbar_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(2102);\n/* harmony import */ var _appRegistry_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(1123);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_fs_js__WEBPACK_IMPORTED_MODULE_2__, _system_js__WEBPACK_IMPORTED_MODULE_3__, _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_4__, _lockScreen_js__WEBPACK_IMPORTED_MODULE_5__, _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__, _devtool_devtool_js__WEBPACK_IMPORTED_MODULE_7__, _taskbar_index_js__WEBPACK_IMPORTED_MODULE_8__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_9__]);\n([_lib_fs_js__WEBPACK_IMPORTED_MODULE_2__, _system_js__WEBPACK_IMPORTED_MODULE_3__, _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_4__, _lockScreen_js__WEBPACK_IMPORTED_MODULE_5__, _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__, _devtool_devtool_js__WEBPACK_IMPORTED_MODULE_7__, _taskbar_index_js__WEBPACK_IMPORTED_MODULE_8__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_9__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst { root, desktop, desktopItems, backgroundImage, screenElement } = _viewport_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"] */ .A;\r\nconst { fs, process, __dirname, __filename, requireAsync, module, exports, runtimeID, ShellInstance } = _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__/* .apis */ .O;\r\n\r\nwindow.kernelRuntime = _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__/* .kernelRuntime */ .U;\r\n\r\n// Migration\r\nasync function shouldMigrateFromOldDatabase() {\r\n    if (!indexedDB.databases) return false;\r\n    const dbs = await indexedDB.databases();\r\n    return dbs.some(db => db.name === 'winbows11');\r\n}\r\nconst needsToMigrate = await shouldMigrateFromOldDatabase();\r\nif (needsToMigrate) {\r\n    console.warn('Needs to migrate from old database...');\r\n\r\n    var warning = document.createElement('div');\r\n    var warningWindow = document.createElement('div');\r\n    var warningHeader = document.createElement('div');\r\n    var warningContent = document.createElement('div');\r\n    var warningFooter = document.createElement('div');\r\n    var warningMigrateButton = document.createElement('button');\r\n    var warningSkipButton = document.createElement('button');\r\n\r\n    warningHeader.innerHTML = 'Data migration required';\r\n    warningContent.innerHTML = `<div>We have recently updated the IDBFS schema and detected that you previously saved files in Winbows. As the previous schema has been deprecated, we need to migrate your files to the new version to prevent potential data loss or unexpected errors.</div>\r\n        <div>This update replaces the original file path-based storage with a new structure that uses a file table and record IDs, improving access performance and ensuring data consistency.</div>`;\r\n    warningSkipButton.innerHTML = 'Skip';\r\n    warningMigrateButton.innerHTML = 'Continue';\r\n\r\n    warning.style = 'position: fixed;top: 0px;left: 0px;width: 100vw;height: var(--winbows-screen-height);display: flex;align-items: center;justify-content: center;background-color: rgba(0, 0, 0, 0.5);z-index: 99999;font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen-Sans, Ubuntu, Cantarell, &quot;Helvetica Neue&quot;, sans-serif;color:#000;';\r\n    warningWindow.style = 'display: flex;flex-direction: column;align-items: center;justify-content: center;background-color: rgb(255, 255, 255);padding: 2rem 4rem;border-radius: 1.5rem;box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 1rem;max-width: min(600px, -2rem + 100vw);width: 100%;max-height: min(calc(var(--winbows-screen-height) * 80%), calc(var(--winbows-screen-height) - 2rem));overflow: auto;';\r\n    warningHeader.style = 'font-size: 175%;font-weight: 600;margin: .5rem 0 1.5rem;';\r\n    warningFooter.style = 'display: flex;gap: .5rem;';\r\n    warningSkipButton.style = 'color: rgb(0, 103, 192);margin-bottom: 0.5rem;padding: 0.625rem 1.25rem;border-radius: 0.5rem;font-size: 1rem;text-decoration: none;cursor: pointer;user-select: none;-webkit-user-drag: none;outline: 0px;border: 1px solid rgb(0, 103, 192);margin-top: 1.5rem;font-family: inherit;font-weight: 600;min-width: 8rem;background: #fff;'\r\n    warningMigrateButton.style = 'color: rgb(255, 255, 255);margin-bottom: 0.5rem;padding: 0.625rem 1.25rem;background: rgb(0, 103, 192);border-radius: 0.5rem;font-size: 1rem;text-decoration: none;cursor: pointer;user-select: none;-webkit-user-drag: none;outline: 0px;border: 1px solid rgb(0, 103, 192);margin-top: 1.5rem;font-family: inherit;font-weight: 600;min-width: 8rem;';\r\n\r\n    warning.appendChild(warningWindow);\r\n    warningWindow.appendChild(warningHeader);\r\n    warningWindow.appendChild(warningContent);\r\n    warningWindow.appendChild(warningFooter);\r\n    warningFooter.appendChild(warningSkipButton);\r\n    warningFooter.appendChild(warningMigrateButton);\r\n    document.body.appendChild(warning);\r\n\r\n    let doMigration = true;\r\n\r\n    await (function () {\r\n        return new Promise(resolve => {\r\n            function evtfn() {\r\n                warningWindow.innerHTML = '';\r\n                resolve();\r\n                warningMigrateButton.removeEventListener('click', evtfn);\r\n            }\r\n            warningMigrateButton.addEventListener('click', evtfn);\r\n\r\n            function skipFn() {\r\n                doMigration = false;\r\n                warning.remove();\r\n                resolve();\r\n                warningSkipButton.removeEventListener('click', skipFn);\r\n            }\r\n            warningSkipButton.addEventListener('click', skipFn);\r\n        })\r\n    })();\r\n\r\n    await (function () {\r\n        return new Promise(async (resolve, reject) => {\r\n            if (doMigration == false) return resolve();\r\n\r\n            warningWindow.style.padding = '2rem';\r\n\r\n            var taskOrder = ['fetch', 'open', 'read', 'migrate', 'delete'];\r\n            var taskFinished = [];\r\n            var tasks = {\r\n                fetch: {\r\n                    text: 'Fetch manifest'\r\n                },\r\n                open: {\r\n                    text: 'Open old IDBFS'\r\n                },\r\n                read: {\r\n                    text: 'Read old IDBFS'\r\n                },\r\n                migrate: {\r\n                    text: 'Migrate files to new IDBFS'\r\n                },\r\n                delete: {\r\n                    text: 'Delete old IDBFS'\r\n                }\r\n            }\r\n\r\n            var called = false;\r\n            function checkIfAllFinished() {\r\n                if (taskFinished.every(x => x == true) && called == false) {\r\n                    called = true;\r\n                    var button = document.createElement('button');\r\n                    button.innerHTML = 'Continue';\r\n                    button.style = 'color: rgb(255, 255, 255);/* margin-bottom: 0.5rem; */padding: 0.625rem 1.25rem;background: rgb(0, 103, 192);border-radius: 0.5rem;font-size: 1rem;text-decoration: none;cursor: pointer;user-select: none;-webkit-user-drag: none;outline: 0px;border: 0px;margin-top: 1rem;font-family: inherit;font-weight: 600;';\r\n                    warningWindow.appendChild(button);\r\n                    button.addEventListener('click', () => {\r\n                        warning.remove();\r\n                        resolve();\r\n                    })\r\n                }\r\n            }\r\n\r\n            var rejected = false;\r\n            function handleReject() {\r\n                if (rejected == false) {\r\n                    rejected = true;\r\n                    var buttons = document.createElement('div');\r\n                    var laterBtn = document.createElement('button');\r\n                    var retryBtn = document.createElement('button');\r\n\r\n                    buttons.className = 'migrate-buttons';\r\n                    laterBtn.className = 'migrate-button outline';\r\n                    retryBtn.className = 'migrate-button';\r\n\r\n                    laterBtn.innerHTML = 'Migrate later';\r\n                    retryBtn.innerHTML = 'Retry';\r\n\r\n                    warningWindow.appendChild(buttons);\r\n                    buttons.appendChild(laterBtn);\r\n                    buttons.appendChild(retryBtn);\r\n\r\n                    retryBtn.addEventListener('click', () => {\r\n                        location.reload();\r\n                    })\r\n                    laterBtn.addEventListener('click', () => {\r\n                        warning.remove();\r\n                        resolve();\r\n                    })\r\n                }\r\n            }\r\n\r\n            var progress = document.createElement('div');\r\n            var task = document.createElement('div');\r\n\r\n            progress.className = 'migrate-progress';\r\n            task.className = 'migrate-task';\r\n\r\n            warningWindow.appendChild(progress);\r\n            warningWindow.appendChild(task);\r\n\r\n            for (const i in taskOrder) {\r\n                !(i => {\r\n                    const key = taskOrder[i];\r\n\r\n                    // Progress bar\r\n                    var progressBar = document.createElement('div');\r\n                    progressBar.className = 'migrate-progress-bar';\r\n                    progress.appendChild(progressBar);\r\n                    tasks[key].progressBar = progressBar;\r\n\r\n                    // Task name\r\n                    var el = document.createElement('div');\r\n                    el.className = 'migrate-task-item';\r\n                    el.innerHTML = `<div class=\"migrate-task-icon\"><svg class=\"migrate-loading-spinner\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><circle cx=\"8px\" cy=\"8px\" r=\"7px\"></circle></svg></div><div class=\"migrate-task-item-text\">${tasks[key].text}</div>`;\r\n                    task.appendChild(el);\r\n\r\n                    taskFinished.push(false);\r\n\r\n                    tasks[key].taskItem = el;\r\n                    tasks[key].finished = false;\r\n                    tasks[key].finish = function () {\r\n                        if (taskFinished.slice(0, i).every(x => x == true)) {\r\n                            tasks[key].finished = true;\r\n                            taskFinished[i] = true;\r\n                            progressBar.classList.add('fulfilled');\r\n                            el.classList.add('fulfilled');\r\n                            checkIfAllFinished();\r\n                        }\r\n                    }\r\n                    tasks[key].reject = function () {\r\n                        if (taskFinished.slice(0, i).every(x => x == true)) {\r\n                            tasks[key].finished = false;\r\n                            taskFinished[i] = false;\r\n                            progressBar.classList.add('rejected');\r\n                            el.classList.add('rejected');\r\n                            checkIfAllFinished();\r\n                        }\r\n                    }\r\n                    tasks[key].update = function (content) {\r\n                        el.querySelector('.migrate-task-item-text').innerHTML = content;\r\n                    }\r\n                })(i);\r\n            }\r\n\r\n            var updateFiles = null;\r\n            await fetch(`/build.json?timestamp=${new Date().getTime()}`).then(res => {\r\n                return res.json()\r\n            }).then(data => {\r\n                if (data.table) {\r\n                    updateFiles = data.table;\r\n                    tasks.fetch.finish();\r\n                    openDB();\r\n                } else {\r\n                    tasks.fetch.reject();\r\n                    tasks.fetch.update('Failed to fetch manifest, please try again later.');\r\n                    handleReject();\r\n                }\r\n            }).catch(err => {\r\n                tasks.fetch.reject();\r\n                tasks.fetch.update('Failed to fetch manifest, please try again later.');\r\n                handleReject();\r\n            })\r\n\r\n            function openDB() {\r\n                // Try to open the old database\r\n                const oldDbRequest = indexedDB.open('winbows11', 1);\r\n                oldDbRequest.onsuccess = async (event) => {\r\n                    const db = event.target.result;\r\n\r\n                    tasks.open.finish();\r\n\r\n                    async function readFromOldDatabase(path) {\r\n                        return new Promise((resolve, reject) => {\r\n                            const store = db.transaction('C', 'readonly').objectStore('C');\r\n                            const req = store.get(path);\r\n\r\n                            req.onsuccess = () => {\r\n                                const entry = req.result;\r\n                                if (entry) {\r\n                                    resolve({\r\n                                        path: `C:/${entry.path}`,\r\n                                        content: entry.content,\r\n                                        type: entry.type\r\n                                    });\r\n                                } else {\r\n                                    reject(new Error(`File not found: ${path}`));\r\n                                }\r\n                            };\r\n                            req.onerror = (event) => {\r\n                                reject(event.target.error);\r\n                            };\r\n                        });\r\n                    }\r\n\r\n                    function deleteIDB(name) {\r\n                        return new Promise((resolve, reject) => {\r\n                            const request = indexedDB.deleteDatabase(name);\r\n\r\n                            request.onsuccess = () => {\r\n                                console.log(`Database '${name}' deleted successfully.`);\r\n                                resolve();\r\n                            };\r\n\r\n                            request.onerror = (event) => {\r\n                                console.warn(`Failed to delete database '${name}':`, event.target.error);\r\n                                reject(event.target.error);\r\n                            };\r\n\r\n                            request.onblocked = () => {\r\n                                console.warn(`Deletion of database '${name}' is blocked (likely due to an open tab).`);\r\n                            };\r\n                        });\r\n                    }\r\n\r\n                    try {\r\n                        const store = db.transaction('C', 'readonly').objectStore('C');\r\n                        const req = store.index('path').getAllKeys();\r\n\r\n                        req.onsuccess = async () => {\r\n                            tasks.read.finish();\r\n\r\n                            const keys = req.result;\r\n                            const all = keys.length;\r\n                            let completed = 0;\r\n                            let skipped = 0;\r\n\r\n                            // Migrate each key to the new database\r\n                            for (const key of keys) {\r\n                                try {\r\n                                    const entry = await readFromOldDatabase(key);\r\n                                    if (entry.type === 'directory') {\r\n                                        if (!fs.exists(entry.path.endsWith('/') ? entry.path : entry.path + '/')) {\r\n                                            await fs.mkdir(entry.path).catch();\r\n                                        }\r\n                                    } else {\r\n                                        if (updateFiles.includes(entry.path)) {\r\n                                            console.warn(`Skipped file: ${entry.path} (system file)`);\r\n                                            skipped++;\r\n                                        } else {\r\n                                            await fs.writeFile(entry.path, entry.content);\r\n                                        }\r\n                                    }\r\n                                    completed++;\r\n                                    tasks.migrate.update(`Migrated ${completed}/${all}: ${entry.path} (${skipped} files skipped)`);\r\n                                } catch (err) {\r\n                                    console.error(`Failed to migrate ${key}:`, err);\r\n                                }\r\n                            }\r\n                            tasks.migrate.update(`Migrated ${completed}/${all} files to new IDBFS (${skipped} files skipped)`);\r\n                            tasks.migrate.finish();\r\n                            db.close();\r\n                            deleteIDB('winbows11').then(tasks.delete.finish).catch(tasks.delete.finish);\r\n                            tasks.delete.finish();\r\n                        };\r\n                        req.onerror = (event) => {\r\n                            db.close();\r\n                            tasks.read.finish();\r\n                            tasks.migrate.finish();\r\n                            deleteIDB('winbows11').then(tasks.delete.finish).catch(tasks.delete.finish);\r\n                            console.error('Error reading old database:', event.target.error);\r\n                        };\r\n                    } catch (e) {\r\n                        db.close();\r\n                        tasks.open.finish();\r\n                        tasks.read.finish();\r\n                        tasks.migrate.finish();\r\n                        deleteIDB('winbows11').then(tasks.delete.finish).catch(tasks.delete.finish);\r\n                    }\r\n                };\r\n                oldDbRequest.onerror = async (event) => {\r\n                    tasks.open.finish();\r\n                    tasks.read.finish();\r\n                    tasks.migrate.finish();\r\n                    deleteIDB('winbows11').then(tasks.delete.finish).catch(tasks.delete.finish);\r\n                }\r\n            }\r\n        })\r\n    })();\r\n}\r\n\r\ntry {\r\n    const URLParams = _utils_js__WEBPACK_IMPORTED_MODULE_10__/* .getJsonFromURL */ ._z();\r\n    fs.writeFile('C:/Winbows/System/.env/location/param.json', new Blob([JSON.stringify(URLParams)], {\r\n        type: 'application/json'\r\n    }))\r\n\r\n    // Simple console\r\n    if (URLParams['logs'] || URLParams['output']) {\r\n\r\n    }\r\n} catch (e) {\r\n    console.error(e);\r\n}\r\n\r\n(0,_devtool_devtool_js__WEBPACK_IMPORTED_MODULE_7__/* [\"default\"] */ .A)();\r\n\r\ntry {\r\n    fs.getFileURL('C:/Winbows/icons/applications/tools/start.ico').then(url => {\r\n        _loading_js__WEBPACK_IMPORTED_MODULE_1__/* .loadingImage */ .GE.style.backgroundImage = `url(${url})`;\r\n    })\r\n} catch (e) {\r\n    console.error(e);\r\n}\r\n\r\n// Lock screen\r\nroot.appendChild(_lockScreen_js__WEBPACK_IMPORTED_MODULE_5__/* .screenLockContainer */ .d);\r\n\r\nwindow.fileIcons = {\r\n    getIcon: (path = '') => {\r\n        const ext = _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__/* .fsUtils */ .P.extname(path);\r\n        if (window.fileIcons.registerd[ext]) {\r\n            return window.fileIcons.registerd[ext];\r\n        } else {\r\n            return window.fileIcons.registerd['*'];\r\n        }\r\n    },\r\n    registerd: {\r\n        // Default\r\n        '*': 'C:/Winbows/icons/files/generic.ico',\r\n        '.jpg': 'C:/Winbows/icons/files/image.ico',\r\n        '.png': 'C:/Winbows/icons/files/image.ico',\r\n        '.gif': 'C:/Winbows/icons/files/image.ico',\r\n        '.svg': 'C:/Winbows/icons/files/image.ico',\r\n        '.webp': 'C:/Winbows/icons/files/image.ico',\r\n        '.jpeg': 'C:/Winbows/icons/files/image.ico',\r\n        '.ico': 'C:/Winbows/icons/files/image.ico',\r\n        '.bmp': 'C:/Winbows/icons/files/image.ico',\r\n        '.mp3': 'C:/Winbows/icons/files/audio.ico',\r\n        '.wav': 'C:/Winbows/icons/files/audio.ico',\r\n        '.ogg': 'C:/Winbows/icons/files/audio.ico',\r\n        '.mp4': 'C:/Winbows/icons/files/video.ico',\r\n        '.webm': 'C:/Winbows/icons/files/video.ico',\r\n        '.avi': 'C:/Winbows/icons/files/video.ico',\r\n        '.mov': 'C:/Winbows/icons/files/video.ico',\r\n        '.txt': 'C:/Winbows/icons/files/text.ico',\r\n        '.exe': 'C:/Winbows/icons/files/program.ico',\r\n        '.zip': 'C:/Winbows/icons/folders/zip.ico',\r\n        '.ttf': 'C:/Winbows/icons/files/font.ico',\r\n        '.otf': 'C:/Winbows/icons/files/font.ico',\r\n        '.woff': 'C:/Winbows/icons/files/font.ico',\r\n        '.woff2': 'C:/Winbows/icons/files/font.ico',\r\n        '.eot': 'C:/Winbows/icons/files/font.ico',\r\n        '.doc': 'C:/Winbows/icons/files/office/worddocument.ico',\r\n        '.docx': 'C:/Winbows/icons/files/office/worddocument.ico',\r\n        '.xls': 'C:/Winbows/icons/files/office/excelsheet.ico',\r\n        '.xlsx': 'C:/Winbows/icons/files/office/excelsheet.ico',\r\n        '.ppt': 'C:/Winbows/icons/files/office/powerpointopen.ico',\r\n        '.pptx': 'C:/Winbows/icons/files/office/powerpointopen.ico',\r\n        // Edge\r\n        '.html': 'C:/Winbows/icons/applications/tools/edge.ico',\r\n        // VSCode\r\n        '.css': 'C:/Program Files/VSCode/File Icons/css.ico',\r\n        '.js': 'C:/Program Files/VSCode/File Icons/javascript.ico',\r\n        '.json': 'C:/Program Files/VSCode/File Icons/json.ico',\r\n        // Winbows script files\r\n        '.wbsf': 'C:/Winbows/icons/files/executable.ico',\r\n        '.wrt': 'C:/Winbows/icons/files/program.ico',\r\n        '.wrt': 'C:/Winbows/icons/files/program.ico',\r\n    },\r\n    register: (ext, icon) => {\r\n        if (ext == '*') return;\r\n        window.fileIcons.registerd[ext] = icon;\r\n    }\r\n}\r\n\r\nwindow.addEventListener('contextmenu', (e) => {\r\n    e.preventDefault();\r\n})\r\n\r\nconst mimeTypes = {\r\n    '.jpg': 'image/jpeg',\r\n    '.jpeg': 'image/jpeg',\r\n    '.png': 'image/png',\r\n    '.gif': 'image/gif',\r\n    '.webp': 'image/webp',\r\n    '.bmp': 'image/bmp',\r\n    '.svg': 'image/svg+xml',\r\n    '.ico': 'image/x-icon',\r\n    '.pdf': 'application/pdf',\r\n    '.txt': 'text/plain',\r\n    '.html': 'text/html',\r\n    '.css': 'text/css',\r\n    '.js': 'application/javascript',\r\n    '.json': 'application/json',\r\n    '.xml': 'application/xml',\r\n    '.zip': 'application/zip',\r\n    '.tar': 'application/x-tar',\r\n    '.gz': 'application/gzip',\r\n    '.mp3': 'audio/mpeg',\r\n    '.wav': 'audio/wav',\r\n    '.ogg': 'audio/ogg',\r\n    '.mp4': 'video/mp4',\r\n    '.webm': 'video/webm',\r\n    '.avi': 'video/x-msvideo',\r\n    '.mov': 'video/quicktime'\r\n};\r\nfunction getMimeType(extension) {\r\n    return mimeTypes[extension.toLowerCase()] || 'application/octet-stream';\r\n}\r\n\r\nlet currentBackgroundImage;\r\nwindow.getBackgroundImage = () => {\r\n    return currentBackgroundImage;\r\n}\r\nwindow.setBackgroundImage = async (image = '') => {\r\n    if (!image || image == currentBackgroundImage) return;\r\n    const stats = fs.stat(image);\r\n    if (stats.exists != true) {\r\n        await fs.downloadFile(image).catch(err => {\r\n            image = 'C:/Winbows/bg/img0.jpg';\r\n            console.warn(err);\r\n        });\r\n    }\r\n    currentBackgroundImage = image;\r\n    localStorage.setItem('WINBOWS_BACKGROUND_IMAGE', currentBackgroundImage);\r\n    const url = await fs.getFileURL(currentBackgroundImage);\r\n    document.querySelector(':root').style.setProperty('--winbows-mica', `url(${url})`);\r\n    const img = new Image();\r\n    img.src = url;\r\n    img.onload = () => {\r\n        var theme = _utils_js__WEBPACK_IMPORTED_MODULE_10__/* .getImageTheme */ .BW(img);\r\n        desktop.classList.remove('winui-light', 'winui-dark');\r\n        desktop.classList.add(`winui-${theme}`);\r\n        _system_js__WEBPACK_IMPORTED_MODULE_3__/* .System */ .i.theme.set(theme);\r\n        backgroundImage.style.backgroundImage = `url(${url})`;\r\n        if (window.modes.debug == true) {\r\n            console.log(theme)\r\n        }\r\n    }\r\n}\r\nwindow.WinbowsUpdate = () => {\r\n    location.href = './install.html';\r\n}\r\n\r\ntry {\r\n    await window.setBackgroundImage(localStorage.getItem('WINBOWS_BACKGROUND_IMAGE') || 'C:/Winbows/bg/img0.jpg');\r\n} catch (e) {\r\n    console.error('Failed to set background image\\n', e);\r\n}\r\n\r\ntry {\r\n    if (!fs.exists('C:/User/')) {\r\n        await fs.mkdir('C:/User/');\r\n    }\r\n    if (!fs.exists('C:/User/Desktop/')) {\r\n        await fs.mkdir('C:/User/Desktop/');\r\n    }\r\n    if (!fs.exists('C:/User/Documents/')) {\r\n        await fs.mkdir('C:/User/Documents/');\r\n    }\r\n    if (!fs.exists('C:/User/Downloads/')) {\r\n        await fs.mkdir('C:/User/Downloads/');\r\n    }\r\n    if (!fs.exists('C:/User/Music/')) {\r\n        await fs.mkdir('C:/User/Music/');\r\n    }\r\n    if (!fs.exists('C:/User/Pictures/')) {\r\n        await fs.mkdir('C:/User/Pictures/');\r\n    }\r\n    if (!fs.exists('C:/User/Videos/')) {\r\n        await fs.mkdir('C:/User/Videos/');\r\n    }\r\n    if (!fs.exists('C:/User/AppData/')) {\r\n        await fs.mkdir('C:/User/AppData/');\r\n    }\r\n    if (!fs.exists('C:/User/AppData/Local/')) {\r\n        await fs.mkdir('C:/User/AppData/Local/');\r\n    }\r\n    if (!fs.exists('C:/User/AppData/Local/Temp/')) {\r\n        await fs.mkdir('C:/User/AppData/Local/Temp/');\r\n    }\r\n} catch (e) {\r\n    console.error(e);\r\n}\r\n\r\n//await BrowserWindow();\r\n/*\r\nconst taskbar = await Taskbar();\r\nWinbows.Screen.appendChild(taskbar.taskbar);\r\nwindow.Winbows.Screen.appendChild(taskbar.startMenuContainer);*/\r\n\r\nscreenElement.appendChild(_taskbar_index_js__WEBPACK_IMPORTED_MODULE_8__/* [\"default\"] */ .A.container);\r\n_taskbar_index_js__WEBPACK_IMPORTED_MODULE_8__/* [\"default\"] */ .A.pinApp('C:/User/Documents/sdk-v1/examples/wrt-terminal-app-demo/app.wrt');\r\n//window.Taskbar.pinApp('C:/Winbows/SystemApps/Microhard.Winbows.Edge.BETA/app.wrt');\r\nawait _taskbar_index_js__WEBPACK_IMPORTED_MODULE_8__/* [\"default\"] */ .A.preloadImage();\r\n\r\n(0,_loading_js__WEBPACK_IMPORTED_MODULE_1__/* .loadingText */ .KQ)(`Almost done!`);\r\nclearInterval(_loading_js__WEBPACK_IMPORTED_MODULE_1__/* .updateProgressId */ .wy);\r\n_loading_js__WEBPACK_IMPORTED_MODULE_1__/* .loadingProgressBar */ .vB.style.width = '90%';\r\n\r\nawait (async () => {\r\n    try {\r\n        const fontName = 'WINBOWS_FONT_' + [...Array(12)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\r\n        const fontURL = await fs.getFileURL('C:/Winbows/fonts/Segoe Fluent Icons.ttf');\r\n        const myFont = new FontFace(fontName, `url(${fontURL})`);\r\n        await myFont.load();\r\n\r\n        document.fonts.add(myFont);\r\n        document.querySelector(':root').style.setProperty('--winbows-font-icon', fontName);\r\n\r\n    } catch (error) {\r\n        console.error('Failed to load font', error);\r\n    }\r\n    return;\r\n})();\r\n\r\n\r\n(async () => {\r\n    // Initialize screen lock \r\n    var init = true;\r\n\r\n    const now = Date.now();\r\n    if (now - _loading_js__WEBPACK_IMPORTED_MODULE_1__/* .startLoadingTime */ .Ss < 1000) {\r\n        await _utils_js__WEBPACK_IMPORTED_MODULE_10__/* .delay */ .cb(1000 - (now - _loading_js__WEBPACK_IMPORTED_MODULE_1__/* .startLoadingTime */ .Ss));\r\n    }\r\n\r\n    _loading_js__WEBPACK_IMPORTED_MODULE_1__/* .loadingProgressBar */ .vB.style.width = '100%';\r\n\r\n    _system_js__WEBPACK_IMPORTED_MODULE_3__/* .System */ .i.desktop.update();\r\n\r\n    // await utils.delay(1000);\r\n\r\n    // Remove loading \r\n    _loading_js__WEBPACK_IMPORTED_MODULE_1__/* .loadingContainer */ .g4.classList.remove('active');\r\n\r\n    (0,_lockScreen_js__WEBPACK_IMPORTED_MODULE_5__/* .setInitFn */ .n)(async function () {\r\n        await _utils_js__WEBPACK_IMPORTED_MODULE_10__/* .delay */ .cb(200);\r\n\r\n        // Initialize Taskbar\r\n        // window.Taskbar.init();\r\n\r\n        Object.values(_appRegistry_js__WEBPACK_IMPORTED_MODULE_9__/* .appRegistry */ .r.apps).forEach(app => {\r\n            if (app.autoExecute == true) {\r\n                const wrt = new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_4__/* .WRT */ .U();\r\n                wrt.runFile(app.entryScript);\r\n            }\r\n        })\r\n\r\n        // Run terminal app test\r\n        !(async () => {\r\n            const wrt = new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_4__/* .WRT */ .U();\r\n            console.log(`wrt-terminal-app-demo started`);\r\n            try {\r\n                const result = await wrt.runFile('C:/User/Documents/sdk-v1/examples/wrt-terminal-app-demo/app.wrt');\r\n                console.log(result.evaluation != null\r\n                    ? 'Executed with evaluation: ' + result.evaluation\r\n                    : 'No evaluation returned');\r\n                console.log(`wrt-terminal-app-demo exit with code`, result.exitCode);\r\n            } catch (err) {\r\n                console.error('RunFile failed:', err);\r\n            }\r\n        })();\r\n\r\n        // For Debugging\r\n        // Test App For iPhone\r\n        // new Process(\"C:/dev/app.iPhoneOS.18.5/app.wrt\").start();\r\n        // new Process(\"C:/dev/windowThemeTest/app.wrt\").start();\r\n    })\r\n\r\n    // Run module test\r\n    !(async () => {\r\n        const wrt = new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_4__/* .WRT */ .U();\r\n        console.log(`Process [ ${wrt.process.pid} ] started`);\r\n        try {\r\n            const result = await wrt.runFile('C:/User/Documents/sdk-v1/examples/wrt-module-demo/app.wrt');\r\n            console.log(result.evaluation != null\r\n                ? 'Executed with evaluation: ' + result.evaluation\r\n                : 'No evaluation returned');\r\n            console.log(`Process [ ${wrt.process.pid} ] exit with code`, result.exitCode);\r\n        } catch (err) {\r\n            console.error('RunFile failed:', err);\r\n        }\r\n    })();\r\n\r\n    console.log(_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__/* .kernelRuntime */ .U, _system_js__WEBPACK_IMPORTED_MODULE_3__/* .System */ .i)\r\n\r\n    // Run shell test\r\n    !(async () => {\r\n        const wrt = new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_4__/* .WRT */ .U();\r\n        console.log(`Process [ ${wrt.process.pid} ] started`);\r\n        try {\r\n            const result = await wrt.runFile('C:/User/Documents/sdk-v1/examples/wrt-shell-demo/app.wrt');\r\n            console.log(result.evaluation != null\r\n                ? 'Executed with evaluation: ' + result.evaluation\r\n                : 'No evaluation returned');\r\n            console.log(`Process [ ${wrt.process.pid} ] exit with code`, result.exitCode);\r\n        } catch (err) {\r\n            console.error('RunFile failed:', err);\r\n        }\r\n    })();\r\n})();\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://winbows11/./src/kernel/kernel.js?\n}")},2102:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _taskbar_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8620);\n/* harmony import */ var _startMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1493);\n/* harmony import */ var _iconManager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7190);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_taskbar_js__WEBPACK_IMPORTED_MODULE_0__, _startMenu_js__WEBPACK_IMPORTED_MODULE_1__, _iconManager_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_taskbar_js__WEBPACK_IMPORTED_MODULE_0__, _startMenu_js__WEBPACK_IMPORTED_MODULE_1__, _iconManager_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n    container: _taskbar_js__WEBPACK_IMPORTED_MODULE_0__/* .taskbar */ .NM,\r\n    ..._iconManager_js__WEBPACK_IMPORTED_MODULE_2__/* .iconManager */ .b\r\n});\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/taskbar/index.js?\n}")},2292:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  A: () => (/* binding */ kernel_devtool_performance_monitor)\n});\n\n// EXTERNAL MODULE: ./src/utils.js\nvar utils = __webpack_require__(248);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\nvar injectStylesIntoStyleTag = __webpack_require__(5072);\nvar injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleDomAPI.js\nvar styleDomAPI = __webpack_require__(7825);\nvar styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertBySelector.js\nvar insertBySelector = __webpack_require__(7659);\nvar insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\nvar setAttributesWithoutAttributes = __webpack_require__(5056);\nvar setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertStyleElement.js\nvar insertStyleElement = __webpack_require__(540);\nvar insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleTagTransform.js\nvar styleTagTransform = __webpack_require__(1113);\nvar styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);\n// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./src/kernel/devtool/performance-monitor.css\nvar performance_monitor = __webpack_require__(3832);\n;// ./src/kernel/devtool/performance-monitor.css\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (styleTagTransform_default());\noptions.setAttributes = (setAttributesWithoutAttributes_default());\noptions.insert = insertBySelector_default().bind(null, \"head\");\noptions.domAPI = (styleDomAPI_default());\noptions.insertStyleElement = (insertStyleElement_default());\n\nvar update = injectStylesIntoStyleTag_default()(performance_monitor/* default */.A, options);\n\n\n\n\n       /* harmony default export */ const devtool_performance_monitor = (performance_monitor/* default */.A && performance_monitor/* default */.A.locals ? performance_monitor/* default */.A.locals : undefined);\n\n;// ./src/kernel/devtool/performance-monitor.js\n\r\n\r\n\r\nfunction createPerformanceMonitor(container, options = {}) {\r\n    const header = document.createElement('div');\r\n    const titleEl = document.createElement('div');\r\n    const valueEl = document.createElement('div');\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    header.className = 'devtool-performance-monitor-header';\r\n    titleEl.className = 'devtool-performance-monitor-title';\r\n    valueEl.className = 'devtool-performance-monitor-value';\r\n    canvas.className = 'devtool-performance-monitor-canvas';\r\n    canvas.style.width = '100%';\r\n    canvas.style.height = '96px';\r\n\r\n    container.appendChild(header);\r\n    header.appendChild(titleEl);\r\n    header.appendChild(valueEl);\r\n    container.appendChild(canvas);\r\n\r\n    const optionMax = options?.max || undefined;\r\n    const optionUnit = options?.unit || '';\r\n    const smooth = options?.smooth ?? true;\r\n    const color = options?.color ?? [167, 203, 255];\r\n    const dataProvider = options?.dataProvider || function () {\r\n        return 0;\r\n    }\r\n\r\n    titleEl.textContent = options?.title ?? 'Title';\r\n    valueEl.textContent = '-';\r\n\r\n    const gapSize = 10;\r\n    const pxPerMs = gapSize / 1000;\r\n    const dataUpdateInterval = 500;\r\n    const topPadding = 24;\r\n\r\n    let dataBuffer = [];\r\n    let currentMax = 0;\r\n    let running = true;\r\n\r\n    function start() {\r\n        if (running == true) return;\r\n        running = true;\r\n        render();\r\n    }\r\n\r\n    function stop() {\r\n        running = false;\r\n    }\r\n\r\n    setInterval(() => {\r\n        const value = dataProvider();\r\n        dataBuffer.push({ value, timestamp: Date.now() });\r\n        valueEl.textContent = value + optionUnit;\r\n    }, dataUpdateInterval);\r\n\r\n    function getMax() {\r\n        if (optionMax) return optionMax;\r\n\r\n        let max = dataBuffer[0]?.value;\r\n        for (let i = 1; i < dataBuffer.length; i++) {\r\n            if (dataBuffer[i].value > max) {\r\n                max = dataBuffer[i].value;\r\n            }\r\n        }\r\n\r\n        if (!max) return 10;\r\n\r\n        const base10 = Math.pow(10, ~~(Math.log10(max)));\r\n        max = Math.ceil(max / base10 / 2) * base10 * 2;\r\n\r\n        const alpha = 0.2\r\n        currentMax = max * alpha + (currentMax || max) * (1 - alpha);\r\n        return currentMax;\r\n    }\r\n\r\n    function render() {\r\n        if (running == false) return;\r\n        (0,utils/* canvasClarifier */.al)(canvas, ctx);\r\n        drawChart();\r\n        drawGrid();\r\n        requestAnimationFrame(render)\r\n    }\r\n\r\n    function drawChart() {\r\n        const w = canvas.offsetWidth,\r\n            h = canvas.offsetHeight;\r\n        const path = new Path2D();\r\n\r\n        let x = 0;\r\n        let lastX = 0;\r\n        let lastY = 0;\r\n\r\n        if (dataBuffer.length > 0) {\r\n            const max = getMax();\r\n            const chartHeight = h - topPadding;\r\n            const now = Date.now();\r\n\r\n            function convertY(y) {\r\n                return (1 - y / max) * chartHeight + topPadding;\r\n            }\r\n\r\n            x = w - (now - dataBuffer[0].timestamp) * pxPerMs;\r\n            path.moveTo(x, convertY(0));\r\n            lastX = w + dataUpdateInterval * pxPerMs;\r\n            lastY = convertY(dataBuffer[dataBuffer.length - 1].value);\r\n            path.lineTo(lastX, convertY(0));\r\n\r\n            let i = dataBuffer.length - 1;\r\n            while (lastX > 0 && i >= 0) {\r\n                const item = dataBuffer[i];\r\n                const y = convertY(item.value);\r\n                x = w - (now - item.timestamp - dataUpdateInterval) * pxPerMs;\r\n                if (smooth) {\r\n                    const midX = (lastX + x) / 2;\r\n                    path.bezierCurveTo(midX, lastY, midX, y, x, y);\r\n                } else {\r\n                    path.lineTo(x, lastY);\r\n                    path.lineTo(x, y);\r\n                }\r\n                lastX = x;\r\n                lastY = y;\r\n                i--;\r\n            }\r\n\r\n            if (i >= 0) {\r\n                dataBuffer.splice(0, i + 1);\r\n            }\r\n\r\n            ctx.fillStyle = `rgba(${color[0]}, ${color[1]}, ${color[2]}, 0.25)`;\r\n            ctx.fill(path);\r\n            ctx.lineWidth = 0.5;\r\n            ctx.strokeStyle = `rgba(${color[0]}, ${color[1]}, ${color[2]}, 1)`;\r\n            ctx.stroke(path);\r\n        }\r\n    }\r\n\r\n    function drawGrid() {\r\n        const now = Date.now();\r\n        const w = canvas.offsetWidth,\r\n            h = canvas.offsetHeight;\r\n        const len = dataBuffer.length;\r\n\r\n        if (len > 0) {\r\n            const max = getMax();\r\n            const chartHeight = h - topPadding;\r\n            const now = Date.now();\r\n\r\n            function convertY(y) {\r\n                return (1 - y / max) * chartHeight + topPadding;\r\n            }\r\n\r\n            // Cols\r\n            const labelDistanceSeconds = 10;\r\n            const currentTime = Date.now() / 1000;\r\n            ctx.fillStyle = '#ffffff88';\r\n            for (let sec = Math.ceil(currentTime); ; --sec) {\r\n                const x = w - ((currentTime - sec) * 1000 - dataUpdateInterval) * pxPerMs;\r\n                if (x < -50) {\r\n                    break;\r\n                }\r\n                ctx.beginPath();\r\n                ctx.moveTo(x, 0);\r\n                ctx.lineTo(x, h);\r\n                if (sec >= 0 && sec % labelDistanceSeconds === 0) {\r\n                    ctx.fillText(new Date(sec * 1000).format('hh:mm:ss'), x + 4, 12);\r\n                }\r\n                ctx.strokeStyle = sec % labelDistanceSeconds ? '#ffffff0d' : '#ffffff35';\r\n                ctx.stroke();\r\n            }\r\n\r\n            // Rows\r\n            let base = Math.pow(10, Math.floor(Math.log10(max)));\r\n            const firstDigit = Math.floor(max / base);\r\n            if (firstDigit !== 1 && firstDigit % 2 === 1) {\r\n                base *= 2;\r\n            }\r\n            let scaleValue = Math.floor(max / base) * base;\r\n\r\n            ctx.beginPath();\r\n            ctx.strokeStyle = '#ffffff35';\r\n            ctx.fillStyle = '#ffffff88';\r\n            for (let i = 0; i < 2; ++i) {\r\n                let y = convertY(scaleValue);\r\n                const labelText = scaleValue + optionUnit;\r\n                ctx.moveTo(0, y);\r\n                ctx.lineTo(4, y);\r\n                ctx.moveTo(ctx.measureText(labelText).width + 12, y);\r\n                ctx.lineTo(w, y);\r\n                ctx.fillText(labelText, 8, convertY(scaleValue) + 3);\r\n                scaleValue /= 2;\r\n            }\r\n            ctx.stroke();\r\n            ctx.beginPath();\r\n            ctx.moveTo(0, h + 0.5);\r\n            ctx.lineTo(w, h + 0.5);\r\n            ctx.strokeStyle = '#ffffff35';\r\n            ctx.stroke()\r\n        }\r\n    }\r\n\r\n    render();\r\n\r\n    return { start, stop };\r\n}\r\n\r\nlet prevTime = Date.now(),\r\n    performance_monitor_frames = 0;\r\nlet interval = 500;\r\nlet scale = 1000 / interval;\r\nlet fps = 0;\r\nrequestAnimationFrame(function loop() {\r\n    const time = Date.now();\r\n    performance_monitor_frames++;\r\n    if (time > prevTime + interval) {\r\n        fps = Math.round((performance_monitor_frames * scale * interval) / (time - prevTime));\r\n\r\n        prevTime = time;\r\n        performance_monitor_frames = 0;\r\n    }\r\n    requestAnimationFrame(loop);\r\n});\r\n\r\nconst performanceMonitor = document.createElement('div');\r\nconst fpsMonitor = document.createElement('div');\r\nconst usedJSHeapSizeMonitor = document.createElement('div');\r\nconst monitors = [];\r\n\r\nperformanceMonitor.className = 'devtool-performance-monitor';\r\nfpsMonitor.className = 'devtool-performance-monitor-item';\r\nusedJSHeapSizeMonitor.className = 'devtool-performance-monitor-item';\r\n\r\nperformanceMonitor.appendChild(fpsMonitor);\r\n\r\nmonitors.push(createPerformanceMonitor(fpsMonitor, {\r\n    title: 'FPS',\r\n    dataProvider: () => fps,\r\n}));\r\n\r\nif (performance.memory) {\r\n    performanceMonitor.appendChild(usedJSHeapSizeMonitor);\r\n    monitors.push(createPerformanceMonitor(usedJSHeapSizeMonitor, {\r\n        title: 'Used JS Heap Size',\r\n        unit: 'MB',\r\n        color: [175, 113, 255],\r\n        dataProvider: () => (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(1)\r\n    }))\r\n}\r\n\r\n/* harmony default export */ const kernel_devtool_performance_monitor = ({\r\n    container: performanceMonitor,\r\n    monitors\r\n});\n\n//# sourceURL=webpack://winbows11/./src/kernel/devtool/performance-monitor.js_+_1_modules?\n}")},2348:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   p: () => (/* binding */ commandRegistry)\n/* harmony export */ });\n/* harmony import */ var _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6450);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(248);\n/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2810);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3379);\n/* harmony import */ var _appRegistry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1123);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__, _kernel_js__WEBPACK_IMPORTED_MODULE_1__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_3__]);\n([_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__, _kernel_js__WEBPACK_IMPORTED_MODULE_1__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CommandRegistry {\r\n    constructor() {\r\n        this.commands = new Map();\r\n    }\r\n\r\n    /**\r\n     * Register command\r\n     * @param {string|string[]} name \r\n     * @param {Function} fn \r\n     */\r\n    register(name, fn) {\r\n        if (Array.isArray(name)) {\r\n            name.forEach(n => {\r\n                this.commands.set(n, fn);\r\n            })\r\n        } else {\r\n            this.commands.set(name, fn);\r\n        }\r\n    }\r\n\r\n    deregister(name) {\r\n        this.commands.delete(name);\r\n    }\r\n\r\n    list() {\r\n        return this.commands.keys();\r\n    }\r\n\r\n    get(name) {\r\n        return this.commands.get(name);\r\n    }\r\n\r\n    has(name) {\r\n        return this.commands.has(name);\r\n    }\r\n}\r\n\r\nconst commandRegistry = new CommandRegistry();\r\n\r\n//=========== File and directory operations ===========//\r\n\r\n// Change directory\r\ncommandRegistry.register(['cd', 'chdir'], ({ args }, shell) => {\r\n    let target = args[0];\r\n    if (!target) return true;\r\n\r\n    target = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolveEnvPath(target);\r\n    const resolvedDir = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.normalize(shell.root + shell.pwd), target);\r\n    const dir = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.toDirFormat(resolvedDir);\r\n\r\n    if (!_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.isValidAbsolutePath(dir)) {\r\n        shell.stderr.write(`Invalid directory: ${target}\\n`);\r\n        return false;\r\n    }\r\n    if (!shell.fs.exists(dir)) {\r\n        shell.stderr.write(`Directory not found: ${target}\\n`);\r\n        return false;\r\n    }\r\n    if (!dir?.toUpperCase().startsWith(shell.root)) {\r\n        shell.stderr.write(`Access denied: ${target}\\n`);\r\n        return false;\r\n    }\r\n\r\n    const pwd = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(shell.pwd, target);\r\n    shell.pwd = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.parsePath(pwd).path;\r\n    return true;\r\n});\r\n\r\n// List directory\r\ncommandRegistry.register('dir', async ({ args }, shell) => {\r\n    let displayAll = false;\r\n    let displaySubdir = false;\r\n    let displayMinimally = false;\r\n    let argString = args.join(' ');\r\n\r\n    // Display all types\r\n    if (/\\/[aA]/i.test(argString)) displayAll = true;\r\n\r\n    // Display subdirectory\r\n    if (/\\/[sS]/i.test(argString)) displaySubdir = true;\r\n\r\n    // No header\r\n    if (/\\/[bB]/i.test(argString)) displayMinimally = true;\r\n\r\n    const contents = await shell.fs.readdir(_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.normalize(shell.root + shell.pwd), {\r\n        recursive: displaySubdir\r\n    });\r\n    for (const path of contents) {\r\n        const name = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.basename(path);\r\n        if (displayMinimally) {\r\n            shell.stdout.write(name + '\\n');\r\n        } else {\r\n            const stat = shell.fs.stat(path);\r\n            const date = new Date(stat.lastModifiedTime);\r\n            let dateString = '';\r\n            if (isNaN(date)) {\r\n                dateString = 'Invalid date';\r\n            } else {\r\n                const day = date.format(\"yyyy/MM/dd\");\r\n                const time = (date.format(\"hh\") < 13 ? date.format(\"hh:mm\") : new Date(date.getTime() - 12 * 1000 * 60 * 60).format(\"hh:mm\")) + (date.format(\"hh\") < 12 ? ' AM' : ' PM');\r\n                dateString = day + ' ' + time;\r\n            }\r\n            shell.stdout.write(dateString + '\\t' + (stat.type == 'directory' ? '<DIR>\\t\\t' : '\\t' + stat.length + '\\t') + name + '\\n');\r\n        }\r\n    }\r\n\r\n    return true;\r\n})\r\n\r\n// Make directory\r\ncommandRegistry.register(['md', 'mkdir'], async ({ args }, shell) => {\r\n    let dirname = args[0];\r\n    if (!dirname) {\r\n        shell.stderr.write('Usage: md|mkdir <path>\\n');\r\n        return false;\r\n    }\r\n\r\n    dirname = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolveEnvPath(dirname);\r\n    const resolvedDir = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.normalize(shell.root + shell.pwd), dirname);\r\n    const dir = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.toDirFormat(resolvedDir);\r\n\r\n    if (!_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.isValidAbsolutePath(dir)) {\r\n        shell.stderr.write(`Invalid directory: ${dirname}\\n`);\r\n        return false;\r\n    }\r\n    if (shell.fs.exists(dir)) {\r\n        shell.stderr.write(`Directory already exists: ${dirname}\\n`);\r\n        return false;\r\n    }\r\n    if (!dir?.toUpperCase().startsWith(shell.root)) {\r\n        shell.stderr.write(`Access denied: ${dirname}\\n`);\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        await shell.fs.mkdir(dir);\r\n        return true;\r\n    } catch (e) {\r\n        shell.stderr.write('Error: ' + e.name + ', Message: ' + e.message + '\\n');\r\n        return false;\r\n    }\r\n})\r\n\r\n// Remove directory\r\ncommandRegistry.register(['rd', 'rmdir'], async ({ args }, shell) => {\r\n    let dirname = args[0];\r\n    if (!dirname) {\r\n        shell.stderr.write('Usage: rd|rmdir <path> [/s [/q]]\\n');\r\n        return false;\r\n    }\r\n\r\n    dirname = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolveEnvPath(dirname);\r\n    const resolvedDir = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.normalize(shell.root + shell.pwd), dirname);\r\n    const dir = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.toDirFormat(resolvedDir);\r\n\r\n    if (!_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.isValidAbsolutePath(dir)) {\r\n        shell.stderr.write(`Invalid directory: ${dirname}\\n`);\r\n        return false;\r\n    }\r\n    if (!shell.fs.exists(dir)) {\r\n        shell.stderr.write(`Directory not found: ${dirname}\\n`);\r\n        return false;\r\n    }\r\n    if (!dir?.toUpperCase().startsWith(shell.root)) {\r\n        shell.stderr.write(`Access denied: ${dirname}\\n`);\r\n        return false;\r\n    }\r\n\r\n    let argString = args.slice(1).join(' ');\r\n    let recursive = false;\r\n    let quietMode = false;\r\n\r\n    // Subitems\r\n    if (/\\/[sS]/i.test(argString)) recursive = true;\r\n\r\n    // Quiet mode\r\n    if (/\\/[qQ]/i.test(argString)) quietMode = true;\r\n\r\n    // Show prompt\r\n    if (quietMode == false) {\r\n        const confirm = await shell.input(`Confirm to remove the directory ${dir} (y/n)?`, 'normal');\r\n        if (confirm.search(/[yY]/i) == -1) return true;\r\n    }\r\n\r\n    try {\r\n        await shell.fs.rm(dir, {\r\n            recursive,\r\n            force: quietMode\r\n        });\r\n        shell.stdout.write('Directory removed successfully\\n');\r\n        return true;\r\n    } catch (e) {\r\n        shell.stderr.write('Error: ' + e.name + ', Message: ' + e.message + '\\n');\r\n        return false;\r\n    }\r\n})\r\n\r\n// Remove file\r\ncommandRegistry.register(['del', 'erase'], async ({ args }, shell) => {\r\n    let path = args[0];\r\n    if (!path) {\r\n        shell.stderr.write('Usage: del|erase <path> [/p] [/s] [/q]\\n');\r\n        return false;\r\n    }\r\n\r\n    path = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolveEnvPath(path);\r\n    const resolvedPath = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.normalize(shell.root + shell.pwd), path);\r\n\r\n    if (!resolvedPath?.toUpperCase().startsWith(shell.root)) {\r\n        shell.stderr.write(`Access denied: ${path}\\n`);\r\n        return false;\r\n    }\r\n\r\n    let argString = args.slice(1).join(' ');\r\n    let recursive = false;\r\n    let quietMode = false;\r\n\r\n    // Show prompt\r\n    if (/\\/[pP]/i.test(argString)) quietMode = false;\r\n\r\n    // Subitems\r\n    if (/\\/[sS]/i.test(argString)) recursive = true;\r\n\r\n    // Quiet mode\r\n    if (/\\/[qQ]/i.test(argString)) quietMode = true;\r\n\r\n    // Show prompt\r\n    if (quietMode == false) {\r\n        const confirm = await shell.input(`Confirm to delete the item ${resolvedPath} (y/n)?`, 'normal');\r\n        if (confirm.search(/[yY]/i) == -1) return true;\r\n    }\r\n\r\n    try {\r\n        await shell.fs.rm(resolvedPath, {\r\n            force: quietMode\r\n        });\r\n        shell.stdout.write('Item removed successfully\\n');\r\n    } catch (e) {\r\n        shell.stderr.write(`Could not delete ${resolvedPath}: ${e.message}\\n`);\r\n    }\r\n\r\n    return true;\r\n})\r\n\r\n//=========== System info and management ===========//\r\n\r\ncommandRegistry.register('tasklist', (_, shell) => {\r\n    const table = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__/* .terminalTable */ .RX)(shell.stdout, [{\r\n        size: 16,\r\n        text: 'Name'\r\n    }, {\r\n        size: 8,\r\n        text: 'PID',\r\n        align: 'right'\r\n    }, {\r\n        size: 24,\r\n        text: 'Title'\r\n    }, {\r\n        size: 16,\r\n        text: 'Runtime ID'\r\n    }]);\r\n\r\n    Object.keys(_kernel_js__WEBPACK_IMPORTED_MODULE_1__/* .tasklist */ .e).forEach(k => {\r\n        try {\r\n            const task = _kernel_js__WEBPACK_IMPORTED_MODULE_1__/* .tasklist */ .e[k];\r\n            table.row([{ text: _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.basename(task.__filename || '') }, { text: String(task.process.pid) }, { text: task.title }, { text: k }]);\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    })\r\n\r\n    shell.stdout.write('\\r\\n');\r\n\r\n    return true;\r\n})\r\n\r\ncommandRegistry.register('taskkill', ({ args }, shell) => {\r\n\r\n})\r\n\r\ncommandRegistry.register('start', async ({ args }, shell) => {\r\n    const uri = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__/* .parseURI */ .o_)(args[0]);\r\n    if (!uri.scheme) {\r\n        shell.stderr.write(`Invalid URI: ${args[0]}\\n`);\r\n        return false;\r\n    }\r\n\r\n    const app = _appRegistry_js__WEBPACK_IMPORTED_MODULE_3__/* .appRegistry */ .r.getInfo(uri.scheme);\r\n    if (!app || !app.entryScript) {\r\n        shell.stderr.write(`Can not found file ${uri.scheme}.\\n`);\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        const wrt = new _kernel_js__WEBPACK_IMPORTED_MODULE_1__/* .WRT */ .U();\r\n        const result = await wrt.runFile(app.entryScript, {\r\n            uri\r\n        });\r\n        shell.stdout.write(result.evaluation + '\\n');\r\n        return true;\r\n    } catch (e) {\r\n        shell.stderr.write(e.message + '\\n');\r\n        return false;\r\n    }\r\n})\r\n\r\n// Set env key\r\ncommandRegistry.register('set', ({ args }, shell) => {\r\n    const kv = (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__/* .parseKeyValueArgs */ .rf)(args);\r\n    if (Object.keys(kv).length === 0) {\r\n        shell.stderr.write('Usage: set KEY=VALUE\\n');\r\n        return false;\r\n    }\r\n    try {\r\n        for (const [key, val] of Object.entries(kv)) {\r\n            shell.setEnv(key, val);\r\n        }\r\n        return true;\r\n    } catch (e) {\r\n        shell.stderr.write(e.message + '\\n');\r\n        return false;\r\n    }\r\n});\r\n\r\n// Unset env key\r\ncommandRegistry.register('unset', ({ args, flag }, shell) => {\r\n    if (args.length !== 1) {\r\n        shell.stderr.write('Usage: unset KEY\\n');\r\n        return false;\r\n    }\r\n    try {\r\n        shell.unsetEnv(args[0]);\r\n        return true;\r\n    } catch (e) {\r\n        shell.stderr.write(e.message + '\\n');\r\n        return false;\r\n    }\r\n})\r\n\r\n// List env keys\r\ncommandRegistry.register('env', (_, shell) => {\r\n    const env = shell.getAllEnv();\r\n    for (const [key, val] of Object.entries(env)) {\r\n        shell.stdout.write(`${key}=${val}\\n`);\r\n    }\r\n    return true;\r\n});\r\n\r\n// Clear screen\r\ncommandRegistry.register('cls', (_, shell) => {\r\n    shell.stdout.clear?.();\r\n    return true;\r\n})\r\n\r\n// Print Working Directory\r\ncommandRegistry.register('pwd', (_, shell) => {\r\n    let pwd = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.normalize(shell.root + shell.pwd);\r\n    if (/^[a-zA-Z]:$/i.test(pwd)) {\r\n        pwd += '/';\r\n    }\r\n    shell.stdout.write(pwd + '\\n');\r\n    return true;\r\n})\r\n\r\n// Exit shell\r\ncommandRegistry.register('exit', ({ args }, shell) => {\r\n    const exitCode = args[0] || 0;\r\n    shell.active = false;\r\n    shell.fs?.quit?.();\r\n    shell.stdout.write?.(`Shell exited with code ${exitCode}\\n`);\r\n    shell._emit('dispose', exitCode);\r\n    return true;\r\n})\r\n\r\n//==== Text processing and file operation assistance ====//\r\n\r\n// Echo\r\ncommandRegistry.register('echo', ({ args, flag }, shell) => {\r\n    shell.stdout.write(args.join(' ') + '\\n');\r\n    return true;\r\n})\r\n\r\n// Help\r\ncommandRegistry.register('help', ({ args, flag }, shell) => {\r\n    const commands = commandRegistry.list();\r\n    shell.stdout.write(`Available commands:\\n${[...commands].join('\\n')}\\n`);\r\n    return true;\r\n})\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/shell/commandRegistry.js?\n}")},2614:(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1601);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6314);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4417);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);\n// Imports\n\n\n\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(6735), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(9191), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(/* asset import */ __webpack_require__(1079), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(/* asset import */ __webpack_require__(367), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(/* asset import */ __webpack_require__(2840), __webpack_require__.b);\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_4___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.obj-viewer-container{--default-color:#e3e2e3;--key-color:#8eacf2;--close:url(${___CSS_LOADER_URL_REPLACEMENT_0___});--open:url(${___CSS_LOADER_URL_REPLACEMENT_1___});color:var(--default-color);cursor:default;display:flex;display:inline-flex;flex-direction:column;font-family:monospace;font-size:100%;height:fit-content;max-width:100%;overflow:auto;position:relative;vertical-align:text-top}.obj-viewer-container *{font-size:100%}.obj-viewer-container ::selection{background:#b8c6ff;color:#000}.obj-viewer-overview{align-items:center;display:flex}.obj-viewer-container .obj-viewer-overview{font-style:italic}.obj-viewer-key{color:var(--key-color);font-weight:bolder}.obj-viewer-value{font-weight:400}.obj-viewer-key-preview,.obj-viewer-value-preview{font-weight:400;line-height:1;margin-left:0}.obj-viewer-line{align-items:center;display:flex}.obj-viewer-expand{height:14px;mask-size:auto;min-height:14px;min-width:14px;transition:all .1s ease-in-out;width:14px}.obj-viewer-content{padding-left:12px}[data-expandable=true] .obj-viewer-expand{mask-image:var(--close)}[data-expand=true][data-expandable=true] .obj-viewer-expand{transform:rotate(90deg)}[data-expand=false][data-expandable=true] .obj-viewer-expand{mask-image:var(--close)}[data-expandable=true] .obj-viewer-expand{background-color:currentColor}.obj-viewer-item{display:flex;flex-direction:column}.obj-viewer-next{padding-left:12px;position:relative}.obj-viewer-value-generic{color:var(--default-color)}.obj-viewer-value-regexp,.obj-viewer-value-string,.obj-viewer-value-symbol{color:#61caff}.obj-viewer-value-empty,.obj-viewer-value-null,.obj-viewer-value-undefined{color:#868686}.obj-viewer-value-desc,.obj-viewer-value-preview .obj-viewer-key{color:#a0a0a0}.obj-viewer-value-boolean,.obj-viewer-value-number{color:#9783f7}.obj-viewer-value-function{font-style:italic}.obj-viewer-value-styleless *{color:var(--default-color)}.obj-viewer-line[data-expand=true]~.obj-viewer-next,.obj-viewer-overview[data-expand=true]~.obj-viewer-content{display:block}.obj-viewer-line[data-expand=false]~.obj-viewer-next,.obj-viewer-overview[data-expand=false]~.obj-viewer-content{display:none}.obj-viewer-key,.obj-viewer-overview-content,.obj-viewer-value{white-space:nowrap}.obj-viewer-line.active,.obj-viewer-line:hover,.obj-viewer-overview.active,.obj-viewer-overview:hover{background:#63636366!important}.obj-viewer-line,.obj-viewer-overview{border-radius:4px;padding:2px;white-space:pre}.obj-viewer-next:after,.obj-viewer-overview:after{border-left:1px solid #6e6e6e;bottom:7px;content:"";display:block;height:calc(100% - 10px);left:9px;pointer-events:none;position:absolute;top:3px;width:1px}.obj-viewer-overview:after{bottom:7px;height:calc(100% - 26px);top:19px}.log-module_logContainer__RTRoP{word-wrap:break-word;--error-bg:rgba(255,106,86,.21);--error-icon-bg:#f84848;--error-color:#ffa8a0;--warn-bg:rgba(221,190,64,.21);--warn-icon-bg:#e89430;--warn-color:#ffec9e;--info-bg:rgba(126,174,255,.21);--info-icon-bg:#259ced;--info-color:#a0cbff;display:flex;padding:.25rem;position:relative;white-space:pre-wrap}.log-module_logContainer__RTRoP.log-module_noSep__kpXQI{padding:.25rem 0 0}.log-module_logContainer__RTRoP.log-module_pt0__gmfNw{padding-top:0}.log-module_logContainer__RTRoP.log-module_pt5__0Nnes{padding-top:5px}.log-module_logContainer__RTRoP:not(.log-module_noSep__kpXQI)+.log-module_logContainer__RTRoP:not(.log-module_noSep__kpXQI):before{border-top:1px solid #484848;content:"";display:block;left:0;position:absolute;top:0;width:100%}.log-module_logIndent__hkxtj{display:flex;height:inherit;width:fit-content}.log-module_logLevelIndent__fcg-q{display:block;height:100%;position:relative;width:1rem}.log-module_logItem__nEqRs{display:flex;flex:1;overflow:hidden}.log-module_logItem__nEqRs.log-module_error__bESfD,.log-module_logItem__nEqRs.log-module_info__GH1qz,.log-module_logItem__nEqRs.log-module_warn__XWTVJ{border-radius:.25rem;padding:.125rem .375rem}.log-module_logItem__nEqRs.log-module_warn__XWTVJ{background:var(--warn-bg);color:var(--warn-color)}.log-module_logItem__nEqRs.log-module_error__bESfD{background:var(--error-bg);color:var(--error-color)}.log-module_logItem__nEqRs.log-module_info__GH1qz{background:var(--info-bg);color:var(--info-color)}.log-module_logIcon__gF-Ax.log-module_error__bESfD,.log-module_logIcon__gF-Ax.log-module_info__GH1qz,.log-module_logIcon__gF-Ax.log-module_warn__XWTVJ{height:.925rem;margin-right:.25rem;mask-position:center center;mask-repeat:no-repeat;mask-size:99%;width:.925rem}.log-module_logIcon__gF-Ax.log-module_warn__XWTVJ{background-color:var(--warn-icon-bg);mask-image:url(${___CSS_LOADER_URL_REPLACEMENT_2___})}.log-module_logIcon__gF-Ax.log-module_error__bESfD{background-color:var(--error-icon-bg);mask-image:url(${___CSS_LOADER_URL_REPLACEMENT_3___})}.log-module_logIcon__gF-Ax.log-module_info__GH1qz{background-color:var(--info-icon-bg);mask-image:url(${___CSS_LOADER_URL_REPLACEMENT_4___})}.log-module_logCountContainer__2csmc{width:fit-content}.log-module_logCount__N-mMq{background:#9a9a9a;border-radius:99px;color:#000;font-weight:700;margin-right:.25rem;padding:0 .25rem;width:fit-content}.log-module_warn__XWTVJ .log-module_logCount__N-mMq{background:var(--warn-icon-bg)}.log-module_error__bESfD .log-module_logCount__N-mMq{background:var(--error-icon-bg)}.log-module_info__GH1qz .log-module_logCount__N-mMq{background:var(--info-icon-bg)}.log-module_logContent__emWWb{overflow:hidden;width:100%}.log-module_logPlaintext__BA4Xk{min-height:inherit}.log-module_logPlaintext__BA4Xk:empty:before{content:" ";display:block;min-height:inherit}.log-module_logStyled__ebxwy{display:inline-block}.log-module_logClear__v-Zvg{color:#a0a0a0;font-style:italic}.log-module_collapsibleContainer__-Df9-{display:flex;flex-direction:column}.log-module_collapsibleSummaryContainer__88ugq{display:flex;width:auto}.log-module_collapsibleSummaryIconContainer__SuhjM{display:block}.log-module_collapsibleSummaryIcon__drjo9{background-color:#e3e2e3;height:14px;mask-image:url(${___CSS_LOADER_URL_REPLACEMENT_0___});mask-size:auto;min-height:14px;min-width:14px;position:relative;top:.5px;transition:all .1s ease-in-out;width:14px}.log-module_collapsibleContainer__-Df9-:not(.log-module_collapsed__FjxOv) .log-module_collapsibleSummaryIcon__drjo9{transform:rotate(90deg)}.log-module_collapsibleSummary__xbyOi{flex:1}.log-module_collapsibleContentContainer__z-1W3{display:block}.log-module_collapsibleContainer__-Df9-.log-module_collapsed__FjxOv .log-module_collapsibleContentContainer__z-1W3{display:none}.log-module_collapsibleContent__sKUKu{padding-left:.875rem}.log-module_tableContainer__vh3ut{--border-color:#484848;--odd-background:#161616;--even-background:#212121;padding:0 0 .25rem;width:inherit}.log-module_table__LCElu{border:1px solid var(--border-color);border-spacing:0;table-layout:fixed;width:100%}.log-module_table__LCElu td,.log-module_table__LCElu th{font-weight:400;height:1.375rem;overflow:hidden;padding:.25rem .5rem;text-align:left;text-overflow:ellipsis;white-space:nowrap}.log-module_tableBody__uGV9y,.log-module_tableHeader__wL3Wr{width:100%}.log-module_tableHeader__wL3Wr{background:transparent;border:none}.log-module_tableHeaderCell__eBa-G{border-bottom:1px solid var(--border-color);position:relative}.log-module_tableHeaderCellCaret__aubAp{background-color:#e3e2e3;display:block;height:14px;margin-left:auto;mask-image:url(${___CSS_LOADER_URL_REPLACEMENT_0___});mask-size:auto;min-height:14px;min-width:14px;position:absolute;right:4px;top:4px;transform:rotate(90deg);transition:all .1s ease-in-out;width:14px}.log-module_tableHeaderCellCaret__aubAp.log-module_up__AW6is{transform:rotate(-90deg)}.log-module_tableCell__5KzwY+.log-module_tableCell__5KzwY,.log-module_tableHeaderCell__eBa-G+.log-module_tableHeaderCell__eBa-G{border-left:1px solid var(--border-color)}.log-module_tableHeaderCell__eBa-G:hover{background:hsla(0,0%,100%,.05)}.log-module_tableRow__LYjh-:nth-child(2n-1){background:var(--odd-background)}.log-module_tableRow__LYjh-:nth-child(2n){background:var(--even-background)}.devtool-module_devtool__40Bsh{-webkit-overflow-scrolling:touch;background:#1e1e1e;color:#efefef;color-scheme:dark;cursor:default;font-family:Consolas,monospace;font-size:12px;height:100%;overflow-y:auto;position:relative}.devtool-module_devtool__40Bsh ::selection{background:#b8c6ff;color:#000}.devtool-module_devtool__40Bsh,.devtool-module_devtool__40Bsh *{box-sizing:border-box}.devtool-module_devtool__40Bsh a{color:#b8c6ff}.devtool-module_devtoolLogsArea__PZMBh{height:fit-content;position:relative}.devtool-module_devtoolMeasurementArea__CDPbA{height:0;height:fit-content;left:0;pointer-events:none;top:0;visibility:hidden;z-index:-1}.devtool-module_devtoolLogs__BDFhB,.devtool-module_devtoolMeasurementArea__CDPbA{overflow-x:hidden;padding:.5rem;position:absolute;width:100%}`, ""]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://winbows11/./src/lib/external/winbows-devtool/dist/index.css?./node_modules/css-loader/dist/cjs.js\n}')},2810:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   U: () => (/* binding */ WinbowsNodejsRuntime),\n/* harmony export */   e: () => (/* binding */ tasklist)\n/* harmony export */ });\n/* harmony import */ var _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6450);\n/* harmony import */ var _process_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(248);\n/* harmony import */ var _shell_shell_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3828);\n/* harmony import */ var _ui_winui_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3477);\n/* harmony import */ var _User_AppData_Roaming_wrt_wrt_modules_packages_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1161);\n/* harmony import */ var _WApplication_v2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9306);\n/* harmony import */ var _lib_external_winbows_devtool_dist_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(8199);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__, _process_js__WEBPACK_IMPORTED_MODULE_1__, _shell_shell_js__WEBPACK_IMPORTED_MODULE_2__, _WApplication_v2_js__WEBPACK_IMPORTED_MODULE_5__]);\n([_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__, _process_js__WEBPACK_IMPORTED_MODULE_1__, _shell_shell_js__WEBPACK_IMPORTED_MODULE_2__, _WApplication_v2_js__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst fs = (0,_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .IDBFS */ .J)(\"~WRT\");\r\nconst consoleStyle = 'color:#fff;background:#0067c0;padding:2px 4px;border-radius:4px; font-weight: normal;';\r\nconst definitionCodes = `/*!\\n * Winbows Node.js Runtime (c) Siyu1017 ${new Date().getFullYear()}\\n * Learn more in the Winbows Developer app in the start menu\\n */\\nconst {fs,path,process,__dirname,__filename,requireAsync,module,exports,runtimeID,ShellInstance,WinUI,WApplication,\\nconsole,setInterval,clearInterval,setTimeout,clearTimeout // Proxy APIs\\n}=this;\\n`;\r\n\r\nlet builtinPackages = _User_AppData_Roaming_wrt_wrt_modules_packages_json__WEBPACK_IMPORTED_MODULE_4__/* .packages */ .U;\r\nif (!fs.exists('%appdata%/wrt/wrt_modules/')) {\r\n    await fs.mkdir('%appdata%/wrt/wrt_modules/');\r\n}\r\nfor (const mod of Object.values(builtinPackages)) {\r\n    if (mod.main) {\r\n        try {\r\n            await fs.downloadFile('%appdata%/wrt/wrt_modules/' + mod.pd + '/package.json');\r\n            await fs.downloadFile(_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve('%appdata%/wrt/wrt_modules/' + mod.pd + '/', mod.main));\r\n            await fs.downloadFile('%appdata%/wrt/wrt_modules/' + mod.pd + '/README.md');\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n        mod.main = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve('%appdata%/wrt/wrt_modules/' + mod.pd + '/', mod.main);\r\n    }\r\n}\r\n\r\nfunction codeWrapper(code, filename = \"<anonymous>\") {\r\n    const fn = new Function(`return (async function() {\\n${definitionCodes}\\n${code}\\n});\\n//# sourceURL=${filename}`)();\r\n    return fn;\r\n}\r\n\r\nconst process = Symbol('process');\r\nconst timeouts = Symbol('timeouts');\r\nconst intervals = Symbol('intervals');\r\nconst modules = Symbol('modules');\r\nconst hasRun = Symbol('hasRun');\r\nconst runtimeID = Symbol('runtimeID');\r\nconst fss = Symbol('fss');\r\nconst alive = Symbol('alive');\r\nconst devtool = Symbol('devtool');\r\nconst WApplicationPath = Symbol('wap');\r\nconst WApplicationAPI = Symbol('waapi');\r\n\r\nconst tasklist = {};\r\n\r\nclass WinbowsNodejsRuntime {\r\n    constructor(cwd, options = {}) {\r\n        this.keepAlive = options?.keepAlive ?? false;\r\n        this.subProcess = options?.subProcess ?? false;\r\n\r\n        this.cwd = cwd ? _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.toDirFormat(cwd) : this.defaultCwd;\r\n        this[process] = new _process_js__WEBPACK_IMPORTED_MODULE_1__/* .Process */ .M0(this.cwd);\r\n        this[timeouts] = new Map();\r\n        this[intervals] = new Map();\r\n        this[modules] = {};\r\n        this[hasRun] = false;\r\n        this.allowConsoleOutput = window.modes.debug == true;\r\n        this[runtimeID] = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .randomID */ .lZ(12);\r\n        this[fss] = new Set();\r\n        this[alive] = true;\r\n        this[WApplicationPath] = \"anonymous_\" + _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .randomID */ .lZ(32);\r\n        this[WApplicationAPI] = null;\r\n\r\n        if (!fs.exists(this.cwd)) {\r\n            this.close(1);\r\n        }\r\n\r\n        // For GUI\r\n        this.mainWindow = null;\r\n        this.windows = [];\r\n\r\n        this.title = \"Winbows Node.js Runtime\";\r\n        this[process].title = this.title;\r\n\r\n        this.process = new Proxy(this[process], {\r\n            set: (target, prop, value) => {\r\n                if (prop === 'title') {\r\n                    this.title = value;\r\n                    this[process].title = value;\r\n\r\n                    if (tasklist[this[runtimeID]]) {\r\n                        tasklist[this[runtimeID]].title = value;\r\n                    }\r\n\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n\r\n        //const proxyBrowserWindow = browserWindow.bind(this);\r\n        //this.proxyBrowserWindow = proxyBrowserWindow;\r\n\r\n        this[process].on('exit', () => {\r\n            if (this[alive] == false) return;\r\n            this[alive] = false;\r\n            delete tasklist[this[runtimeID]];\r\n            this.proxyTimeout.clearAll();\r\n            this.proxyInterval.clearAll();\r\n            this.proxyShellInstances.forEach(instance => {\r\n                if (instance.active == true) {\r\n                    instance.dispose?.();\r\n                }\r\n            })\r\n            this[fss].forEach(mfs => {\r\n                mfs.quit?.();\r\n            })\r\n            this[fss].clear();\r\n            setTimeout(() => {\r\n                Reflect.ownKeys(this).forEach(key => {\r\n                    this[key] = null;\r\n                })\r\n            }, 1000);\r\n        })\r\n\r\n        this[devtool] = new _lib_external_winbows_devtool_dist_index_js__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .A();\r\n    }\r\n\r\n    // Node.js require function\r\n    async requireAsync(name, basedir = this.cwd) {\r\n        const mod = builtinPackages[name];\r\n        if (!mod) {\r\n            name = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(basedir, name);\r\n        } else {\r\n            name = mod.main;\r\n        }\r\n        if (!this[modules][name]) {\r\n            const code = await fs.getFileAsText(name);\r\n            const module = { exports: {} };\r\n\r\n            const moduleDir = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.dirname(name);\r\n            const builtins = {\r\n                ...this.getDefaultBuiltins(moduleDir),\r\n                exports: module.exports,\r\n                module,\r\n                fs: (0,_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .IDBFS */ .J)(name, moduleDir),\r\n                __filename: name,\r\n                __dirname: moduleDir\r\n            };\r\n            const proxyAPIs = this.getProxyAPIs();\r\n            const limitedAPIs = this.getLimitedAPIs();\r\n\r\n            this[fss].add(builtins.fs);\r\n\r\n            /*let startLineOffset = 0;\r\n            function setStartLineOffset(offset) {\r\n                startLineOffset = offset;\r\n            }*/\r\n            try {\r\n                //const fn = codeWrapper(`\\n/*__CBO__*/this.setStartLineOffset?.((()=>{try{throw new Error(\"BASE_OFFSET\");}catch(e){let m=e.stack.match(/:(\\\\d+):\\\\d+\\\\)?$/m);return m?parseInt(m[1],10):0;}})());this.setStartLineOffset=null;\\n` + code, name);\r\n                const fn = codeWrapper(code, name);\r\n                await fn.call({\r\n                    // setStartLineOffset,\r\n                    ...builtins,\r\n                    ...proxyAPIs,\r\n                    ...limitedAPIs\r\n                });\r\n                this[modules][name] = module;\r\n            } catch (e) {\r\n                const stackLines = e.stack.split('\\n');\r\n                /*\r\n                if (stackLines[1]) {\r\n                    stackLines[1] = stackLines[1].replace(/:(\\d+):(\\d+)/, (match, lineNum, colNum) => {\r\n                        const fixedLine = parseInt(lineNum, 10) - startLineOffset;\r\n                        return `:${fixedLine}:${colNum}`;\r\n                    });\r\n                }*/\r\n                this.proxyConsole.error(stackLines.join('\\n'));\r\n                this.close(1);\r\n                return;\r\n            }\r\n        }\r\n        return this[modules][name].exports;\r\n    }\r\n\r\n    // Proxy Timeouts\r\n    proxyTimeout = {\r\n        set: (fn, t, ...args) => {\r\n            const id = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .randomID */ .lZ(12);\r\n            const timeoutId = setTimeout(() => {\r\n                this[timeouts].delete(id);\r\n                if (this[alive]) {\r\n                    fn(...args);\r\n                }\r\n            }, t);\r\n            this[timeouts].set(id, timeoutId);\r\n            return id;\r\n        },\r\n        clear: (id) => {\r\n            if (this[timeouts].has(id)) {\r\n                clearTimeout(this[timeouts].get(id));\r\n                this[timeouts].delete(id);\r\n            }\r\n        },\r\n        clearAll: () => {\r\n            for (const id of this[timeouts].keys()) {\r\n                this.proxyTimeout.clear(id);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Proxy Shell Instances\r\n    proxyShellInstances = [];\r\n\r\n    // Proxy Intervals\r\n    proxyInterval = {\r\n        set: (fn, t, ...args) => {\r\n            const id = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .randomID */ .lZ(12);\r\n            const intervalId = setInterval(() => {\r\n                if (this[alive]) {\r\n                    fn(...args);\r\n                } else {\r\n                    this.proxyInterval.clear(id);\r\n                }\r\n            }, t);\r\n            this[intervals].set(id, intervalId);\r\n            return id;\r\n        },\r\n        clear: (id) => {\r\n            if (this[intervals].has(id)) {\r\n                clearInterval(this[intervals].get(id));\r\n                this[intervals].delete(id);\r\n            }\r\n        },\r\n        clearAll: () => {\r\n            for (const id of this[intervals].keys()) {\r\n                this.proxyInterval.clear(id);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Proxy Console\r\n    proxyConsole = new Proxy(console, {\r\n        get: (obj, prop) => {\r\n            if (!this.allowConsoleOutput) return () => { };\r\n            if (!['log', 'warn', 'error', 'info', 'debug'].includes(prop)) return () => {\r\n                console.warn.apply(obj, [`%cWRT%c > %c${this[runtimeID]}`, consoleStyle, 'color:inherit;', consoleStyle, `console.${prop} is not supported in WRT Environment.`])\r\n            }\r\n            return prop in obj ? (...args) => {\r\n                return obj[prop].apply(obj, [`%cWRT%c > %c${this[runtimeID]}`, consoleStyle, 'color:inherit;', consoleStyle, ...args]);\r\n            } : undefined;\r\n        },\r\n        set: () => {\r\n            return false;\r\n        }\r\n    })\r\n\r\n    createLocalRequireAsync(currentDir) {\r\n        return (name) => this.requireAsync(name, currentDir);\r\n    }\r\n\r\n    getDefaultBuiltins(currentDir) {\r\n        currentDir = currentDir || this.cwd;\r\n        return {\r\n            requireAsync: this.createLocalRequireAsync(currentDir),\r\n            __dirname: currentDir,\r\n            __filename: '<anonymous>',\r\n            path: _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P,\r\n            console,\r\n            runtimeID: this[runtimeID],\r\n            ShellInstance: new Proxy(_shell_shell_js__WEBPACK_IMPORTED_MODULE_2__/* .ShellInstance */ .Q, {\r\n                construct: function (target, args) {\r\n                    const instance = new target(...args);\r\n                    this.proxyShellInstances.push(instance);\r\n                    return instance;\r\n                }.bind(this)\r\n            }),\r\n            WApplication: this[WApplicationAPI],\r\n            WinUI: _ui_winui_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A\r\n        }\r\n    }\r\n\r\n    getProxyAPIs() {\r\n        return {\r\n            process: this.process,\r\n            setTimeout: this.proxyTimeout.set,\r\n            clearTimeout: this.proxyTimeout.clear,\r\n            setInterval: this.proxyInterval.set,\r\n            clearInterval: this.proxyInterval.clear,\r\n            console: this.proxyConsole\r\n        }\r\n    }\r\n\r\n    getLimitedAPIs() {\r\n        return {\r\n\r\n        }\r\n    }\r\n\r\n    async runCode(code, envParams = {}) {\r\n        if (!this[alive]) return;\r\n        if (typeof code !== 'string') throw new Error('code must be a string');\r\n        if (typeof envParams !== 'object' || Object.prototype.toString.call(envParams) !== '[object Object]') throw new Error('envParams must be an object');\r\n\r\n        if (!this[WApplicationAPI] && !this.subProcess) {\r\n            this[WApplicationAPI] = await _WApplication_v2_js__WEBPACK_IMPORTED_MODULE_5__/* .register */ .kz(this[WApplicationPath], {\r\n                ...envParams,\r\n                process: this[process],\r\n                runtimeID: this[runtimeID],\r\n                runCode: this.runCode\r\n            });\r\n        }\r\n\r\n        const module = { exports: {} };\r\n        const currentDir = envParams.__dirname || envParams.__filename ? _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.dirname(envParams.__filename) : this.cwd;\r\n        const filePath = envParams.__filename ? _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(this.cwd, envParams.__filename) : '<anonymous>';\r\n\r\n        tasklist[this[runtimeID]] = {\r\n            __filename: filePath,\r\n            __dirname: currentDir,\r\n            ...this\r\n        };\r\n\r\n        const builtins = {\r\n            ...this.getDefaultBuiltins(currentDir), // Default variables\r\n            exports: module.exports,\r\n            module,\r\n            fs: (0,_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .IDBFS */ .J)(filePath, currentDir),\r\n            __filename: filePath,\r\n            __dirname: currentDir\r\n        };\r\n        const proxyAPIs = this.getProxyAPIs();\r\n        const limitedAPIs = this.getLimitedAPIs();\r\n\r\n        this[fss].add(builtins.fs);\r\n\r\n        let startLineOffset = 0;\r\n        function setStartLineOffset(offset) {\r\n            startLineOffset = offset;\r\n        }\r\n\r\n        try {\r\n            const fn = codeWrapper(`\\n/*__CBO__*/this.setStartLineOffset?.((()=>{try{throw new Error(\"BASE_OFFSET\");}catch(e){let m=e.stack.match(/:(\\\\d+):\\\\d+\\\\)?$/m);return m?parseInt(m[1],10):0;}})());this.setStartLineOffset=null;\\n` + code, filePath);\r\n\r\n            const result = await fn.call({\r\n                setStartLineOffset,\r\n                ...envParams,\r\n                ...builtins,\r\n                ...proxyAPIs,\r\n                ...limitedAPIs\r\n            });\r\n            if (this.keepAlive != true) {\r\n                this.close(0);\r\n                return {\r\n                    exitCode: 0,\r\n                    evaluation: result ?? null\r\n                };\r\n            } else {\r\n                return new Promise(resolve => this.kill = () => {\r\n                    this.close(0);\r\n                    resolve({\r\n                        exitCode: 0,\r\n                        evaluation: result ?? null\r\n                    });\r\n                });\r\n            }\r\n        } catch (e) {\r\n            const stackLines = e.stack.split('\\n');\r\n            if (stackLines[1]) {\r\n                stackLines[1] = stackLines[1].replace(/:(\\d+):(\\d+)/, (match, lineNum, colNum) => {\r\n                    const fixedLine = parseInt(lineNum, 10) - startLineOffset;\r\n                    return `:${fixedLine}:${colNum}`;\r\n                });\r\n            }\r\n            this.proxyConsole.error(stackLines.join('\\n'));\r\n            this.close(1);\r\n            return {\r\n                exitCode: 1,\r\n                evaluation: null,\r\n                error: e instanceof Error ? e.message : String(e)\r\n            }\r\n        }\r\n    }\r\n\r\n    async runFile(file, envParams = {}) {\r\n        if (!this[alive]) return;\r\n        if (!/^[A-Za-z]:\\//gi.test(file)) throw new Error(`Invalid path : ${file}`);\r\n        if (typeof envParams !== 'object' || Object.prototype.toString.call(envParams) !== '[object Object]') throw new Error('envParams must be an object');\r\n        if (this[hasRun] == true) throw new Error('The runFile function can only be called once.');\r\n\r\n        this[hasRun] = true;\r\n        this[WApplicationPath] = file;\r\n\r\n        try {\r\n            const code = await fs.getFileAsText(file);\r\n            const result = await this.runCode(code, {\r\n                ...envParams,\r\n                __dirname: _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.dirname(file),\r\n                __filename: file\r\n            });\r\n            this.close(0);\r\n            return result;\r\n        } catch (e) {\r\n            this.proxyConsole.error(e);\r\n            this.close(1);\r\n            return {\r\n                exitCode: 1,\r\n                evaluation: null,\r\n                error: e instanceof Error ? e.message : String(e)\r\n            }\r\n        }\r\n    }\r\n\r\n    exposeAPIs(envParams = {}) {\r\n        const module = { exports: {} };\r\n        const currentDir = envParams.__dirname || this.cwd;\r\n        const filePath = envParams.__filename || '<anonymous>';\r\n\r\n        const builtins = {\r\n            ...this.getDefaultBuiltins(currentDir), // Default variables\r\n            exports: module.exports,\r\n            module,\r\n            fs: (0,_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .IDBFS */ .J)(filePath, currentDir),\r\n            __filename: filePath,\r\n            __dirname: currentDir\r\n        };\r\n        const proxyAPIs = this.getProxyAPIs();\r\n        const limitedAPIs = this.getLimitedAPIs();\r\n\r\n        this[fss].add(builtins.fs);\r\n\r\n        return {\r\n            ...envParams,\r\n            ...builtins,\r\n            ...proxyAPIs,\r\n            ...limitedAPIs\r\n        }\r\n    }\r\n\r\n    close(code) {\r\n        this[process].exit(code);\r\n    }\r\n\r\n    defaultCwd = 'C:/'\r\n}\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/kernel.js?\n}")},2840:module=>{"use strict";eval('{module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27currentColor%27 class=%27size-6%27%3E%3Cpath fill-rule=%27evenodd%27 d=%27M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z%27 clip-rule=%27evenodd%27/%3E%3C/svg%3E";\n\n//# sourceURL=webpack://winbows11/data:image/svg+xml;charset=utf-8,%253Csvg_xmlns=%2527http://www.w3.org/2000/svg%2527_viewBox=%25270_0_24_24%2527_fill=%2527currentColor%2527_class=%2527size-6%2527%253E%253Cpath_fill-rule=%2527evenodd%2527_d=%2527M2.25_12c0-5.385_4.365-9.75_9.75-9.75s9.75_4.365_9.75_9.75-4.365_9.75-9.75_9.75S2.25_17.385_2.25_12Zm8.706-1.442c1.146-.573_2.437.463_2.126_1.706l-.709_2.836.042-.02a.75.75_0_0_1_.67_1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75_0_1_1-.671-1.34l.041-.022ZM12_9a.75.75_0_1_0_0-1.5.75.75_0_0_0_0_1.5Z%2527_clip-rule=%2527evenodd%2527/%253E%253C/svg%253E?\n}')},3071:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  t: () => (/* binding */ Tabview)\n});\n\n// EXTERNAL MODULE: ./src/kernel/WRT/utils/eventEmitter.js\nvar eventEmitter = __webpack_require__(8035);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\nvar injectStylesIntoStyleTag = __webpack_require__(5072);\nvar injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleDomAPI.js\nvar styleDomAPI = __webpack_require__(7825);\nvar styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertBySelector.js\nvar insertBySelector = __webpack_require__(7659);\nvar insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\nvar setAttributesWithoutAttributes = __webpack_require__(5056);\nvar setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertStyleElement.js\nvar insertStyleElement = __webpack_require__(540);\nvar insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleTagTransform.js\nvar styleTagTransform = __webpack_require__(1113);\nvar styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);\n// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./src/kernel/devtool/tabview.css\nvar tabview = __webpack_require__(1293);\n;// ./src/kernel/devtool/tabview.css\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (styleTagTransform_default());\noptions.setAttributes = (setAttributesWithoutAttributes_default());\noptions.insert = insertBySelector_default().bind(null, \"head\");\noptions.domAPI = (styleDomAPI_default());\noptions.insertStyleElement = (insertStyleElement_default());\n\nvar update = injectStylesIntoStyleTag_default()(tabview/* default */.A, options);\n\n\n\n\n       /* harmony default export */ const devtool_tabview = (tabview/* default */.A && tabview/* default */.A.locals ? tabview/* default */.A.locals : undefined);\n\n;// ./src/kernel/devtool/tabview.js\n\r\n\r\n\r\nclass Tabview extends eventEmitter/* EventEmitter */.b {\r\n    /**\r\n     * @param {HTMLElement} container \r\n     * @param {*} options \r\n     */\r\n    constructor(container, options = {\r\n        width: container.offsetWidth,\r\n        height: 28\r\n    }) {\r\n        super();\r\n\r\n        this.width = options?.width ?? container.offsetWidth;\r\n        this.height = options?.height ?? 28;\r\n\r\n        this.tabs = {};\r\n        this.order = [];\r\n\r\n        this.container = document.createElement('div');\r\n        this.tabsContainer = document.createElement('div');\r\n        this.tabsEl = document.createElement('div');\r\n        this.slider = document.createElement('div');\r\n        this.itemContainer = document.createElement('div');\r\n\r\n        this.selected = null;\r\n        this.tabsContainer.style.width = `${this.width}px`;\r\n        this.tabsContainer.style.height = `${this.height}px`;\r\n        this.tabsContainer.style.minHeight = `${this.height}px`;\r\n        this.itemContainer.style.height = `calc(100% - ${this.height}px)`;\r\n\r\n        this.container.className = 'devtool-tabview';\r\n        this.tabsContainer.className = 'devtool-tabview-tabs-container';\r\n        this.tabsEl.className = 'devtool-tabview-tabs';\r\n        this.slider.className = 'devtool-tabview-slider';\r\n        this.itemContainer.className = 'devtool-tabview-item-container';\r\n\r\n        container.appendChild(this.container);\r\n        this.container.appendChild(this.tabsContainer);\r\n        this.tabsContainer.appendChild(this.tabsEl);\r\n        this.tabsContainer.appendChild(this.slider);\r\n        this.container.appendChild(this.itemContainer);\r\n\r\n        this.tabsContainer.addEventListener(\"wheel\", (e) => {\r\n            e.preventDefault(); // prevent vertical scroll\r\n            this.tabsContainer.scrollLeft += e.deltaY; // scroll horizontally instead\r\n            this._updateTabsScroll();\r\n        });\r\n\r\n        const observer = new ResizeObserver(() => {\r\n            this.width = container.offsetWidth;\r\n            this.tabsContainer.style.width = `${this.width}px`;\r\n            this._updateTabsScroll();\r\n        });\r\n        observer.observe(container);\r\n    }\r\n    _updateTabsScroll() {\r\n        if (this.tabsContainer.scrollWidth > this.tabsContainer.clientWidth) {\r\n            if (this.tabsContainer.scrollLeft == 0) {\r\n                this.tabsContainer.style.maskImage = `linear-gradient(to right,black 90%,transparent)`;\r\n            } else if (this.tabsContainer.scrollLeft + 1 >= this.tabsContainer.scrollWidth - this.tabsContainer.clientWidth) {\r\n                this.tabsContainer.style.maskImage = `linear-gradient(to right,transparent,black 10%)`;\r\n            } else {\r\n                this.tabsContainer.style.maskImage = `linear-gradient(to right,transparent,black 10%,black 90%,transparent)`;\r\n            }\r\n        } else {\r\n            this.tabsContainer.style.maskImage = `none`;\r\n        }\r\n    }\r\n    add(tab) {\r\n        const title = tab?.title ?? `Tab${this.tabs.length + 1}`;\r\n        const closable = tab?.closable ?? false;\r\n        const id = tab?.id ?? `tab-${this.tabs.length + 1}`;\r\n\r\n        const tabItem = document.createElement('div');\r\n        const tabTitle = document.createElement('div');\r\n        const itemEl = document.createElement('div');\r\n\r\n        tabItem.className = 'devtool-tabview-tab';\r\n        tabTitle.className = 'devtool-tabview-tab-title';\r\n        tabTitle.textContent = title;\r\n        itemEl.className = 'devtool-tabview-item';\r\n\r\n        tabItem.appendChild(tabTitle);\r\n        this.tabsEl.appendChild(tabItem);\r\n        itemEl.appendChild(tab.content);\r\n        this.itemContainer.appendChild(itemEl);\r\n\r\n        this._updateTabsScroll();\r\n\r\n        const onSelect = () => {\r\n            if (this.selected == id) return;\r\n\r\n            this.itemContainer.querySelectorAll('.active').forEach(item => item.classList.remove('active'));\r\n            this.tabsContainer.querySelectorAll('.selected').forEach(tab => tab.classList.remove('selected'));\r\n\r\n            itemEl.classList.add('active');\r\n            tabItem.classList.add('selected');\r\n\r\n            this.selected = id;\r\n            this._emit('select', id);\r\n\r\n            const children = tabItem.parentNode.children;\r\n            const index = Array.prototype.indexOf.call(children, tabItem);\r\n            let left = 0;\r\n            for (let i = 0; i < index; i++) {\r\n                left += children[i].offsetWidth;\r\n            }\r\n            this.slider.style.left = `${left}px`;\r\n            this.slider.style.width = `${tabItem.offsetWidth}px`;\r\n        }\r\n\r\n        tabItem.addEventListener('click', onSelect);\r\n\r\n        this.tabs[id] = {\r\n            title,\r\n            closable,\r\n            id,\r\n            tabItem,\r\n            tabTitle,\r\n            onSelect\r\n        };\r\n        this.order.push(id);\r\n    }\r\n    remove(tabId) {\r\n        const tabIndex = this.order.indexOf(tabId);\r\n        if (tabIndex != -1) {\r\n            const tab = this.tabs[tabId];\r\n            this.order.splice(tabIndex, 1);\r\n            delete this.tabs[tabId];\r\n\r\n            tab.tabItem.remove();\r\n            if (this.selected == tabId) {\r\n                this.itemContainer.innerHTML = '';\r\n                this.selected = null;\r\n            }\r\n            this._emit('remove', tabId);\r\n\r\n            if (this.order[tabIndex]) {\r\n                this.select(this.order[tabIndex]);\r\n            } else {\r\n                this.select(this.order[0]);\r\n            }\r\n        }\r\n    }\r\n    select(tabId) {\r\n        const tab = this.tabs[tabId];\r\n        if (tab) {\r\n            tab.onSelect();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://winbows11/./src/kernel/devtool/tabview.js_+_1_modules?\n}")},3379:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RX: () => (/* binding */ terminalTable),\n/* harmony export */   my: () => (/* binding */ getScheme),\n/* harmony export */   o_: () => (/* binding */ parseURI)\n/* harmony export */ });\n/* harmony import */ var uri_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6579);\n\r\n\r\nfunction terminalTable(term, head = [], config = {\r\n    gap: 1,\r\n    separator: '='\r\n}) {\r\n    const cols = head.length;\r\n    const sizes = head.map(h => h.size);\r\n    const aligns = head.map(h => h.align || 'left');\r\n\r\n    let left = 1;\r\n\r\n    term.write('\\r\\n');\r\n    for (let i = 0; i < cols; i++) {\r\n        const cell = head[i];\r\n        const cellSize = sizes[i];\r\n        const text = cell.text;\r\n        if (text.length > cellSize) {\r\n            term.write(`\\x1b[${left}G${text.slice(0, cellSize - 1)}…`);\r\n        } else if (cell.align == 'right') {\r\n            term.write(`\\x1b[${left}G${text.padStart(cellSize)}`);\r\n        } else {\r\n            term.write(`\\x1b[${left}G${text}`);\r\n        }\r\n        left += cellSize + (config?.gap || 1);\r\n    }\r\n\r\n    left = 1;\r\n\r\n    term.write('\\r\\n');\r\n    for (let i = 0; i < cols; i++) {\r\n        const cellSize = sizes[i];\r\n        term.write(`\\x1b[${left}G${(config?.separator || '=').repeat(cellSize)}`);\r\n        left += cellSize + (config?.gap || 1);\r\n    }\r\n\r\n    return {\r\n        row: (cells = []) => {\r\n            // Start in new line\r\n            term.write('\\r\\n');\r\n\r\n            let left = 1;\r\n            for (let i = 0; i < Math.min(cells.length, cols); i++) {\r\n                const cell = cells[i];\r\n                const cellSize = sizes[i];\r\n                const align = cell.align || aligns[i];\r\n                if (cell && cell.text) {\r\n                    const text = String(cell.text);\r\n                    if (text.length > cellSize) {\r\n                        term.write(`\\x1b[${left}G${text?.slice(0, cellSize - 1)}…`);\r\n                    } else if (align == 'right') {\r\n                        term.write(`\\x1b[${left}G${text?.padStart(cellSize)}`);\r\n                    } else {\r\n                        term.write(`\\x1b[${left}G${text}`);\r\n                    }\r\n                }\r\n                left += cellSize + (config?.gap || 1);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst parseURI = uri_js__WEBPACK_IMPORTED_MODULE_0__.parse;\r\n\r\nfunction _parseURI(uri) {\r\n    const result = {\r\n        scheme: null,\r\n        user: null,\r\n        pass: null,\r\n        host: null,\r\n        port: null,\r\n        path: null,\r\n        query: {},\r\n        hash: null\r\n    };\r\n\r\n    // Extract scheme\r\n    const scheme = getScheme(uri);\r\n    if (!scheme) throw new Error(\"Invalid or missing scheme\");\r\n    result.scheme = scheme;\r\n\r\n    // Remove scheme from string\r\n    let rest = uri.slice(result.scheme.length + 1);\r\n\r\n    // Extract fragment (#)\r\n    const hashIndex = rest.indexOf('#');\r\n    if (hashIndex !== -1) {\r\n        result.hash = decodeURIComponent(rest.slice(hashIndex + 1));\r\n        rest = rest.slice(0, hashIndex);\r\n    }\r\n\r\n    // Extract query (?)\r\n    const queryIndex = rest.indexOf('?');\r\n    let queryString = '';\r\n    if (queryIndex !== -1) {\r\n        queryString = rest.slice(queryIndex + 1);\r\n        rest = rest.slice(0, queryIndex);\r\n\r\n        // Parse query into object\r\n        queryString.split('&').forEach(pair => {\r\n            if (!pair) return;\r\n            const [k, v] = pair.split('=');\r\n            result.query[decodeURIComponent(k)] = v ? decodeURIComponent(v) : '';\r\n        });\r\n    }\r\n\r\n    // Check for authority (//host)\r\n    if (rest.startsWith('//')) {\r\n        rest = rest.slice(2);\r\n        let pathStart = rest.indexOf('/');\r\n        let authority = pathStart !== -1 ? rest.slice(0, pathStart) : rest;\r\n        rest = pathStart !== -1 ? rest.slice(pathStart) : '/';\r\n\r\n        // Extract user info (user:pass@)\r\n        const atIndex = authority.indexOf('@');\r\n        if (atIndex !== -1) {\r\n            const userInfo = authority.slice(0, atIndex);\r\n            const [user, pass] = userInfo.split(':');\r\n            result.user = user ? decodeURIComponent(user) : null;\r\n            result.pass = pass ? decodeURIComponent(pass) : null;\r\n            authority = authority.slice(atIndex + 1);\r\n        }\r\n\r\n        // Extract host and port\r\n        const colonIndex = authority.lastIndexOf(':');\r\n        if (colonIndex !== -1 && authority[colonIndex + 1].match(/^\\d+$/)) {\r\n            result.host = authority.slice(0, colonIndex);\r\n            result.port = authority.slice(colonIndex + 1);\r\n        } else {\r\n            result.host = authority;\r\n        }\r\n    }\r\n\r\n    // Remaining string is path\r\n    result.path = rest ? decodeURIComponent(rest) : null;\r\n\r\n    return result;\r\n}\r\n\r\nfunction getScheme(uri) {\r\n    if (typeof uri !== 'string') return null;\r\n    const idx = uri.indexOf(':');\r\n    if (idx === -1) return null;\r\n\r\n    const scheme = uri.slice(0, idx);\r\n    if (/^[A-Za-z]([A-Za-z0-9+\\-.]*[A-Za-z0-9])?$/.test(scheme)) {\r\n        return scheme;\r\n    }\r\n    return null;\r\n}\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/shell/utils.js?\n}")},3477:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  A: () => (/* binding */ winui)\n});\n\n// NAMESPACE OBJECT: ./src/ui/utils.js\nvar utils_namespaceObject = {};\n__webpack_require__.r(utils_namespaceObject);\n__webpack_require__.d(utils_namespaceObject, {\n  getPosition: () => (getPosition)\n});\n\n;// ./src/ui/lib/select.min.js\n(()=>{"use strict";var e={522:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(601),o=n.n(r),s=n(314),a=n.n(s),i=n(417),p=n.n(i),c=new URL(n(657),n.b),d=a()(o()),u=p()(c);d.push([e.id,`@charset "UTF-8";\\n\\n.light,\\n:root {\\n    --s-trigger-border: rgb(210, 210, 210);\\n    --s-trigger-background: rgb(252, 252, 252);\\n    --s-popup-border: rgb(210, 210, 210);\\n    --s-popup-background: rgb(252, 252, 252);\\n    --s-popup-shadow: rgba(0, 0, 0, 0.1) 0px 4px 32px 0px;\\n    --s-popup-option-hover: rgba(238, 238, 238, .7);\\n    --s-popup-option-selected-background: #0d6efd;\\n    --s-popup-option-selected-color: #fff;\\n    --s-popup-separator: rgb(210, 210, 210);\\n    --s-icon-color: rgb(120, 120, 120);\\n    --s-font-color: rgb(24, 24, 24);\\n}\\n\\n.dark {\\n    --s-trigger-border: rgb(81, 81, 81);\\n    --s-trigger-background: rgb(37, 37, 38);\\n    --s-popup-border: rgb(81, 81, 81);\\n    --s-popup-background: rgb(37, 37, 38);\\n    --s-popup-shadow: rgba(0, 0, 0, 0.1) 0px 4px 32px 0px;\\n    --s-popup-option-hover: rgba(71, 71, 71, .7);\\n    --s-popup-option-selected-background: #0d6efd;\\n    --s-popup-option-selected-color: #fff;\\n    --s-popup-separator: rgb(81, 81, 81);\\n    --s-icon-color: rgb(225, 225, 225);\\n    --s-font-color: rgb(230, 230, 230);\\n}\\n\\n@media (prefers-color-scheme: light) {\\n    :root {\\n        --s-trigger-border: rgb(210, 210, 210);\\n        --s-trigger-background: rgb(252, 252, 252);\\n        --s-popup-border: rgb(210, 210, 210);\\n        --s-popup-background: rgb(252, 252, 252);\\n        --s-popup-shadow: rgba(0, 0, 0, 0.1) 0px 4px 32px 0px;\\n        --s-popup-option-hover: rgba(238, 238, 238, .7);\\n        --s-popup-option-selected-background: #0d6efd;\\n        --s-popup-option-selected-color: #fff;\\n        --s-popup-separator: rgb(210, 210, 210);\\n        --s-icon-color: rgb(120, 120, 120);\\n        --s-font-color: rgb(24, 24, 24);\\n    }\\n}\\n\\n@media (prefers-color-scheme: dark) {\\n    :root {\\n        --s-trigger-border: rgb(81, 81, 81);\\n        --s-trigger-background: rgb(37, 37, 38);\\n        --s-popup-border: rgb(81, 81, 81);\\n        --s-popup-background: rgb(37, 37, 38);\\n        --s-popup-shadow: rgba(0, 0, 0, 0.1) 0px 4px 32px 0px;\\n        --s-popup-option-hover: rgba(71, 71, 71, .7);\\n        --s-popup-option-selected-background: #0d6efd;\\n        --s-popup-option-selected-color: #fff;\\n        --s-popup-separator: rgb(81, 81, 81);\\n        --s-icon-color: rgb(225, 225, 225);\\n        --s-font-color: rgb(230, 230, 230);\\n    }\\n}\\n\\n:root {\\n    --s-popup-option-padding: 0.25rem .5rem;\\n    --s-popup-option-border-radius: 0.25rem;\\n    --s-popup-option-font-size: .875rem;\\n    --s-popup-option-gap: .25rem;\\n    --s-popup-padding: .375rem;\\n}\\n\\n.siyu-select-trigger,\\n.siyu-select-trigger *,\\n.siyu-select-popup {\\n    font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica Neue, sans-serif;\\n    user-select: none;\\n    box-sizing: border-box;\\n}\\n\\n.siyu-select-trigger {\\n    width: fit-content;\\n    padding: .25rem .75rem;\\n    border: 1px solid;\\n    border-radius: 4px;\\n    border-color: var(--s-trigger-border);\\n    display: flex;\\n    background: var(--s-trigger-background);\\n    position: relative;\\n    height: fit-content;\\n    align-items: center;\\n    /* max-width: 150px; */\\n    max-width: calc(100vw - 16px);\\n    --siyu-select-trigger-rotate: 0deg;\\n}\\n\\n/*.siyu-select.active:not(.disabled, [disabled]) .siyu-select-popup, */\\n.siyu-select-popup.active {\\n    display: block;\\n    --siyu-select-trigger-rotate: 90deg;\\n}\\n\\n.siyu-select-popup {\\n    overflow-y: auto;\\n    z-index: 9999999999;\\n    display: none;\\n    position: absolute;\\n    background: var(--s-popup-background);\\n    border: 1px solid;\\n    border-radius: 4px;\\n    border-color: var(--s-popup-border);\\n    box-shadow: var(--s-popup-shadow);\\n    padding: var(--s-popup-padding);\\n    /*\\n    min-width: 120px;\\n    max-width: 150px;\\n    */\\n    display: none;\\n    max-width: calc(100vw - 16px);\\n    max-height: calc(100vh - 16px);\\n}\\n\\n.siyu-select-trigger::before,\\n.siyu-select-trigger.active:not(.disabled, [disabled])::before {\\n    min-width: 12px;\\n    content: \'\';\\n    display: block;\\n    width: 12px;\\n    height: 12px;\\n    -webkit-mask-size: 12px;\\n    -webkit-mask-repeat: no-repeat;\\n    margin: auto 0;\\n    background: var(--s-icon-color);\\n    margin-left: -4px;\\n    margin-right: 6px;\\n    font-size: 8px;\\n    transition: all .1s ease;\\n}\\n\\n.siyu-select-trigger::before {\\n    -webkit-mask-image: url(${u});\\n    transform: rotate(var(--siyu-select-trigger-rotate));\\n}\\n\\n.siyu-select-trigger.disabled::before,\\n.siyu-select-trigger[disabled]::before {\\n    /* -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'none\' viewBox=\'0 0 24 24\' stroke-width=\'1.5\' stroke=\'rgb(170, 170, 170)\' class=\'w-6 h-6\'%3E%3Cpath stroke-linecap=\'round\' stroke-linejoin=\'round\' d=\'M19.5 8.25l-7.5 7.5-7.5-7.5\' /%3E%3C/svg%3E%0A"); */\\n    transform: rotate(0) !important;\\n}\\n\\n.siyu-select-current-content {\\n    font-size: .875rem;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n\\n.siyu-select-option,\\n.siyu-select-current-content {\\n    color: var(--s-font-color);\\n}\\n\\n.siyu-select-option {\\n    white-space: nowrap;\\n    font-size: var(--s-popup-option-font-size);\\n    border-radius: var(--s-popup-option-border-radius);\\n    padding: var(--s-popup-option-padding);\\n    cursor: pointer;\\n    display: block;\\n    align-items: center;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n    max-width: 100%;\\n    width: -webkit-fill-available;\\n}\\n\\n.siyu-select-option:hover {\\n    background: var(--s-popup-option-hover);\\n}\\n\\n.siyu-select-option+.siyu-select-option {\\n    margin-top: var(--s-popup-option-gap);\\n}\\n\\n.siyu-select-separator {\\n    width: 100%;\\n    height: .5px;\\n    background: var(--s-popup-separator);\\n    margin: var(--s-popup-option-gap) 0;\\n    font-size: 0;\\n}\\n\\n.siyu-select-group.disabled .siyu-select-option,\\n.siyu-select-option.disabled,\\n.siyu-select.disabled,\\n.siyu-select-group[disabled] .siyu-select-option,\\n.siyu-select-option[disabled],\\n.siyu-select[disabled] {\\n    opacity: .7;\\n    pointer-events: none;\\n}\\n\\n.siyu-select-option.selected:not([disabled], [disabled="true"], .disabled) {\\n    background: var(--s-popup-option-selected-background);\\n    color: var(--s-popup-option-selected-color);\\n}\\n\\n.siyu-select-trigger * ::-webkit-scrollbar,\\n.siyu-select-popup * ::-webkit-scrollbar {\\n    width: 6px;\\n    height: 6px;\\n    border-radius: 0px;\\n    background: none;\\n}\\n\\n.siyu-select-trigger * ::-webkit-scrollbar-thumb,\\n.siyu-select-popup * ::-webkit-scrollbar-thumb {\\n    background: rgba(171, 171, 171, 0.5);\\n    min-height: 50px;\\n    min-width: 50px;\\n    border-radius: 10px;\\n}\\n\\n.siyu-select-trigger * ::-webkit-scrollbar-thumb:hover,\\n.siyu-select-popup * ::-webkit-scrollbar-thumb:hover {\\n    background: rgba(171, 171, 171, 1);\\n    min-height: 50px;\\n    min-width: 50px;\\n    border-radius: 10px;\\n}\\n\\n.siyu-select-trigger * ::-webkit-scrollbar-corner,\\n.siyu-select-popup * ::-webkit-scrollbar-corner {\\n    background: none;\\n}\\n\\n.siyu-select-option-icon {\\n    width: 18px;\\n    height: 18px;\\n    min-width: 18px;\\n    margin-right: 4px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\\n.siyu-select-option * {\\n    pointer-events: none;\\n}\\n\\n.siyu-select-option-icon * {\\n    width: 14px;\\n    height: 14px;\\n}\\n\\n.siyu-select-group {\\n    min-width: inherit;\\n    max-width: inherit;\\n}\\n\\n.siyu-select-option-text {\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    max-width: inherit;\\n}`,""]);const l=d},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var i=0;i<this.length;i++){var p=this[i][0];null!=p&&(a[p]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&a[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^[\'"].*[\'"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["\'() \\t\\n]|(%20)/.test(e)||t.needQuotes?\'"\'.concat(e.replace(/"/g,\'\\\\"\').replace(/\\n/g,"\\\\n"),\'"\'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},a=[],i=0;i<e.length;i++){var p=e[i],c=r.base?p[0]+r.base:p[0],d=s[c]||0,u="".concat(c," ").concat(d);s[c]=d+1;var l=n(u),g={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==l)t[l].references++,t[l].updater(g);else{var f=o(g,r);r.byIndex=i,t.splice(i,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var s=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var i=n(s[a]);t[i].references--}for(var p=r(e,o),c=0;c<s.length;c++){var d=n(s[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=p}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},657:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27none%27 viewBox=%270 0 24 24%27 stroke-width=%271.5%27 stroke=%27rgb%28170, 170, 170%29%27 class=%27w-6 h-6%27%3E%3Cpath stroke-linecap=%27round%27 stroke-linejoin=%27round%27 d=%27M8.25 4.5l7.5 7.5-7.5 7.5%27 /%3E%3C/svg%3E%0A"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e={isArray:function(e){return Array.isArray(e)},isElement:function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"object"==typeof e&&!Array.isArray(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},randomString:function(e,t){var n="",r=(t=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length;for(let o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*r));return n},mergeDeep:function(t,...n){if(!n.length)return t;const r=n.shift();if(e.isObject(t)&&e.isObject(r))for(const n in r)e.isObject(r[n])?(t[n]||Object.assign(t,{[n]:{}}),e.mergeDeep(t[n],r[n])):Object.assign(t,{[n]:r[n]});return e.mergeDeep(t,...n)},delay:function(e){return new Promise((t=>setTimeout(t,e)))},offset:function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}},getPosition:function(t){return{x:e.offset(t).left,y:e.offset(t).top}},formatDate:function(e,t){var n={"M+":(e=new Date(e)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},setCookie:function(e,t,n){let r=e+"="+encodeURIComponent(t);"number"==typeof n&&(r+="; max-age ="+60*n*60*24),document.cookie=r},getCookie:function(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},toCamelCase:function(e){return e.replace(/-(\\w)/g,((e,t)=>t.toUpperCase()))}};const t=e;(()=>{var e=(e,t)=>1==t?document.querySelectorAll(e):document.querySelector(e);const n={version:"1.2.0",datas:{},config:{margin:8,trigger:null,triggerClassName:"siyu-select-trigger",triggerAttributes:{},popupClassName:"siyu-select-popup",popupAttributes:{},noSelectedContent:"請選擇...",theme:"system"},install:(r,o,s={})=>{if(t.isElement(r)||(r=e(r)),t.isElement(r)){s=Object.assign({},n.config,s);var a=function(e,t){var n="",r=(t=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length;for(let o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*r));return n}(96);return n.datas[a]={target:r,options:o,config:s,trigger:s.trigger||null,currentContent:null,selected:null,value:null,popup:null,listeners:{},showPopup:!1,useCustomTrigger:null!=s.trigger},null==n.datas[a].trigger?(n.datas[a].trigger=document.createElement("div"),n.datas[a].trigger.className=n.datas[a].config.triggerClassName,"system"!=n.datas[a].config.theme&&n.datas[a].trigger.classList.add(n.datas[a].config.theme),Object.keys(n.datas[a].config.triggerAttributes).forEach((e=>{n.datas[a].trigger.setAttribute(e,n.datas[a].config.triggerAttributes[e])})),n.datas[a].target.appendChild(n.datas[a].trigger),n.datas[a].currentContent=document.createElement("div"),n.datas[a].currentContent.className="siyu-select-current-content",n.datas[a].trigger.appendChild(n.datas[a].currentContent)):t.isElement(n.datas[a].trigger)||(n.datas[a].trigger=e(n.datas[a].trigger)),n.datas[a].popup=document.createElement("div"),n.datas[a].popup.className=n.datas[a].config.popupClassName,"system"!=n.datas[a].config.theme&&n.datas[a].popup.classList.add(n.datas[a].config.theme),Object.keys(n.datas[a].config.popupAttributes).forEach((e=>{n.datas[a].popup.setAttribute(e,n.datas[a].config.popupAttributes[e])})),n.datas[a].popup.setAttribute("data-popup-id",a),n.datas[a].options.forEach((e=>{if("separator"==e.type){var r=document.createElement("div");r.className="siyu-select-separator",n.datas[a].popup.appendChild(r)}else{var o=document.createElement("div");o.className="siyu-select-option",1==e.disabled&&o.classList.add("disabled"),1==e.selected&&p(e,o),t.isObject(e.attributes)&&Object.keys(e.attributes).forEach((t=>{o.setAttribute(t,e.attributes[t])})),t.isArray(e.classList)&&e.classList.forEach((e=>{o.classList.add(e)})),t.isObject(e.styles)?Object.keys(e.styles).forEach((t=>{o.style[t]=e.styles[t]})):t.isString(e.styles)&&(o.style=e.styles),o.setAttribute("value",e.value),o.innerHTML=e.content,t.isFunction(e.action)&&o.addEventListener("click",(()=>{e.action({value:e.value,content:e.content})})),o.addEventListener("click",(()=>{p(e,o),i("change",{value:e.value,content:e.content}),u()})),e.element=o,n.datas[a].popup.appendChild(o)}})),0!=n.datas[a].useCustomTrigger||null!=n.datas[a].selected&&null!=n.datas[a].value||(n.datas[a].currentContent.innerHTML=n.datas[a].config.noSelectedContent),n.datas[a].trigger.addEventListener("click",(e=>{1==n.datas[a].showPopup?u():(d(),i("trigger",{type:e.type}))})),window.addEventListener("blur",(()=>{u()})),window.addEventListener("resize",(function(e){1==n.datas[a].showPopup&&c()})),document.addEventListener("click",(e=>{n.datas[a].popup.contains(e.target)||n.datas[a].trigger.contains(e.target)||u()})),document.addEventListener("scroll",(function(e){n.datas[a].popup.contains(e.target)||1==n.datas[a].showPopup&&c()})),{on:function(e,r){n.datas[a].listeners[e]&&t.isArray(n.datas[a].listeners[e])||(n.datas[a].listeners[e]=[]),n.datas[a].listeners[e].push(r)},showPopup:d,hidePopup:u,select:function(e,t=0){var r=[];if(n.datas[a].options.forEach((t=>{t.value==e&&r.push(t)})),r[t])return p(r[t],r[t].element)},clearSelect:function(){n.datas[a].popup.querySelectorAll(".selected").forEach((e=>{e.classList.remove("selected"),n.datas[a].value=null,n.datas[a].selected=null,0==n.datas[a].useCustomTrigger&&(n.datas[a].currentContent.innerHTML=n.datas[a].config.noSelectedContent)}))},setStyle:function(e,t,r,o=!1){function s(e,t,n,r){1==r?e.style.setProperty(t,n):e.style[t]=n}"popup"==e?s(n.datas[a].popup,t,r,o):"trigger"==e?s(n.datas[a].trigger,t,r,o):"currentContent"==e&&s(n.datas[a].currentContent,t,r,o)},elements:{popup:n.datas[a].popup,trigger:n.datas[a].trigger,currentContent:n.datas[a].currentContent},id:a}}function i(e,r){n.datas[a].listeners[e]&&t.isArray(n.datas[a].listeners[e])&&n.datas[a].listeners[e].forEach((e=>e(r)))}function p(e,t){n.datas[a].popup.querySelectorAll(".selected").forEach((e=>{e.classList.remove("selected")})),t.classList.add("selected"),n.datas[a].value=e.value,n.datas[a].selected=e,0==n.datas[a].useCustomTrigger&&(n.datas[a].currentContent.innerHTML=e.content)}function c(){var e=t.getPosition(n.datas[a].trigger).x-window.scrollX,r=t.getPosition(n.datas[a].trigger).y-window.scrollY;n.datas[a].popup.style.maxWidth=window.innerWidth-2*n.config.margin+"px",n.datas[a].popup.style.maxHeight=window.innerHeight-2*n.config.margin+"px",e+n.datas[a].popup.offsetWidth+n.config.margin>window.innerWidth?n.datas[a].popup.style.left=window.innerWidth-n.datas[a].popup.offsetWidth-n.config.margin+"px":window.innerWidth-n.datas[a].popup.offsetWidth-n.config.margin<n.config.margin?n.datas[a].popup.style.left=n.config.margin+"px":n.datas[a].popup.style.left=e+"px",n.datas[a].popup.style.top=r+n.datas[a].trigger.offsetHeight+n.config.margin+"px",r+n.datas[a].popup.offsetHeight+2*n.config.margin>window.innerHeight&&(n.datas[a].popup.style.top=r-n.config.margin-n.datas[a].popup.offsetHeight+"px",r-n.config.margin-n.datas[a].popup.offsetHeight<n.config.margin&&(n.datas[a].popup.style.top=n.config.margin+"px")),parseInt(n.datas[a].popup.style.top)>r?n.datas[a].trigger.style.setProperty("--siyu-select-trigger-rotate","90deg"):n.datas[a].trigger.style.setProperty("--siyu-select-trigger-rotate","-90deg")}function d(){document.body.appendChild(n.datas[a].popup),n.datas[a].showPopup=!0,n.datas[a].popup.classList.add("active"),c()}function u(){n.datas[a].popup.remove(),n.datas[a].showPopup=!1,n.datas[a].trigger.classList.remove("active"),n.datas[a].popup.classList.remove("active"),n.datas[a].trigger.style.setProperty("--siyu-select-trigger-rotate","0deg")}},getValue:e=>e.getAttribute("value")};window.S=n})()})(),(()=>{var e=n(72),t=n.n(e),r=n(825),o=n.n(r),s=n(659),a=n.n(s),i=n(56),p=n.n(i),c=n(540),d=n.n(c),u=n(113),l=n.n(u),g=n(522),f={};f.styleTagTransform=l(),f.setAttributes=p(),f.insert=a().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d();t()(g.A,f),g.A&&g.A.locals&&g.A.locals})()})();\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\nvar injectStylesIntoStyleTag = __webpack_require__(5072);\nvar injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleDomAPI.js\nvar styleDomAPI = __webpack_require__(7825);\nvar styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertBySelector.js\nvar insertBySelector = __webpack_require__(7659);\nvar insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\nvar setAttributesWithoutAttributes = __webpack_require__(5056);\nvar setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertStyleElement.js\nvar insertStyleElement = __webpack_require__(540);\nvar insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleTagTransform.js\nvar styleTagTransform = __webpack_require__(1113);\nvar styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);\n// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./src/ui/contextMenu/contextMenu.css\nvar contextMenu = __webpack_require__(3717);\n;// ./src/ui/contextMenu/contextMenu.css\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (styleTagTransform_default());\noptions.setAttributes = (setAttributesWithoutAttributes_default());\noptions.insert = insertBySelector_default().bind(null, "head");\noptions.domAPI = (styleDomAPI_default());\noptions.insertStyleElement = (insertStyleElement_default());\n\nvar update = injectStylesIntoStyleTag_default()(contextMenu/* default */.A, options);\n\n\n\n\n       /* harmony default export */ const contextMenu_contextMenu = (contextMenu/* default */.A && contextMenu/* default */.A.locals ? contextMenu/* default */.A.locals : undefined);\n\n;// ./src/ui/contextMenu/contextMenu.js\n\r\n\r\nvar icons = {\r\n    "global-nav-button": "e700",\r\n    "wifi": "e701",\r\n    "bluetooth": "e702",\r\n    "connect": "e703",\r\n    "internet-sharing": "e704",\r\n    "vpn": "e705",\r\n    "brightness": "e706",\r\n    "map-pin": "e707",\r\n    "quiet-hours": "e708",\r\n    "airplane": "e709",\r\n    "tablet": "e70a",\r\n    "quick-note": "e70b",\r\n    "remembered-device": "e70c",\r\n    "chevron-down": "e70d",\r\n    "chevron-up": "e70e",\r\n    "edit": "e70f",\r\n    "add": "e710",\r\n    "cancel": "e711",\r\n    "more": "e712",\r\n    "settings": "e713",\r\n    "video": "e714",\r\n    "mail": "e715",\r\n    "people": "e716",\r\n    "phone": "e717",\r\n    "pin": "e718",\r\n    "shop": "e719",\r\n    "stop": "e71a",\r\n    "link": "e71b",\r\n    "filter": "e71c",\r\n    "all-apps": "e71d",\r\n    "zoom": "e71e",\r\n    "zoom-out": "e71f",\r\n    "microphone": "e720",\r\n    "search": "e721",\r\n    "camera": "e722",\r\n    "attach": "e723",\r\n    "send": "e724",\r\n    "send-fill": "e725",\r\n    "walk-solid": "e726",\r\n    "in-private": "e727",\r\n    "favorite-list": "e728",\r\n    "page-solid": "e729",\r\n    "forward": "e72a",\r\n    "back": "e72b",\r\n    "refresh": "e72c",\r\n    "share": "e72d",\r\n    "lock": "e72e",\r\n    "report-hacked": "e730",\r\n    "emi": "e731",\r\n    "favorite-star": "e734",\r\n    "favorite-star-fill": "e735",\r\n    "reading-mode": "e736",\r\n    "favicon": "e737",\r\n    "remove": "e738",\r\n    "checkbox": "e739",\r\n    "checkbox-composite": "e73a",\r\n    "checkbox-fill": "e73b",\r\n    "checkbox-indeterminate": "e73c",\r\n    "checkbox-composite-reversed": "e73d",\r\n    "check-mark": "e73e",\r\n    "back-to-window": "e73f",\r\n    "full-screen": "e740",\r\n    "resize-touch-larger": "e741",\r\n    "resize-touch-smaller": "e742",\r\n    "resize-mouse-small": "e743",\r\n    "resize-mouse-medium": "e744",\r\n    "resize-mouse-wide": "e745",\r\n    "resize-mouse-tall": "e746",\r\n    "resize-mouse-large": "e747",\r\n    "switch-user": "e748",\r\n    "print": "e749",\r\n    "up": "e74a",\r\n    "down": "e74b",\r\n    "oem": "e74c",\r\n    "delete": "e74d",\r\n    "save": "e74e",\r\n    "mute": "e74f",\r\n    "back-space-qwerty": "e750",\r\n    "return-key": "e751",\r\n    "up-arrow-shift-key": "e752",\r\n    "cloud": "e753",\r\n    "flashlight": "e754",\r\n    "rotation-lock": "e755",\r\n    "command-prompt": "e756",\r\n    "sip-move": "e759",\r\n    "sip-undock": "e75a",\r\n    "sip-redock": "e75b",\r\n    "erase-tool": "e75c",\r\n    "underscore-space": "e75d",\r\n    "gripper-tool": "e75e",\r\n    "dialpad": "e75f",\r\n    "page-left": "e760",\r\n    "page-right": "e761",\r\n    "multi-select": "e762",\r\n    "keyboard-left-handed": "e763",\r\n    "keyboard-right-handed": "e764",\r\n    "keyboard-classic": "e765",\r\n    "keyboard-split": "e766",\r\n    "volume": "e767",\r\n    "play": "e768",\r\n    "pause": "e769",\r\n    "chevron-left": "e76b",\r\n    "chevron-right": "e76c",\r\n    "inking-tool": "e76d",\r\n    "emoji2": "e76e",\r\n    "gripper-bar-horizontal": "e76f",\r\n    "system": "e770",\r\n    "personalize": "e771",\r\n    "devices": "e772",\r\n    "search-and-apps": "e773",\r\n    "globe": "e774",\r\n    "time-language": "e775",\r\n    "ease-of-access": "e776",\r\n    "update-restore": "e777",\r\n    "hang-up": "e778",\r\n    "contact-info": "e779",\r\n    "unpin": "e77a",\r\n    "contact": "e77b",\r\n    "memo": "e77c",\r\n    "incoming-call": "e77e",\r\n    "paste": "e77f",\r\n    "phone-book": "e780",\r\n    "led-light": "e781",\r\n    "error": "e783",\r\n    "gripper-bar-vertical": "e784",\r\n    "unlock": "e785",\r\n    "slideshow": "e786",\r\n    "calendar": "e787",\r\n    "gripper-resize": "e788",\r\n    "megaphone": "e789",\r\n    "trim": "e78a",\r\n    "new-window": "e78b",\r\n    "save-local": "e78c",\r\n    "color": "e790",\r\n    "data-sense": "e791",\r\n    "save-as": "e792",\r\n    "light": "e793",\r\n    "aspect-ratio": "e799",\r\n    "data-sense-bar": "e7a5",\r\n    "redo": "e7a6",\r\n    "undo": "e7a7",\r\n    "crop": "e7a8",\r\n    "open-with": "e7ac",\r\n    "rotate": "e7ad",\r\n    "red-eye": "e7b3",\r\n    "setlock-screen": "e7b5",\r\n    "map-pin2": "e7b7",\r\n    "package": "e7b8",\r\n    "warning": "e7ba",\r\n    "reading-list": "e7bc",\r\n    "education": "e7be",\r\n    "shopping-cart": "e7bf",\r\n    "train": "e7c0",\r\n    "flag": "e7c1",\r\n    "move": "e7c2",\r\n    "page": "e7c3",\r\n    "task-view": "e7c4",\r\n    "browse-photos": "e7c5",\r\n    "half-star-left": "e7c6",\r\n    "half-star-right": "e7c7",\r\n    "record": "e7c8",\r\n    "touch-pointer": "e7c9",\r\n    "lang-jpn": "e7de",\r\n    "ferry": "e7e3",\r\n    "highlight": "e7e6",\r\n    "action-center-notification": "e7e7",\r\n    "power-button": "e7e8",\r\n    "resize-touch-narrower": "e7ea",\r\n    "resize-touch-shorter": "e7eb",\r\n    "driving-mode": "e7ec",\r\n    "ringer-silent": "e7ed",\r\n    "other-user": "e7ee",\r\n    "admin": "e7ef",\r\n    "cc": "e7f0",\r\n    "sd-card": "e7f1",\r\n    "call-forwarding": "e7f2",\r\n    "settings-display-sound": "e7f3",\r\n    "tv-monitor": "e7f4",\r\n    "speakers": "e7f5",\r\n    "headphone": "e7f6",\r\n    "device-laptop-pic": "e7f7",\r\n    "device-laptop-no-pic": "e7f8",\r\n    "device-monitor-right-pic": "e7f9",\r\n    "device-monitor-left-pic": "e7fa",\r\n    "device-monitor-no-pic": "e7fb",\r\n    "game": "e7fc",\r\n    "horizontal-tab-key": "e7fd",\r\n    "streetside-split-minimize": "e802",\r\n    "streetside-split-expand": "e803",\r\n    "car": "e804",\r\n    "walk": "e805",\r\n    "bus": "e806",\r\n    "tilt-up": "e809",\r\n    "tilt-down": "e80a",\r\n    "call-control": "e80b",\r\n    "rotate-map-right": "e80c",\r\n    "rotate-map-left": "e80d",\r\n    "home": "e80f",\r\n    "parking-location": "e811",\r\n    "map-compass-top": "e812",\r\n    "map-compass-bottom": "e813",\r\n    "incident-triangle": "e814",\r\n    "touch": "e815",\r\n    "map-directions": "e816",\r\n    "start-point": "e819",\r\n    "stop-point": "e81a",\r\n    "end-point": "e81b",\r\n    "history": "e81c",\r\n    "location": "e81d",\r\n    "map-layers": "e81e",\r\n    "accident": "e81f",\r\n    "work": "e821",\r\n    "construction": "e822",\r\n    "recent": "e823",\r\n    "bank": "e825",\r\n    "download-map": "e826",\r\n    "inking-tool-fill2": "e829",\r\n    "highlight-fill2": "e82a",\r\n    "erase-tool-fill": "e82b",\r\n    "erase-tool-fill2": "e82c",\r\n    "dictionary": "e82d",\r\n    "dictionary-add": "e82e",\r\n    "tool-tip": "e82f",\r\n    "chrome-back": "e830",\r\n    "provisioning-package": "e835",\r\n    "add-remote-device": "e836",\r\n    "folder-open": "e838",\r\n    "ethernet": "e839",\r\n    "share-broadband": "e83a",\r\n    "direct-access": "e83b",\r\n    "dial-up": "e83c",\r\n    "defender-app": "e83d",\r\n    "battery-charging9": "e83e",\r\n    "battery10": "e83f",\r\n    "pinned": "e840",\r\n    "pin-fill": "e841",\r\n    "pinned-fill": "e842",\r\n    "period-key": "e843",\r\n    "punc-key": "e844",\r\n    "rev-toggle-key": "e845",\r\n    "right-arrow-key-time1": "e846",\r\n    "right-arrow-key-time2": "e847",\r\n    "left-quote": "e848",\r\n    "right-quote": "e849",\r\n    "down-shift-key": "e84a",\r\n    "up-shift-key": "e84b",\r\n    "punc-key0": "e84c",\r\n    "punc-key-left-bottom": "e84d",\r\n    "right-arrow-key-time3": "e84e",\r\n    "right-arrow-key-time4": "e84f",\r\n    "battery0": "e850",\r\n    "battery1": "e851",\r\n    "battery2": "e852",\r\n    "battery3": "e853",\r\n    "battery4": "e854",\r\n    "battery5": "e855",\r\n    "battery6": "e856",\r\n    "battery7": "e857",\r\n    "battery8": "e858",\r\n    "battery9": "e859",\r\n    "battery-charging0": "e85a",\r\n    "battery-charging1": "e85b",\r\n    "battery-charging2": "e85c",\r\n    "battery-charging3": "e85d",\r\n    "battery-charging4": "e85e",\r\n    "battery-charging5": "e85f",\r\n    "battery-charging6": "e860",\r\n    "battery-charging7": "e861",\r\n    "battery-charging8": "e862",\r\n    "battery-saver0": "e863",\r\n    "battery-saver1": "e864",\r\n    "battery-saver2": "e865",\r\n    "battery-saver3": "e866",\r\n    "battery-saver4": "e867",\r\n    "battery-saver5": "e868",\r\n    "battery-saver6": "e869",\r\n    "battery-saver7": "e86a",\r\n    "battery-saver8": "e86b",\r\n    "signal-bars1": "e86c",\r\n    "signal-bars2": "e86d",\r\n    "signal-bars3": "e86e",\r\n    "signal-bars4": "e86f",\r\n    "signal-bars5": "e870",\r\n    "signal-not-connected": "e871",\r\n    "wifi1": "e872",\r\n    "wifi2": "e873",\r\n    "wifi3": "e874",\r\n    "mob-sim-lock": "e875",\r\n    "mob-sim-missing": "e876",\r\n    "vibrate": "e877",\r\n    "roaming-international": "e878",\r\n    "roaming-domestic": "e879",\r\n    "call-forward-international": "e87a",\r\n    "call-forward-roaming": "e87b",\r\n    "jpn-romanji": "e87c",\r\n    "jpn-romanji-lock": "e87d",\r\n    "jpn-romanji-shift": "e87e",\r\n    "jpn-romanji-shift-lock": "e87f",\r\n    "status-data-transfer": "e880",\r\n    "status-data-transfer-vpn": "e881",\r\n    "status-dual-sim2": "e882",\r\n    "status-dual-sim2vpn": "e883",\r\n    "status-dual-sim1": "e884",\r\n    "status-dual-sim1vpn": "e885",\r\n    "status-sglte": "e886",\r\n    "status-sglte-cell": "e887",\r\n    "status-sglte-data-vpn": "e888",\r\n    "status-vpn": "e889",\r\n    "wifi-hotspot": "e88a",\r\n    "language-kor": "e88b",\r\n    "language-cht": "e88c",\r\n    "language-chs": "e88d",\r\n    "usb": "e88e",\r\n    "inking-tool-fill": "e88f",\r\n    "view": "e890",\r\n    "highlight-fill": "e891",\r\n    "previous": "e892",\r\n    "next": "e893",\r\n    "clear": "e894",\r\n    "sync": "e895",\r\n    "download": "e896",\r\n    "help": "e897",\r\n    "upload": "e898",\r\n    "emoji": "e899",\r\n    "two-page": "e89a",\r\n    "leave-chat": "e89b",\r\n    "mail-forward": "e89c",\r\n    "rotate-camera": "e89e",\r\n    "close-pane": "e89f",\r\n    "open-pane": "e8a0",\r\n    "preview-link": "e8a1",\r\n    "attach-camera": "e8a2",\r\n    "zoom-in": "e8a3",\r\n    "bookmarks": "e8a4",\r\n    "document": "e8a5",\r\n    "protected-document": "e8a6",\r\n    "open-in-new-window": "e8a7",\r\n    "mail-fill": "e8a8",\r\n    "view-all": "e8a9",\r\n    "video-chat": "e8aa",\r\n    "switch": "e8ab",\r\n    "rename": "e8ac",\r\n    "go": "e8ad",\r\n    "surface-hub": "e8ae",\r\n    "remote": "e8af",\r\n    "click": "e8b0",\r\n    "shuffle": "e8b1",\r\n    "movies": "e8b2",\r\n    "select-all": "e8b3",\r\n    "orientation": "e8b4",\r\n    "import": "e8b5",\r\n    "import-all": "e8b6",\r\n    "folder": "e8b7",\r\n    "webcam": "e8b8",\r\n    "picture": "e8b9",\r\n    "caption": "e8ba",\r\n    "chrome-close": "e8bb",\r\n    "show-results": "e8bc",\r\n    "message": "e8bd",\r\n    "leaf": "e8be",\r\n    "calendar-day": "e8bf",\r\n    "calendar-week": "e8c0",\r\n    "characters": "e8c1",\r\n    "mail-reply-all": "e8c2",\r\n    "read": "e8c3",\r\n    "show-bcc": "e8c4",\r\n    "hide-bcc": "e8c5",\r\n    "cut": "e8c6",\r\n    "payment-card": "e8c7",\r\n    "copy": "e8c8",\r\n    "important": "e8c9",\r\n    "mail-reply": "e8ca",\r\n    "sort": "e8cb",\r\n    "mobile-tablet": "e8cc",\r\n    "disconnect-drive": "e8cd",\r\n    "map-drive": "e8ce",\r\n    "contact-presence": "e8cf",\r\n    "priority": "e8d0",\r\n    "goto-today": "e8d1",\r\n    "font": "e8d2",\r\n    "font-color": "e8d3",\r\n    "contact2": "e8d4",\r\n    "folder-fill": "e8d5",\r\n    "audio": "e8d6",\r\n    "permissions": "e8d7",\r\n    "disable-updates": "e8d8",\r\n    "unfavorite": "e8d9",\r\n    "open-local": "e8da",\r\n    "italic": "e8db",\r\n    "underline": "e8dc",\r\n    "bold": "e8dd",\r\n    "move-to-folder": "e8de",\r\n    "like-dislike": "e8df",\r\n    "dislike": "e8e0",\r\n    "like": "e8e1",\r\n    "align-right": "e8e2",\r\n    "align-center": "e8e3",\r\n    "align-left": "e8e4",\r\n    "open-file": "e8e5",\r\n    "clear-selection": "e8e6",\r\n    "font-decrease": "e8e7",\r\n    "font-increase": "e8e8",\r\n    "font-size": "e8e9",\r\n    "cell-phone": "e8ea",\r\n    "reshare": "e8eb",\r\n    "tag": "e8ec",\r\n    "repeat-one": "e8ed",\r\n    "repeat-all": "e8ee",\r\n    "calculator": "e8ef",\r\n    "directions": "e8f0",\r\n    "library": "e8f1",\r\n    "chat-bubbles": "e8f2",\r\n    "post-update": "e8f3",\r\n    "new-folder": "e8f4",\r\n    "calendar-reply": "e8f5",\r\n    "unsync-folder": "e8f6",\r\n    "sync-folder": "e8f7",\r\n    "block-contact": "e8f8",\r\n    "switch-apps": "e8f9",\r\n    "add-friend": "e8fa",\r\n    "accept": "e8fb",\r\n    "go-to-start": "e8fc",\r\n    "bulleted-list": "e8fd",\r\n    "scan": "e8fe",\r\n    "preview": "e8ff",\r\n    "group": "e902",\r\n    "zero-bars": "e904",\r\n    "one-bar": "e905",\r\n    "two-bars": "e906",\r\n    "three-bars": "e907",\r\n    "four-bars": "e908",\r\n    "world": "e909",\r\n    "comment": "e90a",\r\n    "music-info": "e90b",\r\n    "dock-left": "e90c",\r\n    "dock-right": "e90d",\r\n    "dock-bottom": "e90e",\r\n    "repair": "e90f",\r\n    "accounts": "e910",\r\n    "dull-sound": "e911",\r\n    "manage": "e912",\r\n    "street": "e913",\r\n    "printer3d": "e914",\r\n    "radio-bullet": "e915",\r\n    "stopwatch": "e916",\r\n    "photo": "e91b",\r\n    "action-center": "e91c",\r\n    "full-circle-mask": "e91f",\r\n    "chrome-minimize": "e921",\r\n    "chrome-maximize": "e922",\r\n    "chrome-restore": "e923",\r\n    "annotation": "e924",\r\n    "back-space-qwerty-sm": "e925",\r\n    "back-space-qwerty-md": "e926",\r\n    "swipe": "e927",\r\n    "fingerprint": "e928",\r\n    "handwriting": "e929",\r\n    "chrome-back-to-window": "e92c",\r\n    "chrome-full-screen": "e92d",\r\n    "keyboard-standard": "e92e",\r\n    "keyboard-dismiss": "e92f",\r\n    "completed": "e930",\r\n    "chrome-annotate": "e931",\r\n    "label": "e932",\r\n    "i-beam": "e933",\r\n    "i-beam-outline": "e934",\r\n    "flick-down": "e935",\r\n    "flick-up": "e936",\r\n    "flick-left": "e937",\r\n    "flick-right": "e938",\r\n    "feedback-app": "e939",\r\n    "music-album": "e93c",\r\n    "streaming": "e93e",\r\n    "code": "e943",\r\n    "return-to-window": "e944",\r\n    "lightning-bolt": "e945",\r\n    "info": "e946",\r\n    "calculator-multiply": "e947",\r\n    "calculator-addition": "e948",\r\n    "calculator-subtract": "e949",\r\n    "calculator-divide": "e94a",\r\n    "calculator-squareroot": "e94b",\r\n    "calculator-percentage": "e94c",\r\n    "calculator-negate": "e94d",\r\n    "calculator-equal-to": "e94e",\r\n    "calculator-backspace": "e94f",\r\n    "component": "e950",\r\n    "dmc": "e951",\r\n    "dock": "e952",\r\n    "multimedia-dms": "e953",\r\n    "multimedia-dvr": "e954",\r\n    "multimedia-pmp": "e955",\r\n    "printfax-printer-file": "e956",\r\n    "sensor": "e957",\r\n    "storage-optical": "e958",\r\n    "communications": "e95a",\r\n    "headset": "e95b",\r\n    "projector": "e95d",\r\n    "health": "e95e",\r\n    "wire": "e95f",\r\n    "webcam2": "e960",\r\n    "input": "e961",\r\n    "mouse": "e962",\r\n    "smartcard": "e963",\r\n    "smartcard-virtual": "e964",\r\n    "media-storage-tower": "e965",\r\n    "return-key-sm": "e966",\r\n    "game-console": "e967",\r\n    "network": "e968",\r\n    "storage-network-wireless": "e969",\r\n    "storage-tape": "e96a",\r\n    "chevron-up-small": "e96d",\r\n    "chevron-down-small": "e96e",\r\n    "chevron-left-small": "e96f",\r\n    "chevron-right-small": "e970",\r\n    "chevron-up-med": "e971",\r\n    "chevron-down-med": "e972",\r\n    "chevron-left-med": "e973",\r\n    "chevron-right-med": "e974",\r\n    "devices2": "e975",\r\n    "expand-tile": "e976",\r\n    "pc1": "e977",\r\n    "presence-chicklet": "e978",\r\n    "presence-chicklet-video": "e979",\r\n    "reply": "e97a",\r\n    "set-tile": "e97b",\r\n    "type": "e97c",\r\n    "korean": "e97d",\r\n    "half-alpha": "e97e",\r\n    "full-alpha": "e97f",\r\n    "key12on": "e980",\r\n    "chinese-changjie": "e981",\r\n    "qwerty-on": "e982",\r\n    "qwerty-off": "e983",\r\n    "chinese-quick": "e984",\r\n    "japanese": "e985",\r\n    "full-hiragana": "e986",\r\n    "full-katakana": "e987",\r\n    "half-katakana": "e988",\r\n    "chinese-bo-po-mo-fo": "e989",\r\n    "chinese-pinyin": "e98a",\r\n    "construction-cone": "e98f",\r\n    "xbox-one-console": "e990",\r\n    "volume0": "e992",\r\n    "volume1": "e993",\r\n    "volume2": "e994",\r\n    "volume3": "e995",\r\n    "battery-unknown": "e996",\r\n    "wifi-attention-overlay": "e998",\r\n    "robot": "e99a",\r\n    "tap-and-send": "e9a1",\r\n    "fit-page": "e9a6",\r\n    "password-key-show": "e9a8",\r\n    "password-key-hide": "e9a9",\r\n    "bidi-ltr": "e9aa",\r\n    "bidi-rtl": "e9ab",\r\n    "forward-sm": "e9ac",\r\n    "comma-key": "e9ad",\r\n    "dash-key": "e9ae",\r\n    "dull-sound-key": "e9af",\r\n    "half-dull-sound": "e9b0",\r\n    "right-double-quote": "e9b1",\r\n    "left-double-quote": "e9b2",\r\n    "punc-key-right-bottom": "e9b3",\r\n    "punc-key1": "e9b4",\r\n    "punc-key2": "e9b5",\r\n    "punc-key3": "e9b6",\r\n    "punc-key4": "e9b7",\r\n    "punc-key5": "e9b8",\r\n    "punc-key6": "e9b9",\r\n    "punc-key9": "e9ba",\r\n    "punc-key7": "e9bb",\r\n    "punc-key8": "e9bc",\r\n    "frigid": "e9ca",\r\n    "unknown": "e9ce",\r\n    "area-chart": "e9d2",\r\n    "check-list": "e9d5",\r\n    "diagnostic": "e9d9",\r\n    "equalizer": "e9e9",\r\n    "process": "e9f3",\r\n    "processing": "e9f5",\r\n    "report-document": "e9f9",\r\n    "video-solid": "ea0c",\r\n    "mixed-media-badge": "ea0d",\r\n    "disconnect-display": "ea14",\r\n    "shield": "ea18",\r\n    "info2": "ea1f",\r\n    "action-center-asterisk": "ea21",\r\n    "beta": "ea24",\r\n    "save-copy": "ea35",\r\n    "list": "ea37",\r\n    "asterisk": "ea38",\r\n    "error-badge": "ea39",\r\n    "circle-ring": "ea3a",\r\n    "circle-fill": "ea3b",\r\n    "merge-call": "ea3c",\r\n    "private-call": "ea3d",\r\n    "record2": "ea3f",\r\n    "all-apps-mirrored": "ea40",\r\n    "bookmarks-mirrored": "ea41",\r\n    "bulleted-list-mirrored": "ea42",\r\n    "call-forward-international-mirrored": "ea43",\r\n    "call-forward-roaming-mirrored": "ea44",\r\n    "chrome-back-mirrored": "ea47",\r\n    "clear-selection-mirrored": "ea48",\r\n    "close-pane-mirrored": "ea49",\r\n    "contact-info-mirrored": "ea4a",\r\n    "dock-right-mirrored": "ea4b",\r\n    "dock-left-mirrored": "ea4c",\r\n    "expand-tile-mirrored": "ea4e",\r\n    "go-mirrored": "ea4f",\r\n    "gripper-resize-mirrored": "ea50",\r\n    "help-mirrored": "ea51",\r\n    "import-mirrored": "ea52",\r\n    "import-all-mirrored": "ea53",\r\n    "leave-chat-mirrored": "ea54",\r\n    "list-mirrored": "ea55",\r\n    "mail-forward-mirrored": "ea56",\r\n    "mail-reply-mirrored": "ea57",\r\n    "mail-reply-all-mirrored": "ea58",\r\n    "open-pane-mirrored": "ea5b",\r\n    "open-with-mirrored": "ea5c",\r\n    "parking-location-mirrored": "ea5e",\r\n    "resize-mouse-medium-mirrored": "ea5f",\r\n    "resize-mouse-small-mirrored": "ea60",\r\n    "resize-mouse-tall-mirrored": "ea61",\r\n    "resize-touch-narrower-mirrored": "ea62",\r\n    "send-mirrored": "ea63",\r\n    "send-fill-mirrored": "ea64",\r\n    "show-results-mirrored": "ea65",\r\n    "media": "ea69",\r\n    "sync-error": "ea6a",\r\n    "devices3": "ea6c",\r\n    "slow-motion-on": "ea79",\r\n    "lightbulb": "ea80",\r\n    "status-circle": "ea81",\r\n    "status-triangle": "ea82",\r\n    "status-error": "ea83",\r\n    "status-warning": "ea84",\r\n    "puzzle": "ea86",\r\n    "calendar-solid": "ea89",\r\n    "home-solid": "ea8a",\r\n    "parking-location-solid": "ea8b",\r\n    "contact-solid": "ea8c",\r\n    "construction-solid": "ea8d",\r\n    "accident-solid": "ea8e",\r\n    "ringer": "ea8f",\r\n    "pdf": "ea90",\r\n    "thought-bubble": "ea91",\r\n    "heart-broken": "ea92",\r\n    "battery-charging10": "ea93",\r\n    "battery-saver9": "ea94",\r\n    "battery-saver10": "ea95",\r\n    "call-forwarding-mirrored": "ea97",\r\n    "multi-select-mirrored": "ea98",\r\n    "broom": "ea99",\r\n    "forward-call": "eac2",\r\n    "trackers": "eadf",\r\n    "market": "eafc",\r\n    "pie-single": "eb05",\r\n    "stock-up": "eb0f",\r\n    "stock-down": "eb11",\r\n    "design": "eb3c",\r\n    "website": "eb41",\r\n    "drop": "eb42",\r\n    "radar": "eb44",\r\n    "bus-solid": "eb47",\r\n    "ferry-solid": "eb48",\r\n    "start-point-solid": "eb49",\r\n    "stop-point-solid": "eb4a",\r\n    "end-point-solid": "eb4b",\r\n    "airplane-solid": "eb4c",\r\n    "train-solid": "eb4d",\r\n    "work-solid": "eb4e",\r\n    "reminder-fill": "eb4f",\r\n    "reminder": "eb50",\r\n    "heart": "eb51",\r\n    "heart-fill": "eb52",\r\n    "ethernet-error": "eb55",\r\n    "ethernet-warning": "eb56",\r\n    "status-connecting1": "eb57",\r\n    "status-connecting2": "eb58",\r\n    "status-unsecure": "eb59",\r\n    "wifi-error0": "eb5a",\r\n    "wifi-error1": "eb5b",\r\n    "wifi-error2": "eb5c",\r\n    "wifi-error3": "eb5d",\r\n    "wifi-error4": "eb5e",\r\n    "wifi-warning0": "eb5f",\r\n    "wifi-warning1": "eb60",\r\n    "wifi-warning2": "eb61",\r\n    "wifi-warning3": "eb62",\r\n    "wifi-warning4": "eb63",\r\n    "devices4": "eb66",\r\n    "nui-iris": "eb67",\r\n    "nui-face": "eb68",\r\n    "gateway-router": "eb77",\r\n    "edit-mirrored": "eb7e",\r\n    "nuifp-start-slide-hand": "eb82",\r\n    "nuifp-start-slide-action": "eb83",\r\n    "nuifp-continue-slide-hand": "eb84",\r\n    "nuifp-continue-slide-action": "eb85",\r\n    "nuifp-roll-right-hand": "eb86",\r\n    "nuifp-roll-right-hand-action": "eb87",\r\n    "nuifp-roll-left-hand": "eb88",\r\n    "nuifp-roll-left-action": "eb89",\r\n    "nuifp-press-hand": "eb8a",\r\n    "nuifp-press-action": "eb8b",\r\n    "nuifp-press-repeat-hand": "eb8c",\r\n    "nuifp-press-repeat-action": "eb8d",\r\n    "status-error-full": "eb90",\r\n    "task-view-expanded": "eb91",\r\n    "certificate": "eb95",\r\n    "back-space-qwerty-lg": "eb96",\r\n    "return-key-lg": "eb97",\r\n    "fast-forward": "eb9d",\r\n    "rewind": "eb9e",\r\n    "photo2": "eb9f",\r\n    "mob-battery0": "eba0",\r\n    "mob-battery1": "eba1",\r\n    "mob-battery2": "eba2",\r\n    "mob-battery3": "eba3",\r\n    "mob-battery4": "eba4",\r\n    "mob-battery5": "eba5",\r\n    "mob-battery6": "eba6",\r\n    "mob-battery7": "eba7",\r\n    "mob-battery8": "eba8",\r\n    "mob-battery9": "eba9",\r\n    "mob-battery10": "ebaa",\r\n    "mob-battery-charging0": "ebab",\r\n    "mob-battery-charging1": "ebac",\r\n    "mob-battery-charging2": "ebad",\r\n    "mob-battery-charging3": "ebae",\r\n    "mob-battery-charging4": "ebaf",\r\n    "mob-battery-charging5": "ebb0",\r\n    "mob-battery-charging6": "ebb1",\r\n    "mob-battery-charging7": "ebb2",\r\n    "mob-battery-charging8": "ebb3",\r\n    "mob-battery-charging9": "ebb4",\r\n    "mob-battery-charging10": "ebb5",\r\n    "mob-battery-saver0": "ebb6",\r\n    "mob-battery-saver1": "ebb7",\r\n    "mob-battery-saver2": "ebb8",\r\n    "mob-battery-saver3": "ebb9",\r\n    "mob-battery-saver4": "ebba",\r\n    "mob-battery-saver5": "ebbb",\r\n    "mob-battery-saver6": "ebbc",\r\n    "mob-battery-saver7": "ebbd",\r\n    "mob-battery-saver8": "ebbe",\r\n    "mob-battery-saver9": "ebbf",\r\n    "mob-battery-saver10": "ebc0",\r\n    "dictionary-cloud": "ebc3",\r\n    "reset-drive": "ebc4",\r\n    "volume-bars": "ebc5",\r\n    "project": "ebc6",\r\n    "adjust-hologram": "ebd2",\r\n    "cloud-download": "ebd3",\r\n    "mob-wifi-call-bars": "ebd4",\r\n    "mob-wifi-call0": "ebd5",\r\n    "mob-wifi-call1": "ebd6",\r\n    "mob-wifi-call2": "ebd7",\r\n    "mob-wifi-call3": "ebd8",\r\n    "mob-wifi-call4": "ebd9",\r\n    "family": "ebda",\r\n    "lock-feedback": "ebdb",\r\n    "device-discovery": "ebde",\r\n    "wind-direction": "ebe6",\r\n    "right-arrow-key-time0": "ebe7",\r\n    "bug": "ebe8",\r\n    "tablet-mode": "ebfc",\r\n    "status-circle-left": "ebfd",\r\n    "status-triangle-left": "ebfe",\r\n    "status-error-left": "ebff",\r\n    "status-warning-left": "ec00",\r\n    "mob-battery-unknown": "ec02",\r\n    "network-tower": "ec05",\r\n    "city-next": "ec06",\r\n    "city-next2": "ec07",\r\n    "courthouse": "ec08",\r\n    "groceries": "ec09",\r\n    "sustainable": "ec0a",\r\n    "building-energy": "ec0b",\r\n    "toggle-filled": "ec11",\r\n    "toggle-border": "ec12",\r\n    "slider-thumb": "ec13",\r\n    "toggle-thumb": "ec14",\r\n    "miracast-logo-small": "ec15",\r\n    "miracast-logo-large": "ec16",\r\n    "plap": "ec19",\r\n    "badge": "ec1b",\r\n    "signal-roaming": "ec1e",\r\n    "mobile-locked": "ec20",\r\n    "insider-hub-app": "ec24",\r\n    "personal-folder": "ec25",\r\n    "home-group": "ec26",\r\n    "my-network": "ec27",\r\n    "keyboard-full": "ec31",\r\n    "cafe": "ec32",\r\n    "mob-signal1": "ec37",\r\n    "mob-signal2": "ec38",\r\n    "mob-signal3": "ec39",\r\n    "mob-signal4": "ec3a",\r\n    "mob-signal5": "ec3b",\r\n    "mob-wifi1": "ec3c",\r\n    "mob-wifi2": "ec3d",\r\n    "mob-wifi3": "ec3e",\r\n    "mob-wifi4": "ec3f",\r\n    "mob-airplane": "ec40",\r\n    "mob-bluetooth": "ec41",\r\n    "mob-action-center": "ec42",\r\n    "mob-location": "ec43",\r\n    "mob-wifi-hotspot": "ec44",\r\n    "language-jpn": "ec45",\r\n    "mob-quiet-hours": "ec46",\r\n    "mob-driving-mode": "ec47",\r\n    "speed-off": "ec48",\r\n    "speed-medium": "ec49",\r\n    "speed-high": "ec4a",\r\n    "this-pc": "ec4e",\r\n    "music-note": "ec4f",\r\n    "file-explorer": "ec50",\r\n    "file-explorer-app": "ec51",\r\n    "left-arrow-key-time0": "ec52",\r\n    "mic-off": "ec54",\r\n    "mic-sleep": "ec55",\r\n    "mic-error": "ec56",\r\n    "playback-rate1x": "ec57",\r\n    "playback-rate-other": "ec58",\r\n    "cash-drawer": "ec59",\r\n    "barcode-scanner": "ec5a",\r\n    "receipt-printer": "ec5b",\r\n    "mag-stripe-reader": "ec5c",\r\n    "completed-solid": "ec61",\r\n    "companion-app": "ec64",\r\n    "favicon2": "ec6c",\r\n    "swipe-reveal-art": "ec6d",\r\n    "mic-on": "ec71",\r\n    "mic-clipping": "ec72",\r\n    "tablet-selected": "ec74",\r\n    "mobile-selected": "ec75",\r\n    "laptop-selected": "ec76",\r\n    "tv-monitor-selected": "ec77",\r\n    "developer-tools": "ec7a",\r\n    "mob-call-forwarding": "ec7e",\r\n    "mob-call-forwarding-mirrored": "ec7f",\r\n    "body-cam": "ec80",\r\n    "police-car": "ec81",\r\n    "draw": "ec87",\r\n    "draw-solid": "ec88",\r\n    "lower-brightness": "ec8a",\r\n    "scroll-up-down": "ec8f",\r\n    "date-time": "ec92",\r\n    "holo-lens": "ec94",\r\n    "tiles": "eca5",\r\n    "party-leader": "eca7",\r\n    "app-icon-default": "ecaa",\r\n    "calories": "ecad",\r\n    "poi": "ecaf",\r\n    "band-battery0": "ecb9",\r\n    "band-battery1": "ecba",\r\n    "band-battery2": "ecbb",\r\n    "band-battery3": "ecbc",\r\n    "band-battery4": "ecbd",\r\n    "band-battery5": "ecbe",\r\n    "band-battery6": "ecbf",\r\n    "add-surface-hub": "ecc4",\r\n    "dev-update": "ecc5",\r\n    "unit": "ecc6",\r\n    "add-to": "ecc8",\r\n    "remove-from": "ecc9",\r\n    "radio-btn-off": "ecca",\r\n    "radio-btn-on": "eccb",\r\n    "radio-bullet2": "eccc",\r\n    "explore-content": "eccd",\r\n    "blocked2": "ece4",\r\n    "scroll-mode": "ece7",\r\n    "zoom-mode": "ece8",\r\n    "pan-mode": "ece9",\r\n    "wired-usb": "ecf0",\r\n    "wireless-usb": "ecf1",\r\n    "usb-safe-connect": "ecf3",\r\n    "action-center-notification-mirrored": "ed0c",\r\n    "action-center-mirrored": "ed0d",\r\n    "subscription-add": "ed0e",\r\n    "reset-device": "ed10",\r\n    "subscription-add-mirrored": "ed11",\r\n    "qr-code": "ed14",\r\n    "feedback": "ed15",\r\n    "hide": "ed1a",\r\n    "subtitles": "ed1e",\r\n    "subtitles-audio": "ed1f",\r\n    "open-folder-horizontal": "ed25",\r\n    "calendar-mirrored": "ed28",\r\n    "mobe-sim": "ed2a",\r\n    "mobe-sim-no-profile": "ed2b",\r\n    "mobe-sim-locked": "ed2c",\r\n    "mobe-sim-busy": "ed2d",\r\n    "signal-error": "ed2e",\r\n    "streaming-enterprise": "ed2f",\r\n    "headphone0": "ed30",\r\n    "headphone1": "ed31",\r\n    "headphone2": "ed32",\r\n    "headphone3": "ed33",\r\n    "apps": "ed35",\r\n    "keyboard-brightness": "ed39",\r\n    "keyboard-lower-brightness": "ed3a",\r\n    "skip-back10": "ed3c",\r\n    "skip-forward30": "ed3d",\r\n    "tree-folder-folder": "ed41",\r\n    "tree-folder-folder-fill": "ed42",\r\n    "tree-folder-folder-open": "ed43",\r\n    "tree-folder-folder-open-fill": "ed44",\r\n    "multimedia-dmp": "ed47",\r\n    "keyboard-one-handed": "ed4c",\r\n    "narrator": "ed4d",\r\n    "emoji-tab-people": "ed53",\r\n    "emoji-tab-smiles-animals": "ed54",\r\n    "emoji-tab-celebration-objects": "ed55",\r\n    "emoji-tab-food-plants": "ed56",\r\n    "emoji-tab-transit-places": "ed57",\r\n    "emoji-tab-symbols": "ed58",\r\n    "emoji-tab-text-smiles": "ed59",\r\n    "emoji-tab-favorites": "ed5a",\r\n    "emoji-swatch": "ed5b",\r\n    "connect-app": "ed5c",\r\n    "companion-device-framework": "ed5d",\r\n    "ruler": "ed5e",\r\n    "finger-inking": "ed5f",\r\n    "stroke-erase": "ed60",\r\n    "point-erase": "ed61",\r\n    "clear-all-ink": "ed62",\r\n    "pencil": "ed63",\r\n    "marker": "ed64",\r\n    "inking-caret": "ed65",\r\n    "inking-color-outline": "ed66",\r\n    "inking-color-fill": "ed67",\r\n    "hard-drive": "eda2",\r\n    "network-adapter": "eda3",\r\n    "touchscreen": "eda4",\r\n    "network-printer": "eda5",\r\n    "cloud-printer": "eda6",\r\n    "keyboard-shortcut": "eda7",\r\n    "brush-size": "eda8",\r\n    "narrator-forward": "eda9",\r\n    "narrator-forward-mirrored": "edaa",\r\n    "sync-badge12": "edab",\r\n    "ringer-badge12": "edac",\r\n    "asterisk-badge12": "edad",\r\n    "error-badge12": "edae",\r\n    "circle-ring-badge12": "edaf",\r\n    "circle-fill-badge12": "edb0",\r\n    "important-badge12": "edb1",\r\n    "mail-badge12": "edb3",\r\n    "pause-badge12": "edb4",\r\n    "play-badge12": "edb5",\r\n    "pen-workspace": "edc6",\r\n    "caret-left8": "edd5",\r\n    "caret-right8": "edd6",\r\n    "caret-up8": "edd7",\r\n    "caret-down8": "edd8",\r\n    "caret-left-solid8": "edd9",\r\n    "caret-right-solid8": "edda",\r\n    "caret-up-solid8": "eddb",\r\n    "caret-down-solid8": "eddc",\r\n    "strikethrough": "ede0",\r\n    "export": "ede1",\r\n    "export-mirrored": "ede2",\r\n    "button-menu": "ede3",\r\n    "cloud-search": "ede4",\r\n    "pinyin-ime-logo": "ede5",\r\n    "calligraphy-pen": "edfb",\r\n    "reply-mirrored": "ee35",\r\n    "lockscreen-desktop": "ee3f",\r\n    "task-view-settings": "ee40",\r\n    "mini-expand2mirrored": "ee47",\r\n    "mini-contract2mirrored": "ee49",\r\n    "play36": "ee4a",\r\n    "pen-palette": "ee56",\r\n    "guest-user": "ee57",\r\n    "settings-battery": "ee63",\r\n    "taskbar-phone": "ee64",\r\n    "lock-screen-glance": "ee65",\r\n    "generic-scan": "ee6f",\r\n    "image-export": "ee71",\r\n    "wifi-ethernet": "ee77",\r\n    "action-center-quiet": "ee79",\r\n    "action-center-quiet-notification": "ee7a",\r\n    "trackers-mirrored": "ee92",\r\n    "date-time-mirrored": "ee93",\r\n    "wheel": "ee94",\r\n    "virtual-machine-group": "eea3",\r\n    "button-view2": "eeca",\r\n    "pen-workspace-mirrored": "ef15",\r\n    "pen-palette-mirrored": "ef16",\r\n    "stroke-erase-mirrored": "ef17",\r\n    "point-erase-mirrored": "ef18",\r\n    "clear-all-ink-mirrored": "ef19",\r\n    "background-toggle": "ef1f",\r\n    "marquee": "ef20",\r\n    "chrome-close-contrast": "ef2c",\r\n    "chrome-minimize-contrast": "ef2d",\r\n    "chrome-maximize-contrast": "ef2e",\r\n    "chrome-restore-contrast": "ef2f",\r\n    "traffic-light": "ef31",\r\n    "replay": "ef3b",\r\n    "eyedropper": "ef3c",\r\n    "line-display": "ef3d",\r\n    "pin-pad": "ef3e",\r\n    "signature-capture": "ef3f",\r\n    "chip-card-credit-card-reader": "ef40",\r\n    "market-down": "ef42",\r\n    "player-settings": "ef58",\r\n    "landscape-orientation": "ef6b",\r\n    "flow": "ef90",\r\n    "touchpad": "efa5",\r\n    "speech": "efa9",\r\n    "knowledge-article": "f000",\r\n    "relationship": "f003",\r\n    "zip-folder": "f012",\r\n    "default-apn": "f080",\r\n    "user-apn": "f081",\r\n    "double-pinyin": "f085",\r\n    "blue-light": "f08c",\r\n    "caret-solid-left": "f08d",\r\n    "caret-solid-down": "f08e",\r\n    "caret-solid-right": "f08f",\r\n    "caret-solid-up": "f090",\r\n    "button-a": "f093",\r\n    "button-b": "f094",\r\n    "button-y": "f095",\r\n    "button-x": "f096",\r\n    "arrow-up8": "f0ad",\r\n    "arrow-down8": "f0ae",\r\n    "arrow-right8": "f0af",\r\n    "arrow-left8": "f0b0",\r\n    "quarentined-items": "f0b2",\r\n    "quarentined-items-mirrored": "f0b3",\r\n    "protractor": "f0b4",\r\n    "checklist-mirrored": "f0b5",\r\n    "status-circle7": "f0b6",\r\n    "status-checkmark7": "f0b7",\r\n    "status-error-circle7": "f0b8",\r\n    "connected": "f0b9",\r\n    "pencil-fill": "f0c6",\r\n    "calligraphy-fill": "f0c7",\r\n    "quarter-star-left": "f0ca",\r\n    "quarter-star-right": "f0cb",\r\n    "three-quarter-star-left": "f0cc",\r\n    "three-quarter-star-right": "f0cd",\r\n    "quiet-hours-badge12": "f0ce",\r\n    "back-mirrored": "f0d2",\r\n    "forward-mirrored": "f0d3",\r\n    "chrome-back-contrast": "f0d5",\r\n    "chrome-back-contrast-mirrored": "f0d6",\r\n    "chrome-back-to-window-contrast": "f0d7",\r\n    "chrome-full-screen-contrast": "f0d8",\r\n    "grid-view": "f0e2",\r\n    "clipboard-list": "f0e3",\r\n    "clipboard-list-mirrored": "f0e4",\r\n    "outline-quarter-star-left": "f0e5",\r\n    "outline-quarter-star-right": "f0e6",\r\n    "outline-half-star-left": "f0e7",\r\n    "outline-half-star-right": "f0e8",\r\n    "outline-three-quarter-star-left": "f0e9",\r\n    "outline-three-quarter-star-right": "f0ea",\r\n    "spatial-volume0": "f0eb",\r\n    "spatial-volume1": "f0ec",\r\n    "spatial-volume2": "f0ed",\r\n    "spatial-volume3": "f0ee",\r\n    "application-guard": "f0ef",\r\n    "outline-star-left-half": "f0f7",\r\n    "outline-star-right-half": "f0f8",\r\n    "chrome-annotate-contrast": "f0f9",\r\n    "defender-badge12": "f0fb",\r\n    "detachable-pc": "f103",\r\n    "left-stick": "f108",\r\n    "right-stick": "f109",\r\n    "trigger-left": "f10a",\r\n    "trigger-right": "f10b",\r\n    "bumper-left": "f10c",\r\n    "bumper-right": "f10d",\r\n    "dpad": "f10e",\r\n    "english-punctuation": "f110",\r\n    "chinese-punctuation": "f111",\r\n    "hmd": "f119",\r\n    "ctrl-spatial-right": "f11b",\r\n    "pagination-dot-outline10": "f126",\r\n    "pagination-dot-solid10": "f127",\r\n    "stroke-erase2": "f128",\r\n    "small-erase": "f129",\r\n    "large-erase": "f12a",\r\n    "folder-horizontal": "f12b",\r\n    "microphone-listening": "f12e",\r\n    "status-exclamation-circle7": "f12f",\r\n    "video360": "f131",\r\n    "giftbox-open": "f133",\r\n    "status-circle-outer": "f136",\r\n    "status-circle-inner": "f137",\r\n    "status-circle-ring": "f138",\r\n    "status-triangle-outer": "f139",\r\n    "status-triangle-inner": "f13a",\r\n    "status-triangle-exclamation": "f13b",\r\n    "status-circle-exclamation": "f13c",\r\n    "status-circle-error-x": "f13d",\r\n    "status-circle-checkmark": "f13e",\r\n    "status-circle-info": "f13f",\r\n    "status-circle-block": "f140",\r\n    "status-circle-block2": "f141",\r\n    "status-circle-question-mark": "f142",\r\n    "status-circle-sync": "f143",\r\n    "dial1": "f146",\r\n    "dial2": "f147",\r\n    "dial3": "f148",\r\n    "dial4": "f149",\r\n    "dial5": "f14a",\r\n    "dial6": "f14b",\r\n    "dial7": "f14c",\r\n    "dial8": "f14d",\r\n    "dial9": "f14e",\r\n    "dial10": "f14f",\r\n    "dial11": "f150",\r\n    "dial12": "f151",\r\n    "dial13": "f152",\r\n    "dial14": "f153",\r\n    "dial15": "f154",\r\n    "dial16": "f155",\r\n    "dial-shape1": "f156",\r\n    "dial-shape2": "f157",\r\n    "dial-shape3": "f158",\r\n    "dial-shape4": "f159",\r\n    "closed-captions-international": "f15f",\r\n    "toll-solid": "f161",\r\n    "traffic-congestion-solid": "f163",\r\n    "explore-content-single": "f164",\r\n    "collapse-content": "f165",\r\n    "collapse-content-single": "f166",\r\n    "info-solid": "f167",\r\n    "group-list": "f168",\r\n    "caret-bottom-right-solid-center8": "f169",\r\n    "progress-ring-dots": "f16a",\r\n    "checkbox14": "f16b",\r\n    "checkbox-composite14": "f16c",\r\n    "checkbox-indeterminate-combo14": "f16d",\r\n    "checkbox-indeterminate-combo": "f16e",\r\n    "status-pause7": "f175",\r\n    "character-appearance": "f17f",\r\n    "lexicon": "f180",\r\n    "screen-time": "f182",\r\n    "headless-device": "f191",\r\n    "network-sharing": "f193",\r\n    "eye-gaze": "f19d",\r\n    "toggle-left": "f19e",\r\n    "toggle-right": "f19f",\r\n    "windows-insider": "f1ad",\r\n    "chrome-switch": "f1cb",\r\n    "chrome-switch-contast": "f1cc",\r\n    "status-checkmark": "f1d8",\r\n    "status-checkmark-left": "f1d9",\r\n    "keyboard-left-aligned": "f20c",\r\n    "keyboard-right-aligned": "f20d",\r\n    "keyboard-settings": "f210",\r\n    "network-physical": "f211",\r\n    "iot": "f22c",\r\n    "unknown-mirrored": "f22e",\r\n    "view-dashboard": "f246",\r\n    "exploit-protection-settings": "f259",\r\n    "keyboard-narrow": "f260",\r\n    "keyboard12key": "f261",\r\n    "keyboard-dock": "f26b",\r\n    "keyboard-undock": "f26c",\r\n    "keyboard-left-dock": "f26d",\r\n    "keyboard-right-dock": "f26e",\r\n    "ear": "f270",\r\n    "pointer-hand": "f271",\r\n    "bullseye": "f272",\r\n    "document-approval": "f28b",\r\n    "locale-language": "f2b7",\r\n    "passive-authentication": "f32a",\r\n    "color-solid": "f354",\r\n    "network-offline": "f384",\r\n    "network-connected": "f385",\r\n    "network-connected-checkmark": "f386",\r\n    "sign-out": "f3b1",\r\n    "status-info": "f3cc",\r\n    "status-info-left": "f3cd",\r\n    "nearby-sharing": "f3e2",\r\n    "ctrl-spatial-left": "f3e7",\r\n    "interactive-dashboard": "f404",\r\n    "decline-call": "f405",\r\n    "clipping-tool": "f406",\r\n    "rectangular-clipping": "f407",\r\n    "free-form-clipping": "f408",\r\n    "copy-to": "f413",\r\n    "id-badge": "f427",\r\n    "dynamic-lock": "f439",\r\n    "pen-tips": "f45e",\r\n    "pen-tips-mirrored": "f45f",\r\n    "hwp-join": "f460",\r\n    "hwp-insert": "f461",\r\n    "hwp-strike-through": "f462",\r\n    "hwp-scratch-out": "f463",\r\n    "hwp-split": "f464",\r\n    "hwp-new-line": "f465",\r\n    "hwp-overwrite": "f466",\r\n    "mob-wifi-warning1": "f473",\r\n    "mob-wifi-warning2": "f474",\r\n    "mob-wifi-warning3": "f475",\r\n    "mob-wifi-warning4": "f476",\r\n    "mic-location-combo": "f47f",\r\n    "globe2": "f49a",\r\n    "special-effect-size": "f4a5",\r\n    "gif": "f4a9",\r\n    "sticker2": "f4aa",\r\n    "surface-hub-selected": "f4be",\r\n    "holo-lens-selected": "f4bf",\r\n    "earbud": "f4c0",\r\n    "mix-volumes": "f4c3",\r\n    "safe": "f540",\r\n    "laptop-secure": "f552",\r\n    "print-default": "f56d",\r\n    "page-mirrored": "f56e",\r\n    "landscape-orientation-mirrored": "f56f",\r\n    "color-off": "f570",\r\n    "print-all-pages": "f571",\r\n    "print-custom-range": "f572",\r\n    "page-margin-portrait-narrow": "f573",\r\n    "page-margin-portrait-normal": "f574",\r\n    "page-margin-portrait-moderate": "f575",\r\n    "page-margin-portrait-wide": "f576",\r\n    "page-margin-landscape-narrow": "f577",\r\n    "page-margin-landscape-normal": "f578",\r\n    "page-margin-landscape-moderate": "f579",\r\n    "page-margin-landscape-wide": "f57a",\r\n    "collate-landscape": "f57b",\r\n    "collate-portrait": "f57c",\r\n    "collate-portrait-separated": "f57d",\r\n    "duplex-landscape-one-sided": "f57e",\r\n    "duplex-landscape-one-sided-mirrored": "f57f",\r\n    "duplex-landscape-two-sided-long-edge": "f580",\r\n    "duplex-landscape-two-sided-long-edge-mirrored": "f581",\r\n    "duplex-landscape-two-sided-short-edge": "f582",\r\n    "duplex-landscape-two-sided-short-edge-mirrored": "f583",\r\n    "duplex-portrait-one-sided": "f584",\r\n    "duplex-portrait-one-sided-mirrored": "f585",\r\n    "duplex-portrait-two-sided-long-edge": "f586",\r\n    "duplex-portrait-two-sided-long-edge-mirrored": "f587",\r\n    "duplex-portrait-two-sided-short-edge": "f588",\r\n    "duplex-portrait-two-sided-short-edge-mirrored": "f589",\r\n    "pps-one-landscape": "f58a",\r\n    "pps-two-landscape": "f58b",\r\n    "pps-two-portrait": "f58c",\r\n    "pps-four-landscape": "f58d",\r\n    "pps-four-portrait": "f58e",\r\n    "hole-punch-off": "f58f",\r\n    "hole-punch-portrait-left": "f590",\r\n    "hole-punch-portrait-right": "f591",\r\n    "hole-punch-portrait-top": "f592",\r\n    "hole-punch-portrait-bottom": "f593",\r\n    "hole-punch-landscape-left": "f594",\r\n    "hole-punch-landscape-right": "f595",\r\n    "hole-punch-landscape-top": "f596",\r\n    "hole-punch-landscape-bottom": "f597",\r\n    "stapling-off": "f598",\r\n    "stapling-portrait-top-left": "f599",\r\n    "stapling-portrait-top-right": "f59a",\r\n    "stapling-portrait-bottom-right": "f59b",\r\n    "stapling-portrait-two-left": "f59c",\r\n    "stapling-portrait-two-right": "f59d",\r\n    "stapling-portrait-two-top": "f59e",\r\n    "stapling-portrait-two-bottom": "f59f",\r\n    "stapling-portrait-book-binding": "f5a0",\r\n    "stapling-landscape-top-left": "f5a1",\r\n    "stapling-landscape-top-right": "f5a2",\r\n    "stapling-landscape-bottom-left": "f5a3",\r\n    "stapling-landscape-bottom-right": "f5a4",\r\n    "stapling-landscape-two-left": "f5a5",\r\n    "stapling-landscape-two-right": "f5a6",\r\n    "stapling-landscape-two-top": "f5a7",\r\n    "stapling-landscape-two-bottom": "f5a8",\r\n    "stapling-landscape-book-binding": "f5a9",\r\n    "status-data-transfer-roaming": "f5aa",\r\n    "mob-sim-error": "f5ab",\r\n    "collate-landscape-separated": "f5ac",\r\n    "pps-one-portrait": "f5ad",\r\n    "stapling-portrait-bottom-left": "f5ae",\r\n    "play-solid": "f5b0",\r\n    "repeat-off": "f5e7",\r\n    "set": "f5ed",\r\n    "set-solid": "f5ee",\r\n    "fuzzy-reading": "f5ef",\r\n    "vertical-battery0": "f5f2",\r\n    "vertical-battery1": "f5f3",\r\n    "vertical-battery2": "f5f4",\r\n    "vertical-battery3": "f5f5",\r\n    "vertical-battery4": "f5f6",\r\n    "vertical-battery5": "f5f7",\r\n    "vertical-battery6": "f5f8",\r\n    "vertical-battery7": "f5f9",\r\n    "vertical-battery8": "f5fa",\r\n    "vertical-battery9": "f5fb",\r\n    "vertical-battery10": "f5fc",\r\n    "vertical-battery-charging0": "f5fd",\r\n    "vertical-battery-charging1": "f5fe",\r\n    "vertical-battery-charging2": "f5ff",\r\n    "vertical-battery-charging3": "f600",\r\n    "vertical-battery-charging4": "f601",\r\n    "vertical-battery-charging5": "f602",\r\n    "vertical-battery-charging6": "f603",\r\n    "vertical-battery-charging7": "f604",\r\n    "vertical-battery-charging8": "f605",\r\n    "vertical-battery-charging9": "f606",\r\n    "vertical-battery-charging10": "f607",\r\n    "vertical-battery-unknown": "f608",\r\n    "sim-error": "f618",\r\n    "sim-missing": "f619",\r\n    "sim-lock": "f61a",\r\n    "e-sim": "f61b",\r\n    "e-sim-no-profile": "f61c",\r\n    "e-sim-locked": "f61d",\r\n    "e-sim-busy": "f61e",\r\n    "noise-cancelation": "f61f",\r\n    "noise-cancelation-off": "f620",\r\n    "music-sharing": "f623",\r\n    "music-sharing-off": "f624",\r\n    "circle-shape-solid": "f63c",\r\n    "wifi-call-bars": "f657",\r\n    "wifi-call0": "f658",\r\n    "wifi-call1": "f659",\r\n    "wifi-call2": "f65a",\r\n    "wifi-call3": "f65b",\r\n    "wifi-call4": "f65c",\r\n    "cht-language-bar": "f69e",\r\n    "compose-mode": "f6a9",\r\n    "expressive-input-entry": "f6b8",\r\n    "emoji-tab-more-symbols": "f6ba",\r\n    "web-search": "f6fa",\r\n    "kiosk": "f712",\r\n    "rtt-logo": "f714",\r\n    "voice-call": "f715",\r\n    "go-to-message": "f716",\r\n    "return-to-call": "f71a",\r\n    "start-presenting": "f71c",\r\n    "stop-presenting": "f71d",\r\n    "productivity-mode": "f71e",\r\n    "set-history-status": "f738",\r\n    "set-history-status2": "f739",\r\n    "keyboardsettings20": "f73d",\r\n    "one-handed-right20": "f73e",\r\n    "one-handed-left20": "f73f",\r\n    "split20": "f740",\r\n    "full20": "f741",\r\n    "handwriting20": "f742",\r\n    "chevron-left20": "f743",\r\n    "chevron-left32": "f744",\r\n    "chevron-right20": "f745",\r\n    "chevron-right32": "f746",\r\n    "event12": "f763",\r\n    "mic-off2": "f781",\r\n    "delivery-optimization": "f785",\r\n    "cancel-medium": "f78a",\r\n    "search-medium": "f78b",\r\n    "accept-medium": "f78c",\r\n    "reveal-password-medium": "f78d",\r\n    "delete-word": "f7ad",\r\n    "delete-word-fill": "f7ae",\r\n    "delete-lines": "f7af",\r\n    "delete-lines-fill": "f7b0",\r\n    "instert-words": "f7b1",\r\n    "instert-words-fill": "f7b2",\r\n    "join-words": "f7b3",\r\n    "join-words-fill": "f7b4",\r\n    "overwrite-words": "f7b5",\r\n    "overwrite-words-fill": "f7b6",\r\n    "add-new-line": "f7b7",\r\n    "add-new-line-fill": "f7b8",\r\n    "overwrite-words-korean": "f7b9",\r\n    "overwrite-words-fill-korean": "f7ba",\r\n    "education-icon": "f7bb",\r\n    "window-snipping": "f7ed",\r\n    "video-capture": "f7ee",\r\n    "status-secured": "f809",\r\n    "narrator-app": "f83b",\r\n    "power-button-update": "f83d",\r\n    "restart-update": "f83e",\r\n    "update-status-dot": "f83f",\r\n    "eject": "f847",\r\n    "spelling": "f87b",\r\n    "spelling-korean": "f87c",\r\n    "spelling-serbian": "f87d",\r\n    "spelling-chinese": "f87e",\r\n    "folder-select": "f89a",\r\n    "smart-screen": "f8a5",\r\n    "exploit-protection": "f8a6",\r\n    "add-bold": "f8aa",\r\n    "subtract-bold": "f8ab",\r\n    "back-solid-bold": "f8ac",\r\n    "forward-solid-bold": "f8ad",\r\n    "pause-bold": "f8ae",\r\n    "click-solid": "f8af",\r\n    "settings-solid": "f8b0",\r\n    "microphone-solid-bold": "f8b1",\r\n    "speech-solid-bold": "f8b2",\r\n    "clicked-out-loud-solid-bold": "f8b3"\r\n}\r\n\r\n/**\r\n * \r\n * @param {HTMLElement} target \r\n * @param {Array} items \r\n * @param {Object} config \r\n * @returns \r\n */\r\nfunction contextMenu_contextMenu_contextMenu(items, config = {}) {\r\n    var container = document.createElement(\'div\');\r\n    var createdContainer = false;\r\n    var items = items;\r\n    var listeners = {};\r\n    container.className = \'winui-contextmenu-container\';\r\n\r\n    function triggerEvent(event, detail) {\r\n        if (listeners[event]) {\r\n            listeners[event].forEach(listener => listener(detail));\r\n        }\r\n    }\r\n\r\n    function generateMenu(target, items, config) {\r\n        var menuLayer = document.createElement(\'div\');\r\n        var menuList = document.createElement(\'div\');\r\n        menuLayer.className = \'winui-contextmenu-menu-layer\';\r\n        menuList.className = \'winui-contextmenu-menu\';\r\n        target.appendChild(menuLayer);\r\n        menuLayer.appendChild(menuList);\r\n\r\n        items.forEach(item => {\r\n            var itemElement = document.createElement(\'div\');\r\n            itemElement.className = \'winui-contextmenu-menu-item\';\r\n            menuList.appendChild(itemElement);\r\n\r\n            if (item.type == \'separator\') {\r\n                return itemElement.className = \'winui-contextmenu-menu-separator\';\r\n            }\r\n\r\n            var itemIcon = document.createElement(\'div\');\r\n            var itemText = document.createElement(\'div\');\r\n            var itemExpand = document.createElement(\'div\');\r\n            var itemSubmenu = document.createElement(\'div\');\r\n            var submenu = null;\r\n            var created = false;\r\n            var focused = false;\r\n            var pointerOver = false;\r\n            var disabled = item.disabled == true;\r\n\r\n            itemIcon.className = \'winui-contextmenu-menu-icon\';\r\n            itemText.className = \'winui-contextmenu-menu-text\';\r\n            itemExpand.className = \'winui-contextmenu-menu-expand\';\r\n            itemSubmenu.className = \'winui-contextmenu-submenu\';\r\n\r\n            itemIcon.innerHTML = icons[item.icon] ? \'&#x\' + icons[item.icon] + \';\' : \'\';\r\n            itemText.innerText = item.text;\r\n\r\n            if (!icons[item.icon] && item.icon) {\r\n                itemIcon.style.backgroundImage = \'url(\' + item.icon + \')\';\r\n                itemIcon.style.backgroundSize = \'cover\';\r\n                itemIcon.style.backgroundPosition = \'center\';\r\n                itemIcon.style.backgroundRepeat = \'no-repeat\';\r\n            }\r\n\r\n            itemElement.appendChild(itemIcon);\r\n            itemElement.appendChild(itemText);\r\n            itemElement.appendChild(itemExpand);\r\n            itemElement.appendChild(itemSubmenu);\r\n\r\n            if (!item.submenu || item.type == \'label\') {\r\n                itemExpand.remove();\r\n            }\r\n            if (config.showIcon == false || item.type == \'label\') {\r\n                itemIcon.remove();\r\n            }\r\n            if (disabled == true) {\r\n                itemElement.classList.add(\'disabled\');\r\n            }\r\n            if (item.type == \'label\') {\r\n                itemElement.className = \'winui-contextmenu-menu-label\';\r\n            }\r\n            if (item.selected == true) {\r\n                itemElement.classList.add(\'selected\');\r\n            }\r\n\r\n            itemElement.addEventListener(\'pointerover\', () => {\r\n                if (disabled == true || item.type == \'label\') return;\r\n                pointerOver = true;\r\n                if (created == true) return;\r\n                if (item.submenu) {\r\n                    itemElement.classList.add(\'active\');\r\n                    submenu = generateMenu(itemSubmenu, item.submenu, config);\r\n                    created = true;\r\n                }\r\n            })\r\n\r\n            itemElement.addEventListener(\'pointerout\', () => {\r\n                if (disabled == true || item.type == \'label\') return;\r\n                pointerOver = false;\r\n                function removeSubmenu() {\r\n                    if (pointerOver == true || focused == true || submenu == null) return clearTimeout(removeSubmenu);\r\n                    submenu.remove();\r\n                    submenu = null;\r\n                    created = false;\r\n                    itemElement.classList.remove(\'active\');\r\n                    clearTimeout(removeSubmenu);\r\n                }\r\n                setTimeout(removeSubmenu, 200)\r\n            })\r\n\r\n            itemElement.addEventListener(\'click\', () => {\r\n                if (disabled == true || item.type == \'label\') return;\r\n                focused = true;\r\n                if (created == true) return;\r\n                if (item.submenu) {\r\n                    itemElement.classList.add(\'active\');\r\n                    submenu = generateMenu(itemSubmenu, item.submenu, config);\r\n                    created = true;\r\n                } else {\r\n                    item.action();\r\n                    triggerEvent(\'select\', {\r\n                        \r\n                    })\r\n                    close();\r\n                }\r\n            });\r\n            return;\r\n        });\r\n        return menuLayer;\r\n    }\r\n\r\n    function open(horizontal, vertical, fixed = \'left-top\') {\r\n        if (fixed.includes(\'right\')) {\r\n            container.style.right = horizontal + \'px\';\r\n        } else {\r\n            container.style.left = horizontal + \'px\';\r\n        }\r\n        if (fixed.includes(\'bottom\')) {\r\n            container.style.bottom = vertical + \'px\';\r\n        } else {\r\n            container.style.top = vertical + \'px\';\r\n        }\r\n        container.style.zIndex = \'1\';\r\n        if (createdContainer == false) {\r\n            document.body.appendChild(container);\r\n            generateMenu(container, items, config);\r\n        }\r\n        createdContainer = true;\r\n    }\r\n\r\n    function close() {\r\n        createdContainer = false;\r\n        container.remove();\r\n        container.innerHTML = \'\';\r\n        container.style.zIndex = \'-1\';\r\n    }\r\n\r\n    function setItems(value) {\r\n        items = value;\r\n    }\r\n\r\n    function on(event, listener) {\r\n        if (!listeners[event]) {\r\n            listeners[event] = [];\r\n        }\r\n        listeners[event].push(listener);\r\n    }\r\n\r\n    return { open, close, setItems, on, container }\r\n}\r\n\r\n/* harmony default export */ const ui_contextMenu_contextMenu = (contextMenu_contextMenu_contextMenu);\n;// ./src/ui/utils.js\nfunction getPosition(element) {\r\n    function offset(el) {\r\n        var rect = el.getBoundingClientRect(),\r\n            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n            scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n        return { top: rect.top + scrollTop, left: rect.left + scrollLeft }\r\n    }\r\n    return { x: offset(element).left, y: offset(element).top };\r\n}\r\n\r\n\n;// ./src/ui/winui.js\n\r\n\r\n\r\n\r\nconst WinUI = { contextMenu: ui_contextMenu_contextMenu, utils: utils_namespaceObject };\r\n/* harmony default export */ const winui = (WinUI);\n\n//# sourceURL=webpack://winbows11/./src/ui/winui.js_+_4_modules?\n}')},3618:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ System)\n/* harmony export */ });\n/* harmony import */ var _WRT_shell_commandRegistry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2348);\n/* harmony import */ var _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5392);\n/* harmony import */ var _WRT_process_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18);\n/* harmony import */ var _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2810);\n/* harmony import */ var _viewport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(877);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(248);\n/* harmony import */ var _ui_winui_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3477);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_WRT_shell_commandRegistry_js__WEBPACK_IMPORTED_MODULE_0__, _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__, _WRT_process_js__WEBPACK_IMPORTED_MODULE_2__, _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__]);\n([_WRT_shell_commandRegistry_js__WEBPACK_IMPORTED_MODULE_0__, _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__, _WRT_process_js__WEBPACK_IMPORTED_MODULE_2__, _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// Initialize System\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst { desktopItems, desktop, root } = _viewport_js__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .A;\r\n\r\nconst { fs, process, __dirname, __filename, requireAsync, module, exports, runtimeID, ShellInstance } = _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__/* .apis */ .O;\r\nconst System = {}\r\n\r\nSystem.WRT = _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__/* .WRT */ .U;\r\nSystem.commandRegistry = _WRT_shell_commandRegistry_js__WEBPACK_IMPORTED_MODULE_0__/* .commandRegistry */ .p;\r\nSystem.localBuildId = localStorage.getItem('WINBOWS_BUILD_ID') || 'UNKNOWN';\r\nSystem.listeners = {};\r\nSystem.processes = _WRT_process_js__WEBPACK_IMPORTED_MODULE_2__/* .processes */ .uF;\r\nSystem.addEventListener = (event, listener) => {\r\n    if (!System.listeners[event]) {\r\n        System.listeners[event] = [];\r\n    }\r\n    System.listeners[event].push(listener);\r\n}\r\nSystem.removeEventListener = (event, listener) => {\r\n    if (!System.listeners[event]) {\r\n        return;\r\n    }\r\n    System.listeners[event].forEach((item, i) => {\r\n        if (item == listener) {\r\n            System.listeners[event].splice(i, 1);\r\n        }\r\n    })\r\n}\r\nSystem.triggerEvent = (event, details) => {\r\n    if (System.listeners[event]) {\r\n        System.listeners[event].forEach(listener => {\r\n            listener(details);\r\n        })\r\n    }\r\n}\r\n\r\n// Theme \r\n!(function ThemeManager() {\r\n    var theme = localStorage.getItem('WINBOWS_THEME') || 'light';\r\n    var listeners = [];\r\n    System.theme = {\r\n        set: (value) => {\r\n            theme = value != 'dark' ? 'light' : 'dark';\r\n            localStorage.setItem('WINBOWS_THEME', theme);\r\n            if (theme == 'dark') {\r\n                root.setAttribute('data-theme', 'dark');\r\n            } else {\r\n                root.removeAttribute('data-theme');\r\n            }\r\n            listeners.forEach(fn => fn(theme));\r\n        },\r\n        get: () => {\r\n            return theme;\r\n        },\r\n        onChange: (listener) => {\r\n            listeners.push(listener);\r\n        }\r\n    }\r\n    if (theme == 'dark') {\r\n        root.setAttribute('data-theme', 'dark');\r\n    }\r\n})();\r\n\r\n// Desktop\r\nawait (async function Desktop() {\r\n    System.desktop = {};\r\n    System.desktop.update = updateDesktop;\r\n\r\n    // TODO: complete widget api\r\n\r\n    var createdItems = [];\r\n    var originalContent = [];\r\n    var updating = false;\r\n    var fileTransfer = 0;\r\n\r\n    var startXInCanvas = 0;\r\n    var startYInCanvas = 0;\r\n    var startX = 0;\r\n    var startY = 0;\r\n    var pointerXInCanvas = 0;\r\n    var pointerYInCanvas = 0;\r\n    var pointerX = 0;\r\n    var pointerY = 0;\r\n    var selected = [];\r\n    var selecting = false;\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d', {\r\n        willReadFrequently: true\r\n    })\r\n\r\n    canvas.style.position = 'absolute';\r\n    canvas.style.left = '0';\r\n    canvas.style.top = '0';\r\n    canvas.style.width = '100%';\r\n    canvas.style.height = '100%';\r\n    canvas.style.pointerEvents = 'none';\r\n    desktop.appendChild(canvas);\r\n\r\n    function selectionStart(e) {\r\n        if (e.button == 2) {\r\n            // Right click\r\n            return;\r\n        }\r\n        let pageX = e.pageX;\r\n        let pageY = e.pageY;\r\n        if (e.type.startsWith('touch')) {\r\n            var touch = e.touches[0] || e.changedTouches[0];\r\n            pageX = touch.pageX;\r\n            pageY = touch.pageY;\r\n        }\r\n        selecting = true;\r\n\r\n        // For items\r\n        startX = pageX + desktopItems.scrollLeft;\r\n        startY = pageY;\r\n        pointerX = pageX + desktopItems.scrollLeft;\r\n        pointerY = pageY;\r\n\r\n        // For canvas\r\n        startXInCanvas = pageX + desktopItems.scrollLeft;\r\n        startYInCanvas = pageY;\r\n        pointerXInCanvas = pageX + desktopItems.scrollLeft;\r\n        pointerYInCanvas = pageY;\r\n\r\n        selected = [];\r\n        createdItems.forEach(item => {\r\n            item.item.classList.remove('active');\r\n        })\r\n    }\r\n\r\n    function selectionMove(e) {\r\n        if (selecting == false) return;\r\n        let pageX = e.pageX;\r\n        let pageY = e.pageY;\r\n        if (e.type.startsWith('touch')) {\r\n            var touch = e.touches[0] || e.changedTouches[0];\r\n            pageX = touch.pageX;\r\n            pageY = touch.pageY;\r\n        }\r\n        pointerX = pageX + desktopItems.scrollLeft;\r\n        pointerY = pageY;\r\n        pointerXInCanvas = pageX;\r\n        pointerYInCanvas = pageY;\r\n\r\n        render();\r\n\r\n        var rectX = startX;\r\n        var rectY = startY;\r\n        var rectWidth = Math.abs(pointerX - startX);\r\n        var rectHeight = Math.abs(pointerY - startY);\r\n\r\n        if (pointerX < startX) {\r\n            rectX = pointerX;\r\n        }\r\n        if (pointerY < startY) {\r\n            rectY = pointerY;\r\n        }\r\n\r\n        selected = [];\r\n        createdItems.forEach(item => {\r\n            var position = _utils_js__WEBPACK_IMPORTED_MODULE_6__/* .getPosition */ .E9(item.item);\r\n            var itemWidth = item.item.offsetWidth;\r\n            var itemHeight = item.item.offsetHeight;\r\n\r\n            position.x += desktopItems.scrollLeft;\r\n\r\n            if (position.x <= rectX && rectX <= position.x + itemWidth && position.y <= rectY && rectY <= position.y + itemHeight) {\r\n                // Start point in item\r\n                item.item.classList.add('active');\r\n                selected.push({\r\n                    path: item.getPath(),\r\n                    command: item.getCommand(),\r\n                    action: item.getAction(),\r\n                    remove: item.remove\r\n                });\r\n            } else if (position.x >= rectX && position.y >= rectY && position.x + itemWidth <= pointerX && position.y + itemHeight <= pointerY) {\r\n                // Rect in Selection\r\n                item.item.classList.add('active');\r\n                selected.push({\r\n                    path: item.getPath(),\r\n                    command: item.getCommand(),\r\n                    action: item.getAction(),\r\n                    remove: item.remove\r\n                });\r\n            } else if (!(position.x + itemWidth < rectX ||\r\n                position.x > rectX + rectWidth ||\r\n                position.y + itemHeight < rectY ||\r\n                position.y > rectY + rectHeight)) {\r\n                // Overlap\r\n                item.item.classList.add('active');\r\n                selected.push({\r\n                    path: item.getPath(),\r\n                    command: item.getCommand(),\r\n                    action: item.getAction(),\r\n                    remove: item.remove\r\n                });\r\n            } else {\r\n                item.item.classList.remove('active');\r\n            }\r\n        })\r\n    }\r\n\r\n    function selectionEnd(e) {\r\n        selecting = false;\r\n        _utils_js__WEBPACK_IMPORTED_MODULE_6__/* .canvasClarifier */ .al(canvas, ctx);\r\n    }\r\n\r\n    function render() {\r\n        _utils_js__WEBPACK_IMPORTED_MODULE_6__/* .canvasClarifier */ .al(canvas, ctx);\r\n\r\n        if (selecting == false) return;\r\n\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        ctx.fillStyle = '#298de547';\r\n        ctx.strokeStyle = '#298de5';\r\n        ctx.lineWidth = .75;\r\n        ctx.fillRect(startXInCanvas - desktopItems.scrollLeft, startYInCanvas, pointerXInCanvas + desktopItems.scrollLeft - startXInCanvas, pointerYInCanvas - startYInCanvas);\r\n        ctx.strokeRect(startXInCanvas - desktopItems.scrollLeft, startYInCanvas, pointerXInCanvas + desktopItems.scrollLeft - startXInCanvas, pointerYInCanvas - startYInCanvas);\r\n        ctx.closePath();\r\n        ctx.restore();\r\n    }\r\n\r\n    const events = {\r\n        \"start\": [\"mousedown\", \"touchstart\", \"pointerdown\"],\r\n        \"move\": [\"mousemove\", \"touchmove\", \"pointermove\"],\r\n        \"end\": [\"mouseup\", \"touchend\", \"pointerup\", \"blur\"]\r\n    }\r\n\r\n    events.start.forEach(event => {\r\n        desktop.addEventListener(event, e => selectionStart(e))\r\n    })\r\n    events.move.forEach(event => {\r\n        window.addEventListener(event, e => selectionMove(e))\r\n    })\r\n    events.end.forEach(event => {\r\n        window.addEventListener(event, e => selectionEnd(e))\r\n    })\r\n    desktopItems.addEventListener('scroll', render);\r\n\r\n    function generateItem() {\r\n        var item = document.createElement('div');\r\n        var itemIcon = document.createElement('div');\r\n        var itemName = document.createElement('div');\r\n        var action = function () { };\r\n        var name = '';\r\n        var icon = '';\r\n        var file = new Blob([]);\r\n        var command = '';\r\n        var type = 'unknown';\r\n        var path = '';\r\n        var id = [...Array(18)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\r\n\r\n        var properties = {\r\n            id, item,\r\n            action, name, icon, file, command, type, path,\r\n            setAction, setName, setIcon, setCommand, setFile, setType, setPath,\r\n            getPath, getCommand, getAction,\r\n            update, remove\r\n        };\r\n\r\n        item.className = 'desktop-item';\r\n        itemIcon.className = 'desktop-item-icon';\r\n        itemName.className = 'desktop-item-name';\r\n\r\n        desktopItems.appendChild(item);\r\n        item.appendChild(itemIcon);\r\n        item.appendChild(itemName);\r\n\r\n        createdItems.push(properties);\r\n\r\n        function isFunction(functionToCheck) {\r\n            return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\r\n        }\r\n\r\n        function getPath() {\r\n            return path;\r\n        }\r\n        function getCommand() {\r\n            return command;\r\n        }\r\n        function getAction() {\r\n            return action;\r\n        }\r\n\r\n        function setName(value) {\r\n            if (name == value) return true;\r\n            itemName.textContent = value;\r\n            name = value;\r\n            return false;\r\n        }\r\n        function setIcon(value) {\r\n            if (icon == value) return true;\r\n            itemIcon.style.backgroundImage = `url('${value}')`;\r\n            icon = value;\r\n            return false;\r\n        }\r\n        function setAction(value) {\r\n            if (action == value || !isFunction(value)) return true;\r\n            action = value;\r\n            return false;\r\n        }\r\n        function setCommand(value) {\r\n            if (command == value) return true;\r\n            command = value;\r\n            return false;\r\n        }\r\n        function setType(value) {\r\n            if (type == value) return true;\r\n            type = value;\r\n            return false;\r\n        }\r\n        function setPath(value) {\r\n            if (path == value) return true;\r\n            path = value;\r\n            return false;\r\n        }\r\n        function setFile(value) {\r\n            if (path == value) return true;\r\n            file = value;\r\n            return false;\r\n        }\r\n\r\n        function update(item) {\r\n            itemIcon.style.removeProperty('--item-icon');\r\n\r\n            const updateType = item.type;\r\n            const updateIcon = item.icon;\r\n            const updateFile = item.file;\r\n            const updatePath = item.path;\r\n            const updateName = item.name;\r\n            const updateAction = item.action;\r\n            const updateCommand = item.command;\r\n\r\n            var sameName = setName(updateName);\r\n            var sameIcon = setIcon(updateIcon);\r\n            var sameAction = setAction(updateAction);\r\n            var sameType = setType(updateType);\r\n            var sameCommand = setCommand(updateCommand);\r\n            var samePath = setPath(updatePath);\r\n            var sameFile = setFile(updateFile);\r\n\r\n            if (type == 'shortcut') {\r\n                fs.getFileURL('C:/Winbows/icons/emblems/shortcut.ico').then(url => {\r\n                    itemIcon.style.setProperty('--item-icon', `url(${url})`);\r\n                })\r\n            } else if (type == 'directory') {\r\n                fs.getFileURL('C:/Winbows/icons/folders/folder.ico').then(url => {\r\n                    setIcon(url);\r\n                })\r\n            } else {\r\n                var isImage = file.type.startsWith('image/');\r\n                fs.getFileURL(window.fileIcons.getIcon(path)).then(url => {\r\n                    setIcon(url);\r\n                    if (isImage) {\r\n                        try {\r\n                            fs.getFileURL(path).then(url => {\r\n                                setIcon(url);\r\n                            })\r\n                        } catch (e) { console.log('Failed to load image.'); }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n\r\n        function remove() {\r\n            item.remove();\r\n            createdItems = createdItems.filter(item => item.id != id);\r\n        }\r\n\r\n        item.addEventListener('click', (e) => {\r\n            if (command) {\r\n                const shell = new ShellInstance(process);\r\n                shell.execCommand(command).then(result => {\r\n                    // console.log(result);\r\n                    shell.dispose();\r\n                }).catch(e => {\r\n                    console.error(e);\r\n                    shell.dispose();\r\n                })\r\n            } else if (action) {\r\n                action();\r\n            }\r\n        })\r\n\r\n        item.addEventListener('contextmenu', (e) => {\r\n            var items = [\r\n                {\r\n                    className: \"refresh\",\r\n                    icon: \"refresh\",\r\n                    text: \"Refresh\",\r\n                    action: () => {\r\n                        System.desktop.update();\r\n                    }\r\n                }, {\r\n                    className: 'sort',\r\n                    icon: \"sort\",\r\n                    text: \"Sort by\",\r\n                    submenu: [{\r\n                        className: \"name\",\r\n                        /*icon: \"sort_by_name\",*/\r\n                        text: \"Name\",\r\n                        action: () => {\r\n                            System.desktop.update(true, 'name');\r\n                        }\r\n                    },/* {\r\n                            className: \"size\",\r\n                            icon: \"sort_by_size\",\r\n                            text: \"Size\",\r\n                            action: () => { }\r\n                        }, {\r\n                            className: \"type\",\r\n                            icon: \"sort_by_type\",\r\n                            text: \"Type\",\r\n                            action: () => { }\r\n                        }*/]\r\n                }, {\r\n                    type: 'separator'\r\n                }\r\n            ];\r\n            if (selected.length <= 1) {\r\n                items.push({\r\n                    className: \"open\",\r\n                    text: \"Open\",\r\n                    action: () => {\r\n                        if (command) {\r\n                            const shell = new ShellInstance(process);\r\n                            shell.execCommand(command).then(result => {\r\n                                // console.log(result);\r\n                                shell.dispose();\r\n                            }).catch(e => {\r\n                                console.error(e);\r\n                                shell.dispose();\r\n                            })\r\n                        } else if (action) {\r\n                            action();\r\n                        }\r\n                    }\r\n                })\r\n                if (type == 'file') {\r\n                    items.push({\r\n                        className: \"open-with\",\r\n                        icon: 'open-with',\r\n                        text: \"Open with...\",\r\n                        action: () => {\r\n                            new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__/* .WRT */ .U().runFile('C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/chooseViewer.wrt')//.start(`const FILE_PATH=\"${path}\";`);\r\n                        }\r\n                    });\r\n                }\r\n                if (type != 'directory') {\r\n                    items.push({\r\n                        text: 'Open file location',\r\n                        icon: 'folder-open',\r\n                        action: () => {\r\n                            const shell = new ShellInstance(process);\r\n                            shell.execCommand('explorer --config=PAGE=\\\"C:/User/Desktop\\\"').then(result => {\r\n                                // console.log(result);\r\n                                shell.dispose();\r\n                            }).catch(e => {\r\n                                console.error(e);\r\n                                shell.dispose();\r\n                            })\r\n                        }\r\n                    })\r\n                }\r\n                items.push({\r\n                    className: 'delete',\r\n                    icon: \"delete\",\r\n                    text: \"Delete\",\r\n                    action: () => {\r\n                        fs.rm(path, { recursive: true }).then(res => {\r\n                            System.desktop.update();\r\n                        });\r\n                    }\r\n                })\r\n            } else {\r\n                items = items.concat([{\r\n                    lassName: \"open\",\r\n                    text: \"Open\",\r\n                    action: () => {\r\n                        selected.forEach(item => {\r\n                            if (item.command) {\r\n                                const shell = new ShellInstance(process);\r\n                                shell.execCommand(item.command).then(result => {\r\n                                    // console.log(result);\r\n                                    shell.dispose();\r\n                                }).catch(e => {\r\n                                    console.error(e);\r\n                                    shell.dispose();\r\n                                })\r\n                            } else if (item.action) {\r\n                                item.action();\r\n                            }\r\n                        })\r\n                        selected = [];\r\n                        createdItems.forEach(item => {\r\n                            item.item.classList.remove('active');\r\n                        })\r\n                    }\r\n                }, {\r\n                    className: 'delete',\r\n                    icon: \"delete\",\r\n                    text: \"Delete\",\r\n                    action: async () => {\r\n                        var temp = selected;\r\n                        for (let i = 0; i < temp.length; i++) {\r\n                            var item = temp[i];\r\n                            await fs.rm(item.path, { recursive: true }).then(res => {\r\n                                item.remove();\r\n                            });\r\n                        }\r\n                        System.desktop.update();\r\n                        selected = [];\r\n                        createdItems.forEach(item => {\r\n                            item.item.classList.remove('active');\r\n                        })\r\n                    }\r\n                }])\r\n            }\r\n\r\n            if (file instanceof Blob && selected.length <= 1) {\r\n                if (file.type.startsWith('image/')) {\r\n                    // Alternative : item.splice(<position>,0,<item>)\r\n                    items.push({\r\n                        type: 'separator'\r\n                    })\r\n                    items.push({\r\n                        className: \"set-as-bacckground\",\r\n                        text: \"Set as background\",\r\n                        action: async () => {\r\n                            await window.setBackgroundImage(path);\r\n                        }\r\n                    })\r\n                } else if (file.type.search('javascript') > -1) {\r\n                    items.push({\r\n                        type: 'separator'\r\n                    })\r\n                    items.push({\r\n                        className: \"run-as-an-app\",\r\n                        icon: 'window-snipping',\r\n                        text: \"Run as an application\",\r\n                        action: async () => {\r\n                            new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__/* .WRT */ .U().runFile(path);\r\n                        }\r\n                    })\r\n                } else if (fsUtils.extname(path) == '.wbsf') {\r\n                    items.push({\r\n                        icon: 'window-snipping',\r\n                        text: 'Run file',\r\n                        action: async () => {\r\n                            const file = await fs.readFile(path);\r\n                            const script = await file.text();\r\n                            const shell = new ShellInstance(process);\r\n                            const commands = script.split('\\n').filter(t => t.trim().length > 0);\r\n                            try {\r\n                                for (const command of commands) {\r\n\r\n                                    await shell.execCommand(command.trim());\r\n                                }\r\n                            } catch (e) { };\r\n                            shell.dispose();\r\n                        }\r\n                    })\r\n                } else if (['.ttf', '.otf', '.woff', '.woff2', '.eot'].includes(fsUtils.extname(path))) {\r\n                    items.push({\r\n                        type: 'separator'\r\n                    })\r\n                    items.push({\r\n                        className: \"set-as-default-font\",\r\n                        icon: 'font',\r\n                        text: \"Set as default font\",\r\n                        action: async () => {\r\n                            try {\r\n                                const fontName = 'WINBOWS_FONT_' + [...Array(12)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\r\n                                const fontURL = await fs.getFileURL(path);\r\n                                const myFont = new FontFace(fontName, `url(${fontURL})`);\r\n                                await myFont.load();\r\n\r\n                                window.document.fonts.add(myFont);\r\n                                root.style.setProperty('--winbows-font-default', fontName);\r\n\r\n                            } catch (error) {\r\n                                console.error('Failed to load font', error);\r\n                            }\r\n                            return;\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            const menu = _ui_winui_js__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .A.contextMenu(items, {\r\n                // showIcon: false\r\n            })\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            let pageX = e.pageX;\r\n            let pageY = e.pageY;\r\n            if (e.type.startsWith('touch')) {\r\n                var touch = e.touches[0] || e.changedTouches[0];\r\n                pageX = touch.pageX;\r\n                pageY = touch.pageY;\r\n            }\r\n            menu.container.style.setProperty('--contextmenu-bg', 'var(--winbows-taskbar-bg)');\r\n            menu.container.style.setProperty('--contextmenu-backdrop-filter', 'saturate(3) blur(20px)');\r\n            menu.open(pageX, pageY, 'left-top');\r\n            if (_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .getPosition */ .E9(menu.container).x + menu.container.offsetWidth > window.innerWidth) {\r\n                menu.container.style.left = 'unset';\r\n                menu.container.style.right = '4px';\r\n            }\r\n            if (_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .getPosition */ .E9(menu.container).y + menu.container.offsetHeight > window.innerHeight - 48) {\r\n                menu.container.style.top = 'unset';\r\n                menu.container.style.bottom = 'calc(var(--taskbar-height) + 4px)';\r\n            }\r\n            new Array(\"mousedown\", \"touchstart\", \"pointerdown\").forEach(event => {\r\n                window.addEventListener(event, (e) => {\r\n                    if (menu.container.contains(e.target)) return;\r\n                    menu.close();\r\n                })\r\n            })\r\n        }, false);\r\n\r\n        return;\r\n    }\r\n\r\n    async function updateDesktop(force = true, sort = 'default') {\r\n        if (window.modes.debug == true) {\r\n            console.log('Updating Desktop', '\\nForce : ' + force);\r\n        }\r\n        fs.readdir('C:/User/Desktop').then(async items => {\r\n            if (items == originalContent && force == false || updating == true) return;\r\n            originalContent = items;\r\n            updating = true;\r\n            var results = [];\r\n            var count = Math.abs(items.length - createdItems.length);\r\n            if (createdItems.length < items.length) {\r\n                for (let i = 0; i < count; i++) {\r\n                    generateItem();\r\n                }\r\n            } else if (createdItems.length > items.length) {\r\n                for (let i = 0; i < count; i++) {\r\n                    if (createdItems[i]) {\r\n                        createdItems[i].remove();\r\n                    }\r\n                }\r\n            }\r\n            for (let i = 0; i < items.length; i++) {\r\n                const stat = fs.stat(items[i]);\r\n                results.push({\r\n                    stat,\r\n                    path: items[i],\r\n                    name: fsUtils.basename(items[i]),\r\n                    content: stat.isFile() ? await fs.readFile(items[i]).catch(err => console.error(err)) : new Blob([])\r\n                });\r\n            }\r\n            if (sort == 'name') {\r\n                // TODO\r\n            }\r\n            for (let i = 0; i < results.length; i++) {\r\n                ; await (async (i) => {\r\n                    var { stat, path, name, content } = results[i];\r\n                    var type = fsUtils.extname(path) == '.link' ? 'shortcut' : stat.isFile() ? 'file' : 'directory';\r\n                    var detail = {};\r\n                    try {\r\n                        if (type == 'shortcut') {\r\n                            detail = JSON.parse(await content.text());\r\n                        } else if (type == 'directory') {\r\n                            detail = {\r\n                                name: name,\r\n                                command: `run explorer --config=PAGE=\\\"${path}\\\"`\r\n                            };\r\n                        } else {\r\n                            detail = {\r\n                                name: name,\r\n                                action: () => {\r\n                                    var defaultViewer = System.FileViewers.getDefaultViewer(path);\r\n                                    if (defaultViewer != null) {\r\n                                        new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__/* .WRT */ .U().runFile(defaultViewer.script)//.start(`const FILE_PATH=\"${path}\";`);\r\n                                    } else {\r\n                                        if (window.modes.debug == true) {\r\n                                            console.log('C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/chooseViewer.wrt')\r\n                                        }\r\n                                        new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__/* .WRT */ .U().runFile('C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/chooseViewer.wrt')//.start(`const FILE_PATH=\"${path}\";`);\r\n                                    }\r\n                                }\r\n                            };\r\n                        }\r\n                    } catch (e) { console.error(e) };\r\n                    detail.path = path;\r\n                    detail.type = type;\r\n                    detail.file = content;\r\n                    function update() {\r\n                        createdItems[i].update(detail);\r\n                        clearTimeout(update);\r\n                    }\r\n                    setTimeout(update, i);\r\n                    return;\r\n                })(i);\r\n            }\r\n            updating = false;\r\n        })\r\n    }\r\n\r\n    const target = 'C:/User/Desktop/';\r\n    const dropZone = desktop;\r\n\r\n    var checked = false;\r\n    var allowed = false;\r\n\r\n    function checkType(event) {\r\n        const items = event.dataTransfer.items;\r\n        let isFileOrFolder = false;\r\n        allowed = false;\r\n\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (items[i].kind === 'file') {\r\n                isFileOrFolder = true;\r\n                allowed = true;\r\n            }\r\n        }\r\n\r\n        if (isFileOrFolder) {\r\n            dropZone.classList.add('dragover');\r\n        } else {\r\n            dropZone.classList.remove('dragover');\r\n        }\r\n    }\r\n\r\n    dropZone.addEventListener('dragover', (event) => {\r\n        event.preventDefault();\r\n\r\n        if (checked == false) {\r\n            checkType(event);\r\n            checked = true;\r\n        }\r\n    });\r\n\r\n    dropZone.addEventListener('dragenter', (event) => {\r\n        event.preventDefault();\r\n\r\n        if (checked == false) {\r\n            checkType(event);\r\n            checked = true;\r\n        }\r\n    });\r\n\r\n    dropZone.addEventListener('dragleave', (event) => {\r\n        event.preventDefault();\r\n        checked = false;\r\n        dropZone.classList.remove('dragover');\r\n    });\r\n\r\n    dropZone.addEventListener('drop', async (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        checked = false;\r\n        dropZone.classList.remove('dragover');\r\n\r\n        if (allowed == false) return;\r\n        allowed == false;\r\n\r\n        function hashURL(url) {\r\n            return crypto.subtle.digest('SHA-256', new TextEncoder().encode(url)).then(buf =>\r\n                Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2, '0')).join('')\r\n            );\r\n        }\r\n\r\n        const items = e.dataTransfer.items;\r\n        var processed = 0;\r\n        var current = 'Unknown';\r\n        var title = 'Uploading File to Desktop...';\r\n        var worker;\r\n        var promises = [];\r\n\r\n        for (const item of items) {\r\n            const entry = item.webkitGetAsEntry?.();\r\n            if (entry) {\r\n                promises.push(readEntryRecursively(entry, ''));\r\n            } else if (item.kind === 'string' && item.type === 'text/uri-list') {\r\n                // URL\r\n                promises.push(new Promise((resolve, reject) => {\r\n                    item.getAsString(async url => {\r\n                        try {\r\n                            const res = await fetch(url);\r\n                            // Try to get the file name from the header\r\n                            const disposition = res.headers.get('Content-Disposition');\r\n                            let filename = null;\r\n\r\n                            if (disposition && disposition.includes('filename=')) {\r\n                                const matches = disposition.match(/filename\\*=UTF-8''(.+)$|filename=\"?([^\"]+)\"?/);\r\n                                if (matches) {\r\n                                    filename = decodeURIComponent(matches[1] || matches[2]);\r\n                                }\r\n                            }\r\n\r\n                            // Get it from url\r\n                            if (!filename) {\r\n                                filename = await hashURL(url);\r\n                            }\r\n\r\n                            const blob = await res.blob();\r\n\r\n                            return resolve({\r\n                                path: '',\r\n                                file: new File([blob], filename, {\r\n                                    type: blob.type,\r\n                                    lastModified: Date.now()\r\n                                })\r\n                            });\r\n                        } catch (e) {\r\n                            return reject(e);\r\n                        }\r\n                    })\r\n                }));\r\n            } else {\r\n                // Not a file, directory, or URL\r\n            }\r\n        }\r\n\r\n        const results = (await Promise.all(promises)).flat();\r\n        const total = results.length;\r\n        console.log(results, total);\r\n\r\n\r\n        async function readEntryRecursively(entry, path = '') {\r\n            return new Promise(async (resolve, reject) => {\r\n                if (entry.isFile) {\r\n                    entry.file(file => {\r\n                        resolve({ path: path, file });\r\n                    });\r\n                } else if (entry.isDirectory) {\r\n                    const reader = entry.createReader();\r\n                    reader.readEntries(async entries => {\r\n                        const promises = entries.map(e =>\r\n                            readEntryRecursively(e, path + entry.name + '/')\r\n                        );\r\n                        const results = await Promise.all(promises);\r\n                        resolve(results.flat());\r\n                    });\r\n                }\r\n            })\r\n        }\r\n\r\n        if (window.modes.debug == true) {\r\n            console.log('run', total, results);\r\n        }\r\n        new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_3__/* .WRT */ .U().runFile('C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/fileTransfer.js')/*.start()*/.then(async process => {\r\n            fileTransfer++;\r\n            worker = process.worker;\r\n\r\n            if (window.modes.debug == true) {\r\n                console.log(results)\r\n            }\r\n\r\n            worker.postMessage({\r\n                type: 'init',\r\n                token: process.token\r\n            })\r\n\r\n            worker.postMessage({\r\n                type: 'transfer',\r\n                token: process.token,\r\n                files: results, title,\r\n                target: 'C:/User/Desktop/'\r\n            })\r\n\r\n            worker.addEventListener('message', async (e) => {\r\n                if (!e.data.token == process.token) return;\r\n                // console.log('MAIN', e.data.type)\r\n                if (e.data.type == 'start') {\r\n                    worker.postMessage({\r\n                        type: 'init',\r\n                        token: process.token\r\n                    })\r\n                }\r\n                if (e.data.type == 'init') {\r\n                    // console.log('init')\r\n                    worker.postMessage({\r\n                        type: 'transfer',\r\n                        token: process.token,\r\n                        files: results, title,\r\n                        target: 'C:/User/Desktop/'\r\n                    })\r\n                }\r\n                if (e.data.type == 'completed') {\r\n                    fileTransfer--;\r\n                    updateDesktop();\r\n                }\r\n            });\r\n\r\n            // process.exit();\r\n        });\r\n    });\r\n\r\n    desktop.addEventListener('contextmenu', (e) => {\r\n        const menu = _ui_winui_js__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .A.contextMenu([\r\n            {\r\n                className: \"refresh\",\r\n                icon: \"refresh\",\r\n                text: \"Refresh\",\r\n                action: () => {\r\n                    System.desktop.update();\r\n                }\r\n            }, {\r\n                className: 'sort',\r\n                icon: \"sort\",\r\n                text: \"Sort by\",\r\n                submenu: [{\r\n                    className: \"name\",\r\n                    /*icon: \"sort_by_name\",*/\r\n                    text: \"Name\",\r\n                    action: () => {\r\n                        System.desktop.update(true, 'name');\r\n                    }\r\n                }]\r\n            }\r\n        ])\r\n        e.preventDefault();\r\n        let pageX = e.pageX;\r\n        let pageY = e.pageY;\r\n        if (e.type.startsWith('touch')) {\r\n            var touch = e.touches[0] || e.changedTouches[0];\r\n            pageX = touch.pageX;\r\n            pageY = touch.pageY;\r\n        }\r\n        menu.container.style.setProperty('--contextmenu-bg', 'var(--winbows-taskbar-bg)');\r\n        menu.container.style.setProperty('--contextmenu-backdrop-filter', 'saturate(3) blur(20px)');\r\n        menu.open(pageX, pageY, 'left-top');\r\n        if (_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .getPosition */ .E9(menu.container).x + menu.container.offsetWidth > window.innerWidth) {\r\n            menu.container.style.left = 'unset';\r\n            menu.container.style.right = '4px';\r\n        }\r\n        if (_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .getPosition */ .E9(menu.container).y + menu.container.offsetHeight > window.innerHeight - 48) {\r\n            menu.container.style.top = 'unset';\r\n            menu.container.style.bottom = 'calc(var(--taskbar-height) + 4px)';\r\n        }\r\n        new Array(\"mousedown\", \"touchstart\", \"pointerdown\").forEach(event => {\r\n            window.addEventListener(event, (e) => {\r\n                if (menu.container.contains(e.target)) return;\r\n                menu.close();\r\n            })\r\n        })\r\n    })\r\n\r\n    var defaultShortcuts = [{\r\n        path: 'C:/User/Desktop/desktop.link',\r\n        content: {\r\n            icon: await fs.getFileURL('C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/icons/desktop.ico'),\r\n            name: 'Desktop',\r\n            command: 'explorer --config=PAGE=\\\"C:/User/Desktop\\\"'\r\n        }\r\n    }, {\r\n        path: 'C:/User/Desktop/github.link',\r\n        content: {\r\n            icon: await fs.getFileURL('C:/Winbows/icons/github.png'),\r\n            name: 'Github',\r\n            command: 'open \"https://github.com/Siyu1017/winbows11/\"'\r\n        }\r\n    }, {\r\n        path: 'C:/User/Desktop/code.link',\r\n        content: {\r\n            icon: await fs.getFileURL('C:/Winbows/icons/applications/office/code.ico'),\r\n            name: 'VSCode',\r\n            command: 'code'\r\n        }\r\n    }, {\r\n        path: 'C:/User/Desktop/author.link',\r\n        content: {\r\n            icon: await fs.getFileURL('C:/Winbows/icons/author.ico'),\r\n            name: 'Siyu',\r\n            command: 'open \"https://siyu1017.github.io/\"'\r\n        }\r\n    }]\r\n\r\n    for (let i = 0; i < defaultShortcuts.length; i++) {\r\n        var content = JSON.stringify(defaultShortcuts[i].content);\r\n        fs.writeFile(defaultShortcuts[i].path, new Blob([content], {\r\n            type: 'application/winbows-link'\r\n        }));\r\n    }\r\n\r\n    var lastTime = Date.now();\r\n\r\n    fs.on('change', (e) => {\r\n        if (e.path.search('C:/User/Desktop') > -1 && fileTransfer == 0) {\r\n            var timeout = () => {\r\n                var now = Date.now();\r\n                if (lastTime - now > 1000) {\r\n                    lastTime = now;\r\n                    updateDesktop(false);\r\n                }\r\n                clearTimeout(timeout);\r\n            };\r\n            setTimeout(timeout, 1000);\r\n        }\r\n    });\r\n\r\n    desktopItems.addEventListener('wheel', function (event) {\r\n        var delta = event.deltaY || event.detail || event.wheelDelta;\r\n        if (delta < 0) {\r\n            desktopItems.scrollTo({\r\n                behavior: \"smooth\",\r\n                left: desktopItems.scrollLeft - 300\r\n            })\r\n        } else {\r\n            desktopItems.scrollTo({\r\n                behavior: \"smooth\",\r\n                left: desktopItems.scrollLeft + 300\r\n            })\r\n        }\r\n        event.preventDefault();\r\n    });\r\n})();\r\n\r\nSystem.FileViewers = {\r\n    // Deprecated Method : System.FileViewers.viewers\r\n    viewers: {\r\n        '*': '',\r\n        '.css': ['code'],\r\n        '.js': ['code'],\r\n        '.html': ['code', 'edge'],\r\n        '.txt': ['code'],\r\n        '.jpg': ['mediaplayer', 'edge', 'photos'],\r\n        '.jpeg': ['mediaplayer', 'edge', 'photos'],\r\n        '.png': ['mediaplayer', 'edge', 'photos'],\r\n        '.gif': ['mediaplayer', 'edge', 'photos'],\r\n        '.webp': ['mediaplayer', 'edge', 'photos'],\r\n        '.bmp': ['mediaplayer', 'edge', 'photos'],\r\n        '.svg': ['mediaplayer', 'edge', 'photos'],\r\n        '.ico': ['mediaplayer', 'edge', 'photos'],\r\n        '.pdf': [],\r\n        '.json': ['code'],\r\n        '.xml': ['code'],\r\n        '.zip': [],\r\n        '.tar': [],\r\n        '.gz': [],\r\n        '.mp3': ['mediaplayer'],\r\n        '.wav': ['mediaplayer'],\r\n        '.ogg': ['mediaplayer'],\r\n        '.mp4': ['mediaplayer'],\r\n        '.webm': ['mediaplayer'],\r\n        '.avi': ['mediaplayer'],\r\n        '.mov': ['mediaplayer'],\r\n        '.li.nk': ['edge']\r\n    },\r\n    defaultViewers: {\r\n        '.css': 'code',\r\n        '.js': 'code',\r\n        '.html': 'edge',\r\n        '.link': 'edge',\r\n        '.json': 'json-viewewr'\r\n    },\r\n    registeredViewers: {\r\n        'code': {\r\n            name: 'Visual Studio Code',\r\n            script: 'C:/Program Files/VSCode/viewer.js',\r\n            accepts: [/*'css', 'js', 'jsx', 'ts', 'ejs', 'html', 'txt', 'json', 'xml', 'py', 'java', 'c', 'h', */'*']\r\n        },\r\n        'edge': {\r\n            name: 'Microhard Edge',\r\n            script: 'C:/Winbows/SystemApps/Microhard.Winbows.Edge/viewer.js',\r\n            accepts: ['.html', '.pdf', '.txt', '.js', '.css', '.png', '.jpg', '.jpeg', '.svg', '.bmp', '.ico', '.webp', '.gif']\r\n        },\r\n        'edgebeta': {\r\n            name: 'Microhard Edge BETA',\r\n            script: 'C:/Winbows/SystemApps/Microhard.Winbows.Edge.BETA/viewer.js',\r\n            accepts: ['.html', '.pdf', '.txt', '.js', '.css', '.png', '.jpg', '.jpeg', '.svg', '.bmp', '.ico', '.webp', '.gif']\r\n        },\r\n        'photos': {\r\n            name: 'Photos',\r\n            script: 'C:/Winbows/SystemApps/Microhard.Winbows.Photos/viewer.js',\r\n            accepts: ['*']\r\n        },\r\n        'mediaplayer': {\r\n            name: 'MediaPlayer',\r\n            script: 'C:/Winbows/SystemApps/Microhard.Winbows.MediaPlayer/window.js',\r\n            accepts: ['.mp3', '.wav', '.ogg', '.mp4', '.webm', '.avi', '.mov']\r\n        },\r\n        'json-viewer': {\r\n            name: 'JSON Viewer',\r\n            script: 'C:/Program Files/JSON Viewer/viewer.js',\r\n            accepts: ['.json']\r\n        },\r\n        'notepad': {\r\n            name: 'Notepad',\r\n            script: 'C:/Program Files/Notepad/viewer.js',\r\n            accepts: ['*']\r\n        }\r\n    },\r\n    isRegisterd: (name) => {\r\n        return System.FileViewers.registeredViewers.hasOwnProperty(name);\r\n    },\r\n    updateViewer: (viewer, prop, value) => {\r\n        if (System.FileViewers.isRegisterd(viewer)) {\r\n            System.FileViewers.registeredViewers[viewer][prop] = value;\r\n            localStorage.setItem('WINBOWS_SYSTEM_FV_REGISTERED_VIEWERS', JSON.stringify(System.FileViewers.registeredViewers));\r\n        }\r\n    },\r\n    registerViewer: (viewer, name, script, accepts) => {\r\n        if (!System.FileViewers.isRegisterd(viewer)) {\r\n            System.FileViewers.registeredViewers[viewer] = {\r\n                name: name,\r\n                script: script,\r\n                accepts: accepts\r\n            };\r\n        }\r\n        localStorage.setItem('WINBOWS_SYSTEM_FV_REGISTERED_VIEWERS', JSON.stringify(System.FileViewers.registeredViewers));\r\n    },\r\n    unregisterViewer: (viewer) => {\r\n        if (System.FileViewers.isRegisterd(viewer)) {\r\n            delete System.FileViewers.registeredViewers[viewer];\r\n        }\r\n        localStorage.setItem('WINBOWS_SYSTEM_FV_REGISTERED_VIEWERS', JSON.stringify(System.FileViewers.registeredViewers));\r\n    },\r\n    // Deprecated Method\r\n    setViewer: (extension, app) => {\r\n        if (!System.FileViewers.viewers[extension]) {\r\n            System.FileViewers.viewers[extension] = [];\r\n        }\r\n        System.FileViewers.viewers[extension].push(app);\r\n        localStorage.setItem('WINBOWS_SYSTEM_FV_VIEWERS', JSON.stringify(System.FileViewers.viewers));\r\n        console.warn('%cSystem.FileViewers.setViewer()%c has been deprecated.\\nPlease use %cSystem.FileViewers.updateViewer()%c instead', 'font-family:monospace;background:rgb(24,24,24);color:#fff;border-radius:4px;padding:4px 6px;', '', 'font-family:monospace;background:rgb(24,24,24);color:#fff;border-radius:4px;padding:4px 6px;', '')\r\n    },\r\n    // Deprecated Method\r\n    unsetViewer: (extension, app) => {\r\n        var index = System.FileViewers.viewers[extension].indexOf(app);\r\n        if (index != -1) {\r\n            System.FileViewers.viewers[extension].splice(index, 1);\r\n        }\r\n        localStorage.setItem('WINBOWS_SYSTEM_FV_VIEWERS', JSON.stringify(System.FileViewers.viewers));\r\n        console.warn('%cSystem.FileViewers.unsetViewer()%c has been deprecated.\\nPlease use %cSystem.FileViewers.updateViewer()%c instead', 'font-family:monospace;background:rgb(24,24,24);color:#fff;border-radius:4px;padding:4px 6px;', '', 'font-family:monospace;background:rgb(24,24,24);color:#fff;border-radius:4px;padding:4px 6px;', '')\r\n    },\r\n    setDefaultViewer: (extension, app) => {\r\n        var exists = false;\r\n        Object.keys(System.FileViewers.registeredViewers).forEach(viewer => {\r\n            if (viewer == app || System.FileViewers.registeredViewers[viewer] == app) {\r\n                exists = viewer;\r\n            }\r\n        })\r\n        if (exists != false) {\r\n            System.FileViewers.defaultViewers[extension] = exists;\r\n        }\r\n        localStorage.setItem('WINBOWS_SYSTEM_FV_DEFAULT_VIEWERS', JSON.stringify(System.FileViewers.defaultViewers));\r\n    },\r\n    unsetDefaultViewer: (extension, app) => {\r\n        if (System.FileViewers.defaultViewers[extension]) {\r\n            System.FileViewers.defaultViewers.splice(System.FileViewers.defaultViewers.indexOf(app), 1)\r\n        }\r\n        localStorage.setItem('WINBOWS_SYSTEM_FV_DEFAULT_VIEWERS', JSON.stringify(System.FileViewers.defaultViewers));\r\n    },\r\n    getDefaultViewer: (file = '') => {\r\n        var extension = fsUtils.extname(file).toLowerCase();\r\n        var viewer = System.FileViewers.defaultViewers[extension];\r\n        if (!viewer) {\r\n            return null;\r\n        } else {\r\n            return System.FileViewers.registeredViewers[viewer];\r\n        }\r\n    },\r\n    getViewers: (file = '') => {\r\n        var extension = fsUtils.extname(file).toLowerCase();\r\n        var accepted = ['*', extension];\r\n        if (extension == '') {\r\n            accepted = ['*'];\r\n        }\r\n        var viewers = {};\r\n        Object.keys(System.FileViewers.registeredViewers).forEach(viewer => {\r\n            if (window.modes.debug == true) {\r\n                console.log(System.FileViewers.registeredViewers[viewer])\r\n            }\r\n            if (System.FileViewers.registeredViewers[viewer].accepts.some(ext => accepted.includes(ext))) {\r\n                viewers[viewer] = System.FileViewers.registeredViewers[viewer];\r\n            }\r\n        })\r\n        if (window.modes.debug == true) {\r\n            console.log(file, extension, viewers)\r\n        }\r\n        return viewers;\r\n    }\r\n}\r\n\r\nif (localStorage.getItem('WINBOWS_SYSTEM_FV_VIEWERS') && window.modes.dev == false) {\r\n    System.FileViewers.viewers = JSON.parse(localStorage.getItem('WINBOWS_SYSTEM_FV_VIEWERS'));\r\n} else {\r\n    localStorage.setItem('WINBOWS_SYSTEM_FV_VIEWERS', JSON.stringify(System.FileViewers.viewers));\r\n}\r\nif (localStorage.getItem('WINBOWS_SYSTEM_FV_DEFAULT_VIEWERS') && window.modes.dev == false) {\r\n    System.FileViewers.defaultViewers = JSON.parse(localStorage.getItem('WINBOWS_SYSTEM_FV_DEFAULT_VIEWERS'));\r\n} else {\r\n    localStorage.setItem('WINBOWS_SYSTEM_FV_DEFAULT_VIEWERS', JSON.stringify(System.FileViewers.defaultViewers));\r\n}\r\nif (localStorage.getItem('WINBOWS_SYSTEM_FV_REGISTERED_VIEWERS') && window.modes.dev == false) {\r\n    System.FileViewers.registeredViewers = JSON.parse(localStorage.getItem('WINBOWS_SYSTEM_FV_REGISTERED_VIEWERS'));\r\n} else {\r\n    localStorage.setItem('WINBOWS_SYSTEM_FV_REGISTERED_VIEWERS', JSON.stringify(System.FileViewers.registeredViewers));\r\n}\r\n\r\nwindow.System = System;\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://winbows11/./src/kernel/system.js?\n}")},3717:(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1601);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6314);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.winui-contextmenu-container {\r\n    position: fixed;\r\n    --contextmenu-bg: #fff;\r\n    --contextmenu-color: #000;\r\n    --contextmenu-border: 1px solid rgba(0, 0, 0, .1);\r\n    --contextmenu-hover: rgba(0, 0, 0, .05);\r\n    --contextmenu-active: rgba(0, 0, 0, .1);\r\n    --contextmenu-separator-bg: rgba(0, 0, 0, .1);\r\n    --contextmenu-backdrop-filter: initial;\r\n    --contextmenu-icon-width: 1rem;\r\n    --contextmenu-icon-height: 1rem;\r\n    --contextmenu-icon-size: .875rem;\r\n    --contextmenu-text-size: .75rem;\r\n    --contextmenu-expand-width: 1rem;\r\n    --contextmenu-expand-height: 1rem;\r\n    --contextmenu-expand-size: .875rem;\r\n    --contextmenu-maxwidth: 20rem;\r\n    --contextmenu-maxheight: 1.5rem;\r\n    --contextmenu-item-padding: .375rem .75rem;\r\n    --contextmenu-label-padding: .375rem .75rem;\r\n}\r\n\r\n[data-theme=\"dark\"] .winui-contextmenu-container {\r\n    --contextmenu-bg: rgb(30, 30, 30);\r\n    --contextmenu-color: #fff;\r\n    --contextmenu-border: 1px solid rgba(255, 255, 255, .08);\r\n    --contextmenu-hover: rgba(255, 255, 255, .05);\r\n    --contextmenu-active: rgba(255, 255, 255, .1);\r\n    --contextmenu-separator-bg: rgba(255, 255, 255, .08);\r\n}\r\n\r\n.winui-contextmenu-container,\r\n.winui-contextmenu-container * {\r\n    font-family: var(--winbows-font-default);\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    -webkit-user-drag: none;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.winui-contextmenu-menu-layer {\r\n    height: fit-content;\r\n}\r\n\r\n.winui-contextmenu-menu {\r\n    backdrop-filter: var(--contextmenu-backdrop-filter);\r\n    -webkit-backdrop-filter: var(--contextmenu-backdrop-filter);\r\n    background: var(--contextmenu-bg);\r\n    display: flex;\r\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 4px 16px 4px;\r\n    border: var(--contextmenu-border);\r\n    border-radius: .5rem;\r\n    flex-direction: column;\r\n    padding: .25rem;\r\n    gap: .25rem;\r\n    transition: all .2s ease-in-out;\r\n}\r\n\r\n.winui-contextmenu-menu-separator {\r\n    height: 1.5px;\r\n    width: 100%;\r\n    background: var(--contextmenu-separator-bg);\r\n}\r\n\r\n.winui-contextmenu-menu-item,\r\n.winui-contextmenu-menu-label {\r\n    display: flex;\r\n    border-radius: .25rem;\r\n    cursor: default;\r\n    position: relative;\r\n    transition: all .1s ease-in-out;\r\n    align-items: center;\r\n    max-width: var(--contextmenu-maxwidth);\r\n    max-height: var(--contextmenu-maxheight);\r\n}\r\n\r\n.winui-contextmenu-menu-item {\r\n    padding: var(--contextmenu-item-padding);\r\n}\r\n\r\n.winui-contextmenu-menu-label {\r\n    padding: var(--contextmenu-label-padding);\r\n}\r\n\r\n.winui-contextmenu-menu-item.disabled {\r\n    pointer-events: none;\r\n    opacity: .7;\r\n}\r\n\r\n.winui-contextmenu-menu-item.selected:before {\r\n    content: '';\r\n    background: var(--winbows-primary-color);\r\n    border-radius: 99px;\r\n    width: .25rem;\r\n    height: 50%;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.winui-contextmenu-menu-item:hover,\r\n.winui-contextmenu-menu-item.selected {\r\n    background: var(--contextmenu-hover);\r\n}\r\n\r\n.winui-contextmenu-menu-item:active,\r\n.winui-contextmenu-menu-item.active {\r\n    background: var(--contextmenu-active);\r\n}\r\n\r\n.winui-contextmenu-menu-icon {\r\n    width: var(--contextmenu-icon-width);\r\n    height: var(--contextmenu-icon-height);\r\n    min-width: var(--contextmenu-icon-width);\r\n    min-height: var(--contextmenu-icon-height);\r\n    font-family: var(--winbows-font-icon);\r\n    font-size: var(--contextmenu-icon-size);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.winui-contextmenu-menu-text {\r\n    font-size: var(--contextmenu-text-size);\r\n    white-space: nowrap;\r\n    width: -webkit-fill-available;\r\n    padding: 0 .5rem;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.winui-contextmenu-menu-label .winui-contextmenu-menu-text {\r\n    padding: 0;\r\n}\r\n\r\n.winui-contextmenu-menu-expand {\r\n    width: var(--contextmenu-expand-width);\r\n    height: var(--contextmenu-expand-height);\r\n    min-width: var(--contextmenu-expand-width);\r\n    min-height: var(--contextmenu-expand-height);\r\n    flex: 1;\r\n    text-align: right;\r\n    margin-left: auto;\r\n    position: sticky;\r\n    right: 0;\r\n    padding: 0 .5rem;\r\n}\r\n\r\n.winui-contextmenu-menu-expand::before {\r\n    width: var(--contextmenu-expand-width);\r\n    height: var(--contextmenu-expand-height);\r\n    min-width: var(--contextmenu-expand-width);\r\n    min-height: var(--contextmenu-expand-height);\r\n    font-size: var(--contextmenu-expand-size);\r\n    content: '\\\\e76c';\r\n    font-family: var(--winbows-font-icon);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.winui-contextmenu-submenu {\r\n    position: absolute;\r\n    left: 100%;\r\n    top: 0;\r\n}`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://winbows11/./src/ui/contextMenu/contextMenu.css?./node_modules/css-loader/dist/cjs.js\n}")},3828:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Q: () => (/* binding */ ShellInstance)\n/* harmony export */ });\n/* harmony import */ var _lib_external_minimist_js_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(4865);\n/* harmony import */ var _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6450);\n/* harmony import */ var _commandRegistry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2348);\n/* harmony import */ var _utils_inputStream_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6617);\n/* harmony import */ var _utils_outputStream_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(0);\n/* harmony import */ var _utils_eventEmitter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(8035);\n/* harmony import */ var _process_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);\n/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2810);\n/* harmony import */ var _appRegistry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1123);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__, _commandRegistry_js__WEBPACK_IMPORTED_MODULE_1__, _process_js__WEBPACK_IMPORTED_MODULE_4__, _kernel_js__WEBPACK_IMPORTED_MODULE_5__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_6__]);\n([_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__, _commandRegistry_js__WEBPACK_IMPORTED_MODULE_1__, _process_js__WEBPACK_IMPORTED_MODULE_4__, _kernel_js__WEBPACK_IMPORTED_MODULE_5__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst reservedEnvKeys = Object.keys((0,_process_js__WEBPACK_IMPORTED_MODULE_4__/* .generateEnv */ .RE)());\r\nconst _queue = new WeakMap();\r\nconst _queueRunning = new WeakMap();\r\n\r\nclass ShellInstance extends _utils_eventEmitter_js__WEBPACK_IMPORTED_MODULE_7__/* .EventEmitter */ .b {\r\n    constructor(process) {\r\n        super();\r\n\r\n        // Initialize queue\r\n        _queue.set(this, []);\r\n        _queueRunning.set(this, false);\r\n\r\n        const { disk, path } = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.parsePath(process.cwd());\r\n\r\n        this.process = process;\r\n        this.root = (disk || 'C').toUpperCase() + ':/';\r\n        this.pwd = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.toDirFormat(path);\r\n        this.env = {\r\n            ...process.env\r\n        };\r\n        this.stdin = new _utils_inputStream_js__WEBPACK_IMPORTED_MODULE_2__/* .InputStream */ .z();\r\n        this.stdout = new _utils_outputStream_js__WEBPACK_IMPORTED_MODULE_3__/* .OutputStream */ .e();\r\n        this.stderr = new _utils_outputStream_js__WEBPACK_IMPORTED_MODULE_3__/* .OutputStream */ .e();\r\n        this.stdinBuffer = '';\r\n        this.active = true;\r\n        this._pendingDispose = false;\r\n        this._exitCode = 0;\r\n        this.fs = (0,_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .IDBFS */ .J)();\r\n\r\n        // Define pwd\r\n        Object.defineProperty(this.env, 'pwd', {\r\n            get: () => _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(this.root, this.pwd),\r\n            set: (fullPath) => {\r\n                const { disk, path } = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.parsePath(fullPath);\r\n\r\n                this.root = disk.toUpperCase() + ':/';\r\n                this.pwd = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.toDirFormat(path);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n\r\n        this.stdout.onClear = () => {\r\n            this._emit('clear');\r\n        }\r\n    }\r\n\r\n    input(promptText, type = 'normal') {\r\n        this.stdout.write(promptText);\r\n        console.log(\"[PROMPT]\", promptText);\r\n        this._emit('input', {\r\n            promptText,\r\n            type\r\n        });\r\n\r\n        return this.stdin.read();\r\n    }\r\n\r\n    write(input) {\r\n        this.stdinBuffer += input;\r\n        if (input.includes('\\n')) {\r\n            const lines = this.stdinBuffer.split('\\n');\r\n            this.stdinBuffer = lines.pop();\r\n            for (const line of lines) {\r\n                this.execCommand(line.trim());\r\n            }\r\n        }\r\n    }\r\n\r\n    getPwd() {\r\n        return _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.normalize(this.root + this.pwd);\r\n    }\r\n\r\n    async execCommand(command) {\r\n        if (!this.active) return Promise.reject(new Error('Shell is not active'));\r\n        return new Promise(async (resolve, reject) => {\r\n            _queue.get(this).push({ command, resolve, reject });\r\n            this.processQueue();\r\n        });\r\n    }\r\n\r\n    async processQueue() {\r\n        if (_queueRunning.get(this)) return;\r\n        _queueRunning.set(this, true);\r\n\r\n        while (_queue.get(this).length > 0) {\r\n            const { command, resolve, reject } = _queue.get(this).shift();\r\n            try {\r\n                const start = performance.now();\r\n                const argv = (0,_lib_external_minimist_js_index_js__WEBPACK_IMPORTED_MODULE_8__/* [\"default\"] */ .A)(command.trim().match(/(?:[^\\s\"]+|\"[^\"]*\")+/g) || []);\r\n                const cmdName = argv._[0];\r\n                const args = argv._.slice(1);\r\n                const handler = _commandRegistry_js__WEBPACK_IMPORTED_MODULE_1__/* .commandRegistry */ .p.get(cmdName?.toLowerCase());\r\n\r\n                if (/.+\\.wrt$/.test(cmdName)) {\r\n                    let path = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolveEnvPath(cmdName);\r\n                    path = _lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.resolve(_lib_fs_js__WEBPACK_IMPORTED_MODULE_0__/* .fsUtils */ .P.normalize(this.root + this.pwd), path)\r\n                    if (this.fs.exists(path)) {\r\n                        const wrt = new _kernel_js__WEBPACK_IMPORTED_MODULE_5__/* .WRT */ .U(_kernel_js__WEBPACK_IMPORTED_MODULE_5__/* .WRT */ .U.defaultCwd);\r\n\r\n                        try {\r\n                            const result = await wrt.runFile(path);\r\n                            if (result.evaluation != null) {\r\n                                this.stdout.write(result.evaluation + '\\n');\r\n                            }\r\n\r\n                            if (this.getEnv(\"SHOW_EXEC_TIME\") == \"1\" && this.active != false) {\r\n                                const end = performance.now();\r\n                                this.stdout.write(`Execution completed, took ${(end - start).toFixed(2)}ms\\n`);\r\n                            }\r\n                            resolve(result);\r\n                        } catch (err) {\r\n                            this.stderr.write(`An error occurred while executing file : ${path}\\nMessage : ${err.message}\\n`);\r\n                            reject(err);\r\n                        }\r\n                        continue;\r\n                    }\r\n                }\r\n\r\n                const app = _appRegistry_js__WEBPACK_IMPORTED_MODULE_6__/* .appRegistry */ .r.getInfo(cmdName);\r\n                if (app && app.entryScript) {\r\n                    const wrt = new _kernel_js__WEBPACK_IMPORTED_MODULE_5__/* .WRT */ .U(_kernel_js__WEBPACK_IMPORTED_MODULE_5__/* .WRT */ .U.defaultCwd);\r\n                    \r\n                    try {\r\n                        wrt.runFile(app.entryScript);\r\n\r\n                        if (this.getEnv(\"SHOW_EXEC_TIME\") == \"1\" && this.active != false) {\r\n                            const end = performance.now();\r\n                            this.stdout.write(`Execution completed, took ${(end - start).toFixed(2)}ms\\n`);\r\n                        }\r\n                        resolve();\r\n                    } catch (err) {\r\n                        this.stderr.write(`An error occurred while executing file : ${path}\\nMessage : ${err.message}\\n`);\r\n                        reject(err);\r\n                    }\r\n                    continue;\r\n                }\r\n\r\n                if (!handler) {\r\n                    const err = `'${cmdName}' is not recognized as an internal or external command, operable program or batch file.\\n`;\r\n                    this.stderr.write(err);\r\n                    reject(err);\r\n                    continue;\r\n                }\r\n\r\n                const result = await handler({ args, flags: argv }, this);\r\n\r\n                // Use \"set SHOW_EXEC_TIME=1\" command to display the command execution time\r\n                if (this.getEnv(\"SHOW_EXEC_TIME\") == \"1\" && this.active != false) {\r\n                    const end = performance.now();\r\n                    this.stdout.write(`Command executed in ${(end - start).toFixed(2)}ms\\n`);\r\n                }\r\n                resolve(result);\r\n            } catch (err) {\r\n                this.stderr.write(`An error occurred while executing the command : ${command}\\nMessage : ${err.message}\\n`);\r\n                reject(err);\r\n            }\r\n        }\r\n\r\n        _queueRunning.set(this, false);\r\n    }\r\n\r\n    setEnv(key, value) {\r\n        if (reservedEnvKeys.includes(key) || ['pwd'].includes(key)) {\r\n            throw new Error(`Cannot modify reserved variable: ${key}`);\r\n        }\r\n        this.env[key] = value;\r\n    }\r\n\r\n    unsetEnv(key) {\r\n        if (reservedEnvKeys.includes(key) || ['pwd'].includes(key)) {\r\n            throw new Error(`Cannot delete reserved variable: ${key}`);\r\n        }\r\n        delete this.env[key];\r\n    }\r\n\r\n    /**\r\n     * Get the environment variable by key\r\n     * @param {string} key \r\n     * @returns {string|undefined}\r\n     */\r\n    getEnv(key) {\r\n        const value = this.env[key];\r\n        return value != null ? String(value) : undefined;\r\n    }\r\n\r\n    getAllEnv() {\r\n        return { ...this.env };\r\n    }\r\n\r\n    async dispose(exitCode) {\r\n        return this.execCommand(`exit ${exitCode || 0}`);\r\n    }\r\n} \n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/shell/shell.js?\n}")},3832:(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1601);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6314);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.devtool-performance-monitor {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: .75rem;\r\n    overflow: auto;\r\n    height: inherit;\r\n}\r\n\r\n.devtool-performance-monitor-item {}\r\n\r\n.devtool-performance-monitor-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    padding-bottom: .375rem;\r\n    font-size: .875rem;\r\n}\r\n\r\n.devtool-performance-monitor-canvas {\r\n    width: 100%;\r\n    height: 96px;\r\n    border: 1px solid #ffffff35;\r\n}`, ""]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://winbows11/./src/kernel/devtool/performance-monitor.css?./node_modules/css-loader/dist/cjs.js\n}')},4417:module=>{"use strict";eval('{\r\n\r\nmodule.exports = function (url, options) {\r\n  if (!options) {\r\n    options = {};\r\n  }\r\n  if (!url) {\r\n    return url;\r\n  }\r\n  url = String(url.__esModule ? url.default : url);\r\n\r\n  // If url is already wrapped in quotes, remove them\r\n  if (/^[\'"].*[\'"]$/.test(url)) {\r\n    url = url.slice(1, -1);\r\n  }\r\n  if (options.hash) {\r\n    url += options.hash;\r\n  }\r\n\r\n  // Should url be wrapped?\r\n  // See https://drafts.csswg.org/css-values-3/#urls\r\n  if (/["\'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\r\n    return "\\"".concat(url.replace(/"/g, \'\\\\"\').replace(/\\n/g, "\\\\n"), "\\"");\r\n  }\r\n  return url;\r\n};\n\n//# sourceURL=webpack://winbows11/./node_modules/css-loader/dist/runtime/getUrl.js?\n}')},4865:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// https://github.com/minimistjs/minimist\r\n\r\n\r\n\r\nfunction hasKey(obj, keys) {\r\n\tvar o = obj;\r\n\tkeys.slice(0, -1).forEach(function (key) {\r\n\t\to = o[key] || {};\r\n\t});\r\n\r\n\tvar key = keys[keys.length - 1];\r\n\treturn key in o;\r\n}\r\n\r\nfunction isNumber(x) {\r\n\tif (typeof x === 'number') { return true; }\r\n\tif ((/^0x[0-9a-f]+$/i).test(x)) { return true; }\r\n\treturn (/^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/).test(x);\r\n}\r\n\r\nfunction isConstructorOrProto(obj, key) {\r\n\treturn (key === 'constructor' && typeof obj[key] === 'function') || key === '__proto__';\r\n}\r\n\r\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(args, opts) {\r\n\tif (!opts) { opts = {}; }\r\n\r\n\tvar flags = {\r\n\t\tbools: {},\r\n\t\tstrings: {},\r\n\t\tunknownFn: null,\r\n\t};\r\n\r\n\tif (typeof opts.unknown === 'function') {\r\n\t\tflags.unknownFn = opts.unknown;\r\n\t}\r\n\r\n\tif (typeof opts.boolean === 'boolean' && opts.boolean) {\r\n\t\tflags.allBools = true;\r\n\t} else {\r\n\t\t[].concat(opts.boolean).filter(Boolean).forEach(function (key) {\r\n\t\t\tflags.bools[key] = true;\r\n\t\t});\r\n\t}\r\n\r\n\tvar aliases = {};\r\n\r\n\tfunction isBooleanKey(key) {\r\n\t\tif (flags.bools[key]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!aliases[key]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn aliases[key].some(function (x) {\r\n\t\t\treturn flags.bools[x];\r\n\t\t});\r\n\t}\r\n\r\n\tObject.keys(opts.alias || {}).forEach(function (key) {\r\n\t\taliases[key] = [].concat(opts.alias[key]);\r\n\t\taliases[key].forEach(function (x) {\r\n\t\t\taliases[x] = [key].concat(aliases[key].filter(function (y) {\r\n\t\t\t\treturn x !== y;\r\n\t\t\t}));\r\n\t\t});\r\n\t});\r\n\r\n\t[].concat(opts.string).filter(Boolean).forEach(function (key) {\r\n\t\tflags.strings[key] = true;\r\n\t\tif (aliases[key]) {\r\n\t\t\t[].concat(aliases[key]).forEach(function (k) {\r\n\t\t\t\tflags.strings[k] = true;\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tvar defaults = opts.default || {};\r\n\r\n\tvar argv = { _: [] };\r\n\r\n\tfunction argDefined(key, arg) {\r\n\t\treturn (flags.allBools && (/^--[^=]+$/).test(arg))\r\n\t\t\t|| flags.strings[key]\r\n\t\t\t|| flags.bools[key]\r\n\t\t\t|| aliases[key];\r\n\t}\r\n\r\n\tfunction setKey(obj, keys, value) {\r\n\t\tvar o = obj;\r\n\t\tfor (var i = 0; i < keys.length - 1; i++) {\r\n\t\t\tvar key = keys[i];\r\n\t\t\tif (isConstructorOrProto(o, key)) { return; }\r\n\t\t\tif (o[key] === undefined) { o[key] = {}; }\r\n\t\t\tif (\r\n\t\t\t\to[key] === Object.prototype\r\n\t\t\t\t|| o[key] === Number.prototype\r\n\t\t\t\t|| o[key] === String.prototype\r\n\t\t\t) {\r\n\t\t\t\to[key] = {};\r\n\t\t\t}\r\n\t\t\tif (o[key] === Array.prototype) { o[key] = []; }\r\n\t\t\to = o[key];\r\n\t\t}\r\n\r\n\t\tvar lastKey = keys[keys.length - 1];\r\n\t\tif (isConstructorOrProto(o, lastKey)) { return; }\r\n\t\tif (\r\n\t\t\to === Object.prototype\r\n\t\t\t|| o === Number.prototype\r\n\t\t\t|| o === String.prototype\r\n\t\t) {\r\n\t\t\to = {};\r\n\t\t}\r\n\t\tif (o === Array.prototype) { o = []; }\r\n\t\tif (o[lastKey] === undefined || isBooleanKey(lastKey) || typeof o[lastKey] === 'boolean') {\r\n\t\t\to[lastKey] = value;\r\n\t\t} else if (Array.isArray(o[lastKey])) {\r\n\t\t\to[lastKey].push(value);\r\n\t\t} else {\r\n\t\t\to[lastKey] = [o[lastKey], value];\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setArg(key, val, arg) {\r\n\t\tif (arg && flags.unknownFn && !argDefined(key, arg)) {\r\n\t\t\tif (flags.unknownFn(arg) === false) { return; }\r\n\t\t}\r\n\r\n\t\tvar value = !flags.strings[key] && isNumber(val)\r\n\t\t\t? Number(val)\r\n\t\t\t: val;\r\n\t\tsetKey(argv, key.split('.'), value);\r\n\r\n\t\t(aliases[key] || []).forEach(function (x) {\r\n\t\t\tsetKey(argv, x.split('.'), value);\r\n\t\t});\r\n\t}\r\n\r\n\t// Set booleans to false by default.\r\n\tObject.keys(flags.bools).forEach(function (key) {\r\n\t\tsetArg(key, false);\r\n\t});\r\n\t// Set booleans to user defined default if supplied.\r\n\tObject.keys(defaults).filter(isBooleanKey).forEach(function (key) {\r\n\t\tsetArg(key, defaults[key]);\r\n\t});\r\n\tvar notFlags = [];\r\n\r\n\tif (args.indexOf('--') !== -1) {\r\n\t\tnotFlags = args.slice(args.indexOf('--') + 1);\r\n\t\targs = args.slice(0, args.indexOf('--'));\r\n\t}\r\n\r\n\tfor (var i = 0; i < args.length; i++) {\r\n\t\tvar arg = args[i];\r\n\t\tvar key;\r\n\t\tvar next;\r\n\r\n\t\tif ((/^--.+=/).test(arg)) {\r\n\t\t\t// Using [\\s\\S] instead of . because js doesn't support the\r\n\t\t\t// 'dotall' regex modifier. See:\r\n\t\t\t// http://stackoverflow.com/a/1068308/13216\r\n\t\t\tvar m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\r\n\t\t\tkey = m[1];\r\n\t\t\tvar value = m[2];\r\n\t\t\tif (isBooleanKey(key)) {\r\n\t\t\t\tvalue = value !== 'false';\r\n\t\t\t}\r\n\t\t\tsetArg(key, value, arg);\r\n\t\t} else if ((/^--no-.+/).test(arg)) {\r\n\t\t\tkey = arg.match(/^--no-(.+)/)[1];\r\n\t\t\tsetArg(key, false, arg);\r\n\t\t} else if ((/^--.+/).test(arg)) {\r\n\t\t\tkey = arg.match(/^--(.+)/)[1];\r\n\t\t\tnext = args[i + 1];\r\n\t\t\tif (\r\n\t\t\t\tnext !== undefined\r\n\t\t\t\t&& !(/^(-|--)[^-]/).test(next)\r\n\t\t\t\t&& !isBooleanKey(key)\r\n\t\t\t\t&& !flags.allBools\r\n\t\t\t) {\r\n\t\t\t\tsetArg(key, next, arg);\r\n\t\t\t\ti += 1;\r\n\t\t\t} else if ((/^(true|false)$/).test(next)) {\r\n\t\t\t\tsetArg(key, next === 'true', arg);\r\n\t\t\t\ti += 1;\r\n\t\t\t} else {\r\n\t\t\t\tsetArg(key, flags.strings[key] ? '' : true, arg);\r\n\t\t\t}\r\n\t\t} else if ((/^-[^-]+/).test(arg)) {\r\n\t\t\tvar letters = arg.slice(1, -1).split('');\r\n\r\n\t\t\tvar broken = false;\r\n\t\t\tfor (var j = 0; j < letters.length; j++) {\r\n\t\t\t\tnext = arg.slice(j + 2);\r\n\r\n\t\t\t\tif (next === '-') {\r\n\t\t\t\t\tsetArg(letters[j], next, arg);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ((/[A-Za-z]/).test(letters[j]) && next[0] === '=') {\r\n\t\t\t\t\tsetArg(letters[j], next.slice(1), arg);\r\n\t\t\t\t\tbroken = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t(/[A-Za-z]/).test(letters[j])\r\n\t\t\t\t\t&& (/-?\\d+(\\.\\d*)?(e-?\\d+)?$/).test(next)\r\n\t\t\t\t) {\r\n\t\t\t\t\tsetArg(letters[j], next, arg);\r\n\t\t\t\t\tbroken = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (letters[j + 1] && letters[j + 1].match(/\\W/)) {\r\n\t\t\t\t\tsetArg(letters[j], arg.slice(j + 2), arg);\r\n\t\t\t\t\tbroken = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tkey = arg.slice(-1)[0];\r\n\t\t\tif (!broken && key !== '-') {\r\n\t\t\t\tif (\r\n\t\t\t\t\targs[i + 1]\r\n\t\t\t\t\t&& !(/^(-|--)[^-]/).test(args[i + 1])\r\n\t\t\t\t\t&& !isBooleanKey(key)\r\n\t\t\t\t) {\r\n\t\t\t\t\tsetArg(key, args[i + 1], arg);\r\n\t\t\t\t\ti += 1;\r\n\t\t\t\t} else if (args[i + 1] && (/^(true|false)$/).test(args[i + 1])) {\r\n\t\t\t\t\tsetArg(key, args[i + 1] === 'true', arg);\r\n\t\t\t\t\ti += 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetArg(key, flags.strings[key] ? '' : true, arg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!flags.unknownFn || flags.unknownFn(arg) !== false) {\r\n\t\t\t\targv._.push(flags.strings._ || !isNumber(arg) ? arg : Number(arg));\r\n\t\t\t}\r\n\t\t\tif (opts.stopEarly) {\r\n\t\t\t\targv._.push.apply(argv._, args.slice(i + 1));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tObject.keys(defaults).forEach(function (k) {\r\n\t\tif (!hasKey(argv, k.split('.'))) {\r\n\t\t\tsetKey(argv, k.split('.'), defaults[k]);\r\n\r\n\t\t\t(aliases[k] || []).forEach(function (x) {\r\n\t\t\t\tsetKey(argv, x.split('.'), defaults[k]);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tif (opts['--']) {\r\n\t\targv['--'] = notFlags.slice();\r\n\t} else {\r\n\t\tnotFlags.forEach(function (k) {\r\n\t\t\targv._.push(k);\r\n\t\t});\r\n\t}\r\n\r\n\treturn argv;\r\n};\n\n//# sourceURL=webpack://winbows11/./src/lib/external/minimist.js/index.js?\n}")},5056:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('{\r\n\r\n/* istanbul ignore next  */\r\nfunction setAttributesWithoutAttributes(styleElement) {\r\n  var nonce =  true ? __webpack_require__.nc : 0;\r\n  if (nonce) {\r\n    styleElement.setAttribute("nonce", nonce);\r\n  }\r\n}\r\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://winbows11/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?\n}')},5072:module=>{"use strict";eval('{\r\n\r\nvar stylesInDOM = [];\r\nfunction getIndexByIdentifier(identifier) {\r\n  var result = -1;\r\n  for (var i = 0; i < stylesInDOM.length; i++) {\r\n    if (stylesInDOM[i].identifier === identifier) {\r\n      result = i;\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n}\r\nfunction modulesToDom(list, options) {\r\n  var idCountMap = {};\r\n  var identifiers = [];\r\n  for (var i = 0; i < list.length; i++) {\r\n    var item = list[i];\r\n    var id = options.base ? item[0] + options.base : item[0];\r\n    var count = idCountMap[id] || 0;\r\n    var identifier = "".concat(id, " ").concat(count);\r\n    idCountMap[id] = count + 1;\r\n    var indexByIdentifier = getIndexByIdentifier(identifier);\r\n    var obj = {\r\n      css: item[1],\r\n      media: item[2],\r\n      sourceMap: item[3],\r\n      supports: item[4],\r\n      layer: item[5]\r\n    };\r\n    if (indexByIdentifier !== -1) {\r\n      stylesInDOM[indexByIdentifier].references++;\r\n      stylesInDOM[indexByIdentifier].updater(obj);\r\n    } else {\r\n      var updater = addElementStyle(obj, options);\r\n      options.byIndex = i;\r\n      stylesInDOM.splice(i, 0, {\r\n        identifier: identifier,\r\n        updater: updater,\r\n        references: 1\r\n      });\r\n    }\r\n    identifiers.push(identifier);\r\n  }\r\n  return identifiers;\r\n}\r\nfunction addElementStyle(obj, options) {\r\n  var api = options.domAPI(options);\r\n  api.update(obj);\r\n  var updater = function updater(newObj) {\r\n    if (newObj) {\r\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\r\n        return;\r\n      }\r\n      api.update(obj = newObj);\r\n    } else {\r\n      api.remove();\r\n    }\r\n  };\r\n  return updater;\r\n}\r\nmodule.exports = function (list, options) {\r\n  options = options || {};\r\n  list = list || [];\r\n  var lastIdentifiers = modulesToDom(list, options);\r\n  return function update(newList) {\r\n    newList = newList || [];\r\n    for (var i = 0; i < lastIdentifiers.length; i++) {\r\n      var identifier = lastIdentifiers[i];\r\n      var index = getIndexByIdentifier(identifier);\r\n      stylesInDOM[index].references--;\r\n    }\r\n    var newLastIdentifiers = modulesToDom(newList, options);\r\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\r\n      var _identifier = lastIdentifiers[_i];\r\n      var _index = getIndexByIdentifier(_identifier);\r\n      if (stylesInDOM[_index].references === 0) {\r\n        stylesInDOM[_index].updater();\r\n        stylesInDOM.splice(_index, 1);\r\n      }\r\n    }\r\n    lastIdentifiers = newLastIdentifiers;\r\n  };\r\n};\n\n//# sourceURL=webpack://winbows11/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?\n}')},5392:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   O: () => (/* binding */ apis),\n/* harmony export */   U: () => (/* binding */ kernelRuntime)\n/* harmony export */ });\n/* harmony import */ var _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2810);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_WRT_kernel_js__WEBPACK_IMPORTED_MODULE_0__]);\n_WRT_kernel_js__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\nconst kernelRuntime = new _WRT_kernel_js__WEBPACK_IMPORTED_MODULE_0__/* .WRT */ .U('C:/Winbows/System/kernel/');\r\nconst apis = kernelRuntime.exposeAPIs();\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/kernelRuntime.js?\n}")},6314:module=>{"use strict";eval('{\r\n\r\n/*\r\n  MIT License http://www.opensource.org/licenses/mit-license.php\r\n  Author Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function (cssWithMappingToString) {\r\n  var list = [];\r\n\r\n  // return the list of modules as css string\r\n  list.toString = function toString() {\r\n    return this.map(function (item) {\r\n      var content = "";\r\n      var needLayer = typeof item[5] !== "undefined";\r\n      if (item[4]) {\r\n        content += "@supports (".concat(item[4], ") {");\r\n      }\r\n      if (item[2]) {\r\n        content += "@media ".concat(item[2], " {");\r\n      }\r\n      if (needLayer) {\r\n        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");\r\n      }\r\n      content += cssWithMappingToString(item);\r\n      if (needLayer) {\r\n        content += "}";\r\n      }\r\n      if (item[2]) {\r\n        content += "}";\r\n      }\r\n      if (item[4]) {\r\n        content += "}";\r\n      }\r\n      return content;\r\n    }).join("");\r\n  };\r\n\r\n  // import a list of modules into the list\r\n  list.i = function i(modules, media, dedupe, supports, layer) {\r\n    if (typeof modules === "string") {\r\n      modules = [[null, modules, undefined]];\r\n    }\r\n    var alreadyImportedModules = {};\r\n    if (dedupe) {\r\n      for (var k = 0; k < this.length; k++) {\r\n        var id = this[k][0];\r\n        if (id != null) {\r\n          alreadyImportedModules[id] = true;\r\n        }\r\n      }\r\n    }\r\n    for (var _k = 0; _k < modules.length; _k++) {\r\n      var item = [].concat(modules[_k]);\r\n      if (dedupe && alreadyImportedModules[item[0]]) {\r\n        continue;\r\n      }\r\n      if (typeof layer !== "undefined") {\r\n        if (typeof item[5] === "undefined") {\r\n          item[5] = layer;\r\n        } else {\r\n          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");\r\n          item[5] = layer;\r\n        }\r\n      }\r\n      if (media) {\r\n        if (!item[2]) {\r\n          item[2] = media;\r\n        } else {\r\n          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");\r\n          item[2] = media;\r\n        }\r\n      }\r\n      if (supports) {\r\n        if (!item[4]) {\r\n          item[4] = "".concat(supports);\r\n        } else {\r\n          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");\r\n          item[4] = supports;\r\n        }\r\n      }\r\n      list.push(item);\r\n    }\r\n  };\r\n  return list;\r\n};\n\n//# sourceURL=webpack://winbows11/./node_modules/css-loader/dist/runtime/api.js?\n}')},6450:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   J: () => (/* binding */ IDBFS),\n/* harmony export */   P: () => (/* binding */ fsUtils)\n/* harmony export */ });\nconst debugMode = false;\r\nconst defaultEnv = {\r\n    APPDATA: 'C:/User/AppData/Roaming',\r\n    LOCALAPPDATA: 'C:/User/AppData/Local',\r\n    PROGRAMFILES: 'C:/Program Files',\r\n    SYSTEMDRIVE: 'C:',\r\n    SYSTEMROOT: 'C:/Winbows',\r\n    TEMP: 'C:/User/AppData/Local/Temp',\r\n    TMP: 'C:/User/AppData/Local/Temp',\r\n    USERPROFILE: 'C:/User',\r\n    WINDIR: 'C:/Winbows',\r\n};\r\n\r\n// --------------------------- Utils --------------------------- //\r\nfunction getStackTrace() {\r\n    var stack;\r\n    try {\r\n        throw new Error('');\r\n    } catch (error) {\r\n        stack = error.stack || '';\r\n    }\r\n    stack = stack.split('\\n').map(function (line) { return line.trim(); });\r\n    return stack.splice(stack[0] == 'Error' ? 2 : 1);\r\n}\r\nfunction getJsonFromURL(url) {\r\n    if (!url) url = location.search;\r\n    var query = url.substr(1), result = {};\r\n    query.split(\"&\").forEach(function (part) {\r\n        var item = part.split(\"=\");\r\n        result[item[0]] = decodeURIComponent(item[1]);\r\n    });\r\n    return result;\r\n};\r\nfunction computePath(path, currentPath) {\r\n    const currentPathDirs = currentPath.split('/').filter(dir => dir !== ''),\r\n        pathDirs = path.split('/').filter(dir => dir !== ''),\r\n        resultPath = [...currentPathDirs];\r\n    for (const dir of pathDirs) {\r\n        if (dir === '..') {\r\n            if (resultPath.length > 0) { resultPath.pop(); }\r\n        } else if (dir !== '.') { resultPath.push(dir); }\r\n    }\r\n    return resultPath.join('/');\r\n};\r\nfunction removeStringInRange(str, start, end) {\r\n    return str.substring(0, start) + str.substring(end);\r\n};\r\nfunction randomID(count, chars) {\r\n    var chars = chars || 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',\r\n        result = '',\r\n        length = chars.length;\r\n    for (let i = 0; i < count; i++) {\r\n        result += chars.charAt(Math.floor(Math.random() * length));\r\n    }\r\n    return result;\r\n};\r\nfunction isBlob(obj) {\r\n    return Object.prototype.toString.call(obj) === \"[object Blob]\"\r\n};\r\nconst fsUtils = {\r\n    sep: '/',\r\n    normalize(p) {\r\n        const parts = p.split(/[/\\\\]+/);\r\n        const stack = [];\r\n\r\n        for (let part of parts) {\r\n            if (part === '' || part === '.') continue;\r\n            if (part === '..') stack.pop();\r\n            else stack.push(part);\r\n        }\r\n\r\n        return (p.startsWith('/') ? '/' : '') + stack.join('/');\r\n    },\r\n    join(...args) {\r\n        return fsUtils.normalize(args.join('/'));\r\n    },\r\n    resolve(...paths) {\r\n        let resolved = '';\r\n        for (let i = paths.length - 1; i >= 0; i--) {\r\n            const p = paths[i];\r\n            if (!p) continue;\r\n            resolved = p + '/' + resolved;\r\n            if (fsUtils.isAbsolute(p)) break;\r\n        }\r\n        return fsUtils.normalize(resolved);\r\n    },\r\n    dirname(p) {\r\n        const normalized = fsUtils.normalize(p);\r\n        const parts = normalized.split('/');\r\n        parts.pop();\r\n        return fsUtils.toDirFormat(parts.length > 1 ? parts.join('/') : '/');\r\n    },\r\n    basename(p) {\r\n        return fsUtils.normalize(p).split('/').pop();\r\n    },\r\n    extname(p) {\r\n        const base = fsUtils.basename(p);\r\n        const dotIndex = base.lastIndexOf('.');\r\n        return dotIndex > 0 ? base.slice(dotIndex) : '';\r\n    },\r\n    isAbsolute(p) {\r\n        return p.startsWith('/') || /^[A-Za-z]:[\\\\/]/.test(p);\r\n    },\r\n    relative(from, to) {\r\n        const fromParts = fsUtils.resolve(from).split('/');\r\n        const toParts = fsUtils.resolve(to).split('/');\r\n\r\n        while (fromParts.length && toParts.length && fromParts[0] === toParts[0]) {\r\n            fromParts.shift();\r\n            toParts.shift();\r\n        }\r\n\r\n        return '../'.repeat(fromParts.length) + toParts.join('/');\r\n    },\r\n    parsePath(v) {\r\n        v = v.replaceAll('\\\\', '/');\r\n        const match = /^([a-zA-Z]):\\//.exec(v);\r\n        const disk = match ? match[1].toUpperCase() : 'C';\r\n        let path = v.replace(/^([a-zA-Z]):/, '');\r\n        path = fsUtils.normalize(path);\r\n        path = !path.endsWith('/') && v.endsWith('/') ? path + '/' : path;;\r\n        return { disk, path };\r\n    },\r\n    toDirFormat(path) {\r\n        return path.endsWith('/') ? path : path + '/';\r\n    },\r\n    isValidAbsolutePath(path) {\r\n        const p = path.replace(/\\\\/g, '/');\r\n\r\n        if (!/^[a-zA-Z]{1}:\\//.test(p)) return false;\r\n\r\n        const parts = p.split('/');\r\n        let depth = 0;\r\n        for (const part of parts.slice(1)) {    // Ignore disk\r\n            if (part === '' || part === '.') continue;\r\n            else if (part === '..') {\r\n                depth--;\r\n                if (depth < 0) return false;\r\n            } else {\r\n                depth++;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    },\r\n    resolveEnvPath(path) {\r\n        return path.replace(/^%([^%]+)%[\\\\/]?/, (_, key) => {\r\n            const value = defaultEnv[key.toUpperCase()];\r\n            return value ? value + '/' : `%${key}%/`;\r\n        });\r\n    }\r\n};\r\n// --------------------------- Utils --------------------------- //\r\n\r\n// UUID\r\nconst UUIDManager = (function () {\r\n    const uuids = new Map();\r\n    const priorities = {\r\n        \"C:/Winbows/System/kernel/init.js\": 9,\r\n        \"C:/Winbows/System/kernel/kernel.js\": 9,\r\n        \"C:/Winbows/System/process.js\": 9,\r\n        \"~WRT\": 8\r\n    }\r\n\r\n    function UUID() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    function setupUUIDPriority(uuid, caller) {\r\n        if (typeof caller === \"string\") {\r\n            const priority = priorities[caller]\r\n            uuids.set(uuid, priority !== undefined ? priority : 0);\r\n        } else {\r\n            uuids.set(uuid, 0);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {String} uuid \r\n     * @returns {Number|null} if uuid doesn't exist returns null\r\n     */\r\n    function getPriority(uuid) {\r\n        const priority = uuids.get(uuid);\r\n        return (priority != undefined && priority >= 0) ? priority : null;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {String} caller \r\n     * @returns \r\n     */\r\n    function register(caller) {\r\n        const uuid = UUID();\r\n        setupUUIDPriority(uuid, caller);\r\n        return uuid;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {String} uuid \r\n     */\r\n    function deregister(uuid) {\r\n        if (uuids.has(uuid)) {\r\n            uuids.delete(uuid);\r\n        } else {\r\n            throw new Error(\"Invalid uuid.\");\r\n        }\r\n    }\r\n\r\n    return { register, getPriority, deregister };\r\n})();\r\n\r\nclass TransactionQueue {\r\n    constructor(maxConcurrent = 1) {\r\n        this.maxConcurrent = maxConcurrent;\r\n        this.currentCount = 0;\r\n        this.queue = [];\r\n    }\r\n\r\n    enqueue(task, uuid) {\r\n        return new Promise((resolve, reject) => {\r\n            const job = { priority: UUIDManager.getPriority(uuid), task, resolve, reject, uuid };\r\n            this.queue.push(job);\r\n            this.queue.sort((a, b) => b.priority - a.priority);\r\n            this.tryNext();\r\n        });\r\n    }\r\n    tryNext() {\r\n        if (this.currentCount >= this.maxConcurrent) return;\r\n        if (this.queue.length === 0) return;\r\n\r\n        const job = this.queue.shift();\r\n        this.currentCount++;\r\n\r\n        if (UUIDManager.getPriority(job.uuid) == null) {\r\n            this.currentCount--;\r\n            job.reject(new Error(\"The specified file system uuid cannot be found.\"));\r\n            this.tryNext();\r\n        }\r\n\r\n        Promise.resolve()\r\n            .then(() => job.task())\r\n            .then(result => {\r\n                this.currentCount--;\r\n                job.resolve(result);\r\n                this.tryNext();\r\n            })\r\n            .catch(err => {\r\n                this.currentCount--;\r\n                job.reject(err);\r\n                this.tryNext();\r\n            });\r\n    }\r\n}\r\n\r\nconst types = {\r\n    dir: 0,\r\n    file: 1\r\n};\r\nconst dbName = 'WINBOWS_STORAGE';\r\nconst storeName = 'MAIN';\r\nconst fileTablePrefix = '$_FILETABLE_';\r\nconst localStoragePrefix = dbName + '_' + fileTablePrefix;\r\nconst idLength = 24;\r\nconst allowedDiskName = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\nconst schemaVersion = 1;\r\nconst schemaVersionName = dbName + '_' + 'SCHEMA_VERSION';\r\n\r\nconst txQueue = new TransactionQueue(5);\r\nlet runningTasks = 0;\r\nlet tasks = [];\r\nlet updateTimer = null;\r\nconst maxConcurrent = 10;\r\nconst updateDelay = 100;\r\n\r\nlet listeners = {};\r\nlet blobURLCaches = {};\r\n\r\nvar version = 1;\r\nvar isInitializing = false;\r\nvar repairing = false;\r\nvar now = Date.now();\r\nvar fileTables = {\r\n    'C': {\r\n        '/': {\r\n            type: types.dir,\r\n            changeTime: now,\r\n            createdTime: now,\r\n            lastModifiedTime: now,\r\n            length: 0,\r\n            id: null,\r\n            mimeType: null\r\n        }\r\n    }\r\n};\r\nvar db;\r\n\r\n// Read from localStorage\r\nfor (let i = 0; i < localStorage.length; i++) {\r\n    const key = localStorage.key(i);\r\n    // localStorage item name : \"<localStoragePrefix><DiskName>:\"\r\n    if (key.startsWith(localStoragePrefix) && key.length === localStoragePrefix.length + 2) {\r\n        const disk = key.replace(localStoragePrefix, '').replace(':', '');\r\n        if (allowedDiskName.indexOf(disk) > -1 && disk.length === 1) {\r\n            try {\r\n                fileTables[disk] = JSON.parse(localStorage.getItem(key));\r\n            } catch (e) {\r\n                localStorage.removeItem(key);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// Save the schema version in localStorage\r\nlocalStorage.setItem(schemaVersionName, schemaVersion);\r\n\r\n// ========================== Output ========================== //\r\nfunction print(...obj) {\r\n    if (debugMode == true) {\r\n        console.log.apply(arguments, ['%cIDBFS', 'color:#ff00ff;'].concat(obj))\r\n    }\r\n}\r\n\r\n// ========================== Event ========================== //\r\nfunction on(event, listener) {\r\n    if (!listeners[event]) {\r\n        listeners[event] = [];\r\n    }\r\n    listeners[event].push(listener);\r\n}\r\n\r\nfunction emit(event, detail) {\r\n    if (listeners[event]) {\r\n        listeners[event].forEach(listener => listener(detail));\r\n    }\r\n}\r\n\r\n// ======================== Validators ======================== //\r\nasync function ensureParentFolders(disk, path) {\r\n    const parts = path.split('/').filter(i => i.trim().length > 0);\r\n    parts.pop();\r\n\r\n    let currentPath = '/';\r\n    for (const part of parts) {\r\n        currentPath += part + '/';\r\n        if (!fileTables[disk][currentPath]) {\r\n            const now = Date.now();\r\n            fileTables[disk][currentPath] = {\r\n                type: types.dir,\r\n                changeTime: now,\r\n                createdTime: now,\r\n                lastModifiedTime: now,\r\n                length: 0,\r\n                id: null,\r\n                mimeType: null\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\n// =========================== Store =========================== //\r\nasync function getStore(permission, uuid) {\r\n    return new Promise((resolve, reject) => {\r\n        tasks.push({ permission, resolve, reject, uuid, priority: UUIDManager.getPriority(uuid) });\r\n        tasks.sort((a, b) => b.priority - a.priority);\r\n        doTask();\r\n    })\r\n}\r\n\r\nasync function doTask() {\r\n    if (runningTasks >= maxConcurrent) return;\r\n    if (tasks.length === 0) {\r\n        if (runningTasks === 0) repairing = false;\r\n        return;\r\n    }\r\n\r\n    runningTasks++;\r\n    const task = tasks.shift();\r\n\r\n    if (UUIDManager.getPriority(task.uuid) == null) {\r\n        task.reject(`The specified file system uuid cannot be found.`);\r\n        runningTasks--;\r\n        doTask();\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const tx = db.transaction(storeName, task.permission);\r\n        const store = tx.objectStore(storeName);\r\n        task.resolve(store);\r\n\r\n        tx.oncomplete = () => {\r\n            runningTasks--;\r\n            doTask();\r\n        };\r\n        tx.onerror = () => {\r\n            runningTasks--;\r\n            task.reject(tx.error);\r\n            doTask();\r\n        };\r\n\r\n        if (repairing == true) repairing = false;\r\n    } catch (e) {\r\n        runningTasks--;\r\n        if (repairing == false) {\r\n            repairing = true;\r\n            await init();\r\n            print('Trying to repair idbfs...');\r\n            tasks.unshift(task);\r\n            return doTask();\r\n        } else if (e.name === 'InvalidStateError' && repairing == true) {\r\n            print('Failed to repair idbfs.');\r\n            if (window.Crash) window.Crash();\r\n        }\r\n    }\r\n}\r\n\r\nasync function createStore() {\r\n    if (!db) {\r\n        await init();\r\n    }\r\n    return new Promise((resolve) => {\r\n        const request = indexedDB.open(dbName, db.version + 1);\r\n        request.onupgradeneeded = (event) => {\r\n            print('Upgrading database to version', event.oldVersion, 'to', event.newVersion);\r\n            const db = event.target.result;\r\n            if (!db.objectStoreNames.contains(storeName)) {\r\n                const store = db.createObjectStore(storeName, { keyPath: 'k' });\r\n                store.createIndex('k', 'k', { unique: true });\r\n            }\r\n        };\r\n        request.onsuccess = (event) => {\r\n            db = event.target.result;\r\n            resolve(true);\r\n        };\r\n    });\r\n}\r\n\r\nfunction put(store, data) {\r\n    return new Promise((resolve, reject) => {\r\n        const req = store.put(data);\r\n        req.onsuccess = resolve;\r\n        req.onerror = () => reject(req.error);\r\n    });\r\n}\r\n\r\n// ========================= File table ========================= //\r\nasync function updateFileTable(disk) {\r\n    localStorage.setItem(localStoragePrefix + disk + ':', JSON.stringify(fileTables[disk]));\r\n    scheduleUpdateFileTable(disk);\r\n}\r\n\r\n// For idb\r\nfunction scheduleUpdateFileTable(disk) {\r\n    if (updateTimer) clearTimeout(updateTimer);\r\n    updateTimer = setTimeout(async () => {\r\n        updateTimer = null;\r\n        try {\r\n            const tx = db.transaction(storeName, 'readwrite');\r\n            const store = tx.objectStore(storeName);\r\n            store.put({\r\n                k: fileTablePrefix + disk + ':',\r\n                v: fileTables[disk]\r\n            })\r\n        } catch (e) {\r\n            console.warn('Failed to update fileTable in IndexedDB:', e);\r\n        }\r\n    }, updateDelay);\r\n}\r\n\r\nasync function deleteBlobsInBatches(disk, paths, uuid, batchSize = 100) {\r\n    for (let i = 0; i < paths.length; i += batchSize) {\r\n        const batch = paths.slice(i, i + batchSize);\r\n        const store = await getStore('readwrite', uuid);\r\n\r\n        await Promise.all(batch.map(path => {\r\n            return new Promise((res, rej) => {\r\n                const entry = fileTables[disk][path];\r\n                if (!entry || entry.type !== types.file) return res();\r\n\r\n                const req = store.delete(entry.id);\r\n                req.onsuccess = () => {\r\n                    // Remove cached url\r\n                    if (blobURLCaches[disk + ':' + path]) {\r\n                        delete blobURLCaches[disk + ':' + path];\r\n                    }\r\n                    delete fileTables[disk][path];\r\n                    res();\r\n                };\r\n                req.onerror = () => {\r\n                    console.warn(`Failed to delete blob for ${path}:`, req.error);\r\n                    res();\r\n                }\r\n            });\r\n        }));\r\n        await updateFileTable(disk);\r\n    }\r\n}\r\n\r\nasync function init() {\r\n    if (isInitializing) return;\r\n    isInitializing = true;\r\n    return new Promise((resolve, reject) => {\r\n        const request = indexedDB.open(dbName);\r\n        request.onupgradeneeded = (event) => {\r\n            print('Upgrading database to version', event.oldVersion, 'to', event.newVersion);\r\n            db = event.target.result;\r\n            const store = db.createObjectStore(storeName, { keyPath: 'k' });\r\n            store.createIndex('k', 'k', { unique: true });\r\n        };\r\n        request.onsuccess = async (event) => {\r\n            isInitializing = false;\r\n\r\n            db = event.target.result;\r\n            db.onversionchange = function () {\r\n                db.close();\r\n            };\r\n            if (!event.target.result.objectStoreNames.contains(storeName)) {\r\n                await createStore();\r\n            }\r\n\r\n            async function getOrSyncFileTable(disk) {\r\n                const key = fileTablePrefix + disk + ':';\r\n                const localStorageFT = localStorage.getItem(localStoragePrefix + disk + ':');\r\n                return new Promise((resolve, reject) => {\r\n                    const tx = db.transaction(storeName, 'readwrite')\r\n                    const store = tx.objectStore(storeName);\r\n                    const request = store.get(key);\r\n                    request.onsuccess = async (event) => {\r\n                        // NOTE: Use the file table in localStorage first\r\n                        const table = event.target.result;\r\n                        if (localStorageFT) {\r\n                            // Sync the file table in localStorage to the file table in idbfs\r\n                            try {\r\n                                await put(store, {\r\n                                    k: key,\r\n                                    v: JSON.parse(localStorageFT)\r\n                                });\r\n                            } catch (e) {\r\n                                print('Error : Failed to Sync the file table in localStorage to the file table in idbfs\\nDetails :', e);\r\n                                localStorage.removeItem(localStoragePrefix + disk + ':');\r\n                            }\r\n                        } else if (table && !localStorageFT) {\r\n                            // File table doesn't exist in localStorage\r\n                            fileTables[disk] = table.v;\r\n                            localStorage.setItem(localStoragePrefix + disk + ':', JSON.stringify(fileTables[disk]));\r\n                        } else if (!table && !localStorageFT) {\r\n                            // File table doesn't exist in localStorage or idbfs\r\n                            localStorage.setItem(localStoragePrefix + disk + ':', JSON.stringify(fileTables[disk]));\r\n                            await put(store, {\r\n                                k: key,\r\n                                v: fileTables[disk]\r\n                            });\r\n                        }\r\n                        resolve();\r\n                    }\r\n                    request.onerror = async (event) => {\r\n                        print(`Warning : Failed to get file table [${fileTablePrefix + disk + ':'}] from idbfs\\nDetails :`, event.target.error);\r\n                        const localStorageFT = localStorage.getItem(localStoragePrefix + disk + ':');\r\n                        try {\r\n                            await put(store, {\r\n                                k: fileTablePrefix + disk + ':',\r\n                                v: localStorageFT ? JSON.parse(localStorageFT) : fileTables[disk]\r\n                            });\r\n                        } catch (e) {\r\n                            print('Error : Failed to write file table to idbfs\\nDetails :', e);\r\n                        }\r\n                        resolve();\r\n                    }\r\n                })\r\n            }\r\n\r\n            // Try to read the file table\r\n            for (const disk of Object.keys(fileTables)) {\r\n                await getOrSyncFileTable(disk);\r\n            }\r\n            resolve();\r\n        };\r\n        request.onerror = (event) => {\r\n            isInitializing = false;\r\n            reject(event.target.error);\r\n        };\r\n    })\r\n}\r\n\r\nawait init();\r\n\r\nconst IDBFS = function (caller = \"<anonymous>\", __dirname = \"\") {\r\n    const uuid = UUIDManager.register(caller);\r\n\r\n    function parsePath(v) {\r\n        v = fsUtils.resolveEnvPath(v);\r\n        if (__dirname != \"\") {\r\n            var isdir = v.endsWith('/');\r\n            v = fsUtils.resolve(__dirname, v);\r\n            if (isdir) v += '/';\r\n        }\r\n        v = v.replaceAll('\\\\', '/');\r\n        const match = /^([a-zA-Z]):\\//.exec(v);\r\n        const disk = match ? match[1].toUpperCase() : 'C';\r\n        let path = v.replace(/^([a-zA-Z]):/, '');\r\n        path = fsUtils.normalize(path);\r\n        path = !path.endsWith('/') && v.endsWith('/') ? path + '/' : path;\r\n        return { disk, path };\r\n    };\r\n\r\n    // ================== Basic File System functions ================== //\r\n\r\n    /**\r\n     * @typedef {Object} CustomError\r\n     * @property {string} name \r\n     * @property {string} message\r\n     * @property {number} code\r\n     */\r\n\r\n    /**\r\n     * Check if the specified file / directory path exists\r\n     * @param {string} fullPath \r\n     * @returns {boolean}\r\n     */\r\n    function exists(fullPath) {\r\n        const { disk, path } = parsePath(fullPath);\r\n        if (!fileTables[disk]) {\r\n            return false;\r\n        }\r\n        return !!fileTables[disk][path];\r\n    }\r\n\r\n    /**\r\n     * Create a directory\r\n     * @param {string} fullPath \r\n     * @returns {Promise} If it failed, reject a {@link CustomError}\r\n     */\r\n    async function mkdir(fullPath) {\r\n        // RULE : directory path should end with '/'\r\n        const { disk, path: rawPath } = parsePath(fullPath);\r\n        let path = rawPath.endsWith('/') ? rawPath : rawPath + '/';\r\n\r\n        const invalidFolderNamePattern = /[\\\\\\/:\\*\\?\"<>\\|]|[\\. ]$/;\r\n        if (invalidFolderNamePattern.test(fsUtils.basename(fullPath)) && path != '/') {\r\n            // Check if the directory name contains invalid characters\r\n            throw {\r\n                name: 'InvalidName',\r\n                message: `Illegal directory name : ${fullPath}`\r\n            };\r\n        } else if (!fileTables[disk]) {\r\n            // Check if the target disk exists\r\n            throw {\r\n                name: 'NotFound',\r\n                message: `Invalid path : ${fullPath}`\r\n            };\r\n        } /*else if (!checkParentFoldersExist(disk, path)) {\r\n                // Check if the parent folder exists\r\n                throw {\r\n                    name: 'NotFound',\r\n                    message: `No such file or directory : ${fullPath}`\r\n                };\r\n            } */else if (fileTables[disk][path]) {\r\n            // Check if the directory already exists\r\n            throw {\r\n                name: 'AlreadyExists',\r\n                message: `Directory already exists : ${fullPath}`\r\n            };\r\n        } else {\r\n            ensureParentFolders(disk, path);\r\n            const now = Date.now();\r\n            fileTables[disk][path] = {\r\n                type: types.dir,\r\n                changeTime: now,\r\n                createdTime: now,\r\n                lastModifiedTime: now,\r\n                length: 0,\r\n                id: null,\r\n                mimeType: null\r\n            }\r\n            updateFileTable(disk);\r\n            emit('change', {\r\n                path: fullPath\r\n            })\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Move file or directory\r\n     * @param {string} srcFullPath \r\n     * @param {string} destFullPath \r\n     * @param {object} [options]\r\n     * @param {boolean} [options.overwrite=false]\r\n     */\r\n    async function mv(srcFullPath, destFullPath, options = {}) {\r\n        const { overwrite = false } = options;\r\n\r\n        const { disk: srcDisk, path: srcPath } = parsePath(srcFullPath);\r\n        const { disk: destDisk, path: destPath } = parsePath(destFullPath);\r\n\r\n        if (!fileTables[srcDisk] || !fileTables[srcDisk][srcPath]) {\r\n            throw { name: 'NotFound', message: `Source path not found: ${srcFullPath}` };\r\n        }\r\n        if (!fileTables[destDisk]) {\r\n            throw { name: 'NotFound', message: `Destination disk not found: ${destDisk}` };\r\n        }\r\n\r\n        const srcEntry = fileTables[srcDisk][srcPath];\r\n        const destExists = !!fileTables[destDisk][destPath];\r\n\r\n        if (destExists && !overwrite) {\r\n            throw { name: 'AlreadyExists', message: `Destination already exists: ${destFullPath}` };\r\n        }\r\n\r\n        await ensureParentFolders(destDisk, destPath);\r\n\r\n        if (srcEntry.type === types.file) {\r\n            const blob = await readFile(srcFullPath);\r\n            await writeFile(destFullPath, blob);\r\n            await rm(srcFullPath);\r\n        } else if (srcEntry.type === types.dir) {\r\n            const entries = await readdir(srcFullPath, { recursive: true });\r\n            entries.push(srcFullPath);\r\n\r\n            for (const entryPath of entries) {\r\n                const relativePath = entryPath.slice(srcFullPath.length);\r\n                const targetPath = destFullPath + relativePath;\r\n\r\n                const entry = fileTables[srcDisk][parsePath(entryPath).path];\r\n                if (entry.type === types.file) {\r\n                    const blob = await readFile(entryPath);\r\n                    await writeFile(targetPath, blob);\r\n                } else if (entry.type === types.dir) {\r\n                    await ensureParentFolders(destDisk, parsePath(targetPath).path);\r\n                    fileTables[destDisk][parsePath(targetPath).path] = {\r\n                        ...entry,\r\n                        createdTime: Date.now(),\r\n                        lastModifiedTime: Date.now()\r\n                    };\r\n                }\r\n            }\r\n\r\n            await rm(srcFullPath, { recursive: true });\r\n        } else {\r\n            throw { name: 'InvalidEntry', message: `Unknown entry type at ${srcFullPath}` };\r\n        }\r\n\r\n        updateFileTable(destDisk);\r\n        updateFileTable(srcDisk);\r\n    }\r\n\r\n    /**\r\n     * Read a directory\r\n     * @param {string} fullPath\r\n     * @param {object} [options]\r\n     * @param {boolean} [options.recursive=false] Whether to recursively include files in subdirectories\r\n     * @returns {Promise<string[]>} If it failed, reject a {@link CustomError}\r\n     */\r\n    async function readdir(fullPath, options = {}) {\r\n        const recursive = options.recursive ?? false;\r\n        const { disk, path: rawPath } = parsePath(fullPath);\r\n        let path = rawPath.endsWith('/') ? rawPath : rawPath + '/';\r\n        if (!fileTables[disk]) {\r\n            throw {\r\n                name: 'NotFound',\r\n                message: `The disk ( ${disk} ) could not be found`\r\n            };\r\n        } else if (!fileTables[disk][path]) {\r\n            throw {\r\n                name: 'NotFound',\r\n                message: `The specified directory path ( ${fullPath} ) could not be found`\r\n            };\r\n        } else if (fileTables[disk][path].type !== types.dir) {\r\n            throw {\r\n                name: 'InvalidPath',\r\n                message: `The specified path ( ${fullPath} ) is not a directory`\r\n            };\r\n        }\r\n        const entries = Object.keys(fileTables[disk])\r\n            .filter(key => {\r\n                if (!key.startsWith(path) || key === path) return false;\r\n                if (recursive) return true;\r\n                // Non-recursive mode\r\n                const subPath = key.slice(path.length);\r\n                return subPath.split('/').filter(Boolean).length === 1;\r\n            })\r\n            .map(k => `${disk}:${k}`);\r\n        return entries;\r\n    }\r\n\r\n    /**\r\n     * Read blob\r\n     * @param {string} fullPath\r\n     * @returns {Promise<Blob>} If it failed, reject a {@link CustomError}\r\n     */\r\n    async function readFile(fullPath) {\r\n        const { disk, path } = parsePath(fullPath);\r\n        if (path == '' || path.endsWith('/') || fsUtils.basename(path) == '') {\r\n            throw {\r\n                name: '',\r\n                message: `Invalid path : ${fullPath}`\r\n            };\r\n        }\r\n        if (!fileTables[disk]) {\r\n            throw {\r\n                name: '',\r\n                message: `The disk ( ${disk} ) could not be found`\r\n            };\r\n        }\r\n        if (!fileTables[disk][path]) {\r\n            throw {\r\n                name: '',\r\n                message: `File not found: ${fullPath}`\r\n            };\r\n        }\r\n        const store = await getStore('readonly', uuid)\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const request = store.get(fileTables[disk][path].id);\r\n            request.onsuccess = async (event) => {\r\n                const file = event.target.result;\r\n                if (file) {\r\n                    resolve(file.v);\r\n                    // Cache blob\r\n                    if (window.modes.dev == false) {\r\n                        blobURLCaches[fullPath] = URL.createObjectURL(file.v);\r\n                    }\r\n                    if (file.v.type && fileTables[disk][path].mimeType != file.v.type) {\r\n                        fileTables[disk][path].mimeType = file.v.type;\r\n                        updateFileTable(disk);\r\n                    }\r\n                } else {\r\n                    reject({\r\n                        name: 'NotFound',\r\n                        message: `File not found: ${fullPath}`\r\n                    });\r\n                }\r\n            }\r\n            request.onerror = async (event) => {\r\n                const err = event.target.error;\r\n                reject({\r\n                    name: err.name,\r\n                    message: err.message\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Remove file or directory\r\n     * @param {string} fullPath \r\n     * @param {object} [options]\r\n     * @param {boolean} [options.recursive=false]\r\n     * @param {boolean} [options.force=false]\r\n     * @returns {Promise} If it failed, reject a {@link CustomError}\r\n     */\r\n    async function rm(fullPath, options = {}) {\r\n        const { recursive = false, force = false } = options;\r\n        const { disk, path } = parsePath(fullPath);\r\n        if (!fileTables[disk]) {\r\n            if (force) return;\r\n            throw {\r\n                name: 'NotFound',\r\n                message: `The disk ( ${disk} ) could not be found`\r\n            };\r\n        }\r\n\r\n        const entry = fileTables[disk][path];\r\n        if (!entry) {\r\n            if (force) return;\r\n            throw {\r\n                name: 'NotFound',\r\n                message: `The specified path ( ${fullPath} ) could not be found`\r\n            };\r\n        }\r\n        if (entry.type === types.file) {\r\n            const store = await getStore('readwrite', uuid)\r\n            await new Promise((res, rej) => {\r\n                const req = store.delete(entry.id);\r\n                req.onsuccess = () => {\r\n                    // Remove cached url\r\n                    if (blobURLCaches[disk + ':' + path]) {\r\n                        delete blobURLCaches[disk + ':' + path];\r\n                    }\r\n                    delete fileTables[disk][path];\r\n                    updateFileTable(disk);\r\n                    emit('change', {\r\n                        path: fullPath\r\n                    });\r\n                    res();\r\n                };\r\n                req.onerror = () => rej({\r\n                    name: req.error.name,\r\n                    message: req.error.message\r\n                });\r\n            });\r\n            return;\r\n        } else if (entry.type === types.dir) {\r\n            const entries = await readdir(fullPath, { recursive });\r\n            if (!recursive && entries.length > 0) {\r\n                throw {\r\n                    name: 'DirectoryNotEmpty',\r\n                    message: `Directory ( ${fullPath} ) is not empty`\r\n                };\r\n            }\r\n            const pathToRemove = entries.map(e => parsePath(e).path);\r\n            pathToRemove.push(path);\r\n\r\n            await deleteBlobsInBatches(disk, pathToRemove, uuid)\r\n            for (const path of pathToRemove) {\r\n                const entry = fileTables[disk][path];\r\n                if (entry && entry.type === types.dir) {\r\n                    delete fileTables[disk][path];\r\n                }\r\n                updateFileTable(disk);\r\n            }\r\n            updateFileTable(disk);\r\n            emit('change', {\r\n                path: fullPath\r\n            })\r\n            return;\r\n        } else {\r\n            throw {\r\n                name: 'InvalidEntry',\r\n                message: `Unknown entry type at ${fullPath}`\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the status of the specified path\r\n     * @param {string} fullPath \r\n     * @returns {Object}\r\n     */\r\n    function stat(fullPath) {\r\n        const { disk, path } = parsePath(fullPath);\r\n        if (!fileTables[disk]) {\r\n            return {\r\n                isFile: () => false,\r\n                isDirectory: () => false,\r\n                length: 0,\r\n                exists: false,\r\n                type: null,\r\n                changeTime: null,\r\n                createdTime: null,\r\n                lastModifiedTime: null,\r\n                mimeType: null\r\n            }\r\n        }\r\n        const entry = fileTables[disk][path];\r\n        if (!entry) {\r\n            return {\r\n                isFile: () => false,\r\n                isDirectory: () => false,\r\n                length: 0,\r\n                exists: false,\r\n                type: null,\r\n                changeTime: null,\r\n                createdTime: null,\r\n                lastModifiedTime: null,\r\n                mimeType: null\r\n            }\r\n        }\r\n\r\n        var length = entry.length;\r\n        if (entry.type === types.dir) {\r\n            Object.keys(fileTables[disk]).filter(t => t.startsWith(path)).forEach(p => {\r\n                length += fileTables[disk][p].length;\r\n            })\r\n        }\r\n\r\n        return {\r\n            isFile: () => entry.type === types.file,\r\n            isDirectory: () => entry.type === types.dir,\r\n            length,\r\n            exists: true,\r\n            type: entry.type === types.file ? 'file' : 'directory',\r\n            changeTime: entry.changeTime,\r\n            createdTime: entry.createdTime,\r\n            lastModifiedTime: entry.lastModifiedTime,\r\n            mimeType: entry.mimeType || ''\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Write a blob to the specified path\r\n     * @param {string} fullPath\r\n     * @param {Blob} blob \r\n     * @returns {Promise} If it failed, reject a {@link CustomError}\r\n     */\r\n    async function writeFile(fullPath, blob) {\r\n        const { disk, path } = parsePath(fullPath);\r\n        if (!fileTables[disk]) throw {\r\n            name: 'NotFound',\r\n            message: `The disk ( ${disk} ) could not be found`\r\n        };\r\n        if (fsUtils.basename(path) == '' || path.endsWith('/') || path == '') throw {\r\n            name: 'InvalidPath',\r\n            message: `Invalid path : ${fullPath}`\r\n        };\r\n        if (!isBlob(blob)) throw {\r\n            name: 'TypeError',\r\n            message: `The type of the second parameter provided ( ${Object.prototype.toString.call(blob)} ) is not [object Blob]`\r\n        };\r\n        /*if (!checkParentFoldersExist(disk, path)) throw {\r\n            name: '',\r\n            message: `No such file or directory : ${fullPath}`\r\n        };*/\r\n        ensureParentFolders(disk, path);\r\n        const id = fileTables[disk][path] ? fileTables[disk][path].id : randomID(idLength);\r\n        const now = Date.now();\r\n        const store = await getStore('readwrite', uuid);\r\n        return new Promise((resolve, reject) => {\r\n            const request = store.put({\r\n                k: id,\r\n                v: blob\r\n            })\r\n            request.onsuccess = async () => {\r\n                if (!fileTables[disk][path]) {\r\n                    fileTables[disk][path] = {\r\n                        type: types.file,\r\n                        changeTime: now,\r\n                        createdTime: now,\r\n                        lastModifiedTime: now,\r\n                        length: blob.size,\r\n                        id,\r\n                        mimeType: blob.type || ''\r\n                    };\r\n                } else {\r\n                    if (fileTables[disk][path].type == types.file) {\r\n                        fileTables[disk][path].changeTime = now;\r\n                        fileTables[disk][path].lastModifiedTime = now;\r\n                        fileTables[disk][path].length = blob.size;\r\n                        fileTables[disk][path].mimeType = blob.type || '';\r\n                    }\r\n                }\r\n                updateFileTable(disk);\r\n                emit('change', {\r\n                    path: fullPath\r\n                })\r\n                // Cache blob\r\n                if (window.modes.dev == false) {\r\n                    blobURLCaches[fullPath] = URL.createObjectURL(blob);\r\n                }\r\n                resolve();\r\n            }\r\n            request.onerror = async (event) => {\r\n                const err = event.target.error;\r\n                reject({\r\n                    name: err.name,\r\n                    message: err.message\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    // =================== Proxy for Web Workers =================== //\r\n\r\n    /**\r\n     * Proxy\r\n     * @param {string} method \r\n     * @param {*} param \r\n     * @returns \r\n     */\r\n    async function proxy(method, param) {\r\n        const availableAPIs = { exists, mkdir, mv, on, readdir, readFile, rm, stat, writeFile };\r\n        if (Object.keys(availableAPIs).includes(method)) {\r\n            return availableAPIs[method](...param);\r\n        }\r\n    }\r\n\r\n    // =================== Convenient functions ==================== //\r\n\r\n    /**\r\n     * Download file to idbfs and returns file content\r\n     * @param {string} fullPath \r\n     * @param {string} [responseType=blob]\r\n     * @returns {(Blob|string)}\r\n     */\r\n    async function downloadFile(fullPath, responseType = 'blob') {\r\n        if (__dirname != \"\") {\r\n            fullPath = fsUtils.resolve(__dirname, fullPath);\r\n        }\r\n        if (!fullPath || typeof fullPath !== 'string' || fullPath.trim().length == 0) return;\r\n        if (debugMode == true) {\r\n            // Debugger\r\n            print(getStackTrace(), fullPath);\r\n        }\r\n        if (\r\n            navigator.onLine != true                            // Offline\r\n            || window.needsUpdate == false && window.modes.dev == false  // Installed\r\n            || fullPath.startsWith('C:/User/Desktop/')   // Desktop folder\r\n        ) {\r\n            return await readFile(fullPath);\r\n        }\r\n        const { disk, path } = parsePath(fullPath);\r\n        if (disk != 'C') throw {\r\n            name: 'InvalidPath',\r\n            message: ''\r\n        };\r\n        return fetch(path).then(response => {\r\n            if (response.ok) {\r\n                return response.blob();\r\n            } else {\r\n                print(`Failed to fetch file: ${fullPath}`);\r\n                throw new Error('Fetch failed');\r\n            }\r\n        }).then(async blob => {\r\n            writeFile(fullPath, blob);\r\n            if (responseType == 'text') {\r\n                return await blob.text();\r\n            } else {\r\n                return blob;\r\n            }\r\n        }).catch(async err => {\r\n            print(`Failed to fetch file: ${fullPath}`, err);\r\n            const blob = await readFile(fullPath);\r\n            if (responseType == 'text') {\r\n                return await blob.text();\r\n            }\r\n            return blob;\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Get the blob URL of the file\r\n     * @param {string} fullPath\r\n     * @returns {Promise<string>}\r\n     */\r\n    async function getFileURL(fullPath) {\r\n        if (__dirname != \"\") {\r\n            fullPath = fsUtils.resolve(__dirname, fullPath);\r\n        }\r\n        if (blobURLCaches[fullPath] && window.modes.dev == false) return blobURLCaches[fullPath];\r\n        try {\r\n            const blob = await downloadFile(fullPath);\r\n            if (!blob) return '';\r\n            const blobURL = URL.createObjectURL(blob);\r\n            if (window.modes.dev == false) blobURLCaches[fullPath] = blobURL;\r\n            return blobURL;\r\n        } catch (e) {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get file content\r\n     * @param {string} fullPath \r\n     * @returns {string}\r\n     */\r\n    async function getFileAsText(fullPath) {\r\n        if (__dirname != \"\") {\r\n            fullPath = fsUtils.resolve(__dirname, fullPath);\r\n        }\r\n        if (\r\n            navigator.onLine != true                            // Offline\r\n            || window.needsUpdate == false && window.modes.dev == false  // Installed\r\n            || fullPath.startsWith('C:/User/Desktop/')       // Desktop folder\r\n        ) {\r\n            return await (await readFile(fullPath)).text();\r\n        }\r\n        const { disk, path } = parsePath(fullPath);\r\n        if (disk != 'C') throw {\r\n            name: 'InvalidPath',\r\n            message: ''\r\n        };\r\n        return fetch(path).then(response => {\r\n            if (response.ok) {\r\n                return response.blob();\r\n            } else {\r\n                print(`Failed to fetch file: ${fullPath}`);\r\n            }\r\n        }).then(async blob => {\r\n            writeFile(fullPath, blob);\r\n            return await blob.text();\r\n        }).catch(async err => {\r\n            print(`Failed to fetch file: ${fullPath}`, err);\r\n            return await (await readFile(fullPath)).text();\r\n        })\r\n    }\r\n\r\n    // ==================== Deprecated functions ==================== //\r\n\r\n    /**\r\n     * Get file extension\r\n     * @param {string} file \r\n     * @returns {string}\r\n     */\r\n    function getFileExtension(file = '') {\r\n        console.warn('%cfs.getFileExtension()%c has been deprecated.\\nPlease use %cutils.getFileExtension()%c instead', 'font-family:monospace;background:rgb(24,24,24);color:#fff;border-radius:4px;padding:4px 6px;', '', 'font-family:monospace;background:rgb(24,24,24);color:#fff;border-radius:4px;padding:4px 6px;', '');\r\n        return fsUtils.extname(file);\r\n    }\r\n\r\n    function resolvePath(path) {\r\n        if (__dirname != \"\") {\r\n            var isdir = path.endsWith('/');\r\n            path = fsUtils.resolve(__dirname, path);\r\n            if (isdir) path += '/';\r\n        }\r\n        return path;\r\n    }\r\n\r\n    return {\r\n        get disks() {\r\n            return Object.keys(fileTables);\r\n        },\r\n        quit: function () {\r\n            UUIDManager.deregister(uuid);\r\n        },\r\n        // =================== For main window =================== //\r\n        exists, mkdir, mv, on, readdir, readFile, rm, stat, writeFile,\r\n        // =================== For Web Workers =================== //\r\n        proxy,\r\n        // ================= Convenient functions ================ //\r\n        downloadFile, getFileURL, getFileAsText,\r\n        // ================= Deprecated functions ================ //\r\n        getFileExtension, resolvePath\r\n    };\r\n}\r\n\r\nwindow.IDBFS = IDBFS;\r\nwindow.fsUtils = fsUtils;\r\n\r\nObject.freeze(window.IDBFS);\r\nObject.freeze(window.fsUtils);\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://winbows11/./src/lib/fs.js?\n}")},6579:function(__unused_webpack_module,exports){eval('{/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\t true ? factory(exports) :\n\t0;\n}(this, (function (exports) { \'use strict\';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join(\'\');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return "(?:" + str + ")";\n}\nfunction typeOf(o) {\n    return o === undefined ? "undefined" : o === null ? "null" : Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== "number" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = "[A-Za-z]",\n        CR$ = "[\\\\x0D]",\n        DIGIT$$ = "[0-9]",\n        DQUOTE$$ = "[\\\\x22]",\n        HEXDIG$$ = merge(DIGIT$$, "[A-Fa-f]"),\n        //case-insensitive\n    LF$$ = "[\\\\x0A]",\n        SP$$ = "[\\\\x20]",\n        PCT_ENCODED$ = subexp(subexp("%[EFef]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = "[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]",\n        SUB_DELIMS$$ = "[\\\\!\\\\$\\\\&\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? "[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]" : "[]",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? "[\\\\uE000-\\\\uF8FF]" : "[]",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, "[\\\\-\\\\.\\\\_\\\\~]", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, "[\\\\+\\\\-\\\\.]") + "*"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\\\:]")) + "*"),\n        DEC_OCTET$ = subexp(subexp("25[0-5]") + "|" + subexp("2[0-4]" + DIGIT$$) + "|" + subexp("1" + DIGIT$$ + DIGIT$$) + "|" + subexp("[1-9]" + DIGIT$$) + "|" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp("25[0-5]") + "|" + subexp("2[0-4]" + DIGIT$$) + "|" + subexp("1" + DIGIT$$ + DIGIT$$) + "|" + subexp("0?[1-9]" + DIGIT$$) + "|0?0?" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + "\\\\." + DEC_OCTET_RELAXED$ + "\\\\." + DEC_OCTET_RELAXED$ + "\\\\." + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + "{1,4}"),\n        LS32$ = subexp(subexp(H16$ + "\\\\:" + H16$) + "|" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + "\\\\:") + "{6}" + LS32$),\n        //                           6( h16 ":" ) ls32\n    IPV6ADDRESS2$ = subexp("\\\\:\\\\:" + subexp(H16$ + "\\\\:") + "{5}" + LS32$),\n        //                      "::" 5( h16 ":" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + "?\\\\:\\\\:" + subexp(H16$ + "\\\\:") + "{4}" + LS32$),\n        //[               h16 ] "::" 4( h16 ":" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + "\\\\:") + "{0,1}" + H16$) + "?\\\\:\\\\:" + subexp(H16$ + "\\\\:") + "{3}" + LS32$),\n        //[ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + "\\\\:") + "{0,2}" + H16$) + "?\\\\:\\\\:" + subexp(H16$ + "\\\\:") + "{2}" + LS32$),\n        //[ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + "\\\\:") + "{0,3}" + H16$) + "?\\\\:\\\\:" + H16$ + "\\\\:" + LS32$),\n        //[ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + "\\\\:") + "{0,4}" + H16$) + "?\\\\:\\\\:" + LS32$),\n        //[ *4( h16 ":" ) h16 ] "::"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + "\\\\:") + "{0,5}" + H16$) + "?\\\\:\\\\:" + H16$),\n        //[ *5( h16 ":" ) h16 ] "::"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + "\\\\:") + "{0,6}" + H16$) + "?\\\\:\\\\:"),\n        //[ *6( h16 ":" ) h16 ] "::"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join("|")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + "|" + PCT_ENCODED$) + "+"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + "\\\\%25" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp("\\\\%25|\\\\%(?!" + HEXDIG$$ + "{2})") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp("[vV]" + HEXDIG$$ + "+\\\\." + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\\\:]") + "+"),\n        IP_LITERAL$ = subexp("\\\\[" + subexp(IPV6ADDRZ_RELAXED$ + "|" + IPV6ADDRESS$ + "|" + IPVFUTURE$) + "\\\\]"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$)) + "*"),\n        HOST$ = subexp(IP_LITERAL$ + "|" + IPV4ADDRESS$ + "(?!" + REG_NAME$ + ")" + "|" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + "*"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + "@") + "?" + HOST$ + subexp("\\\\:" + PORT$) + "?"),\n        PCHAR$ = subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\\\:\\\\@]")),\n        SEGMENT$ = subexp(PCHAR$ + "*"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + "+"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\\\@]")) + "+"),\n        PATH_ABEMPTY$ = subexp(subexp("\\\\/" + SEGMENT$) + "*"),\n        PATH_ABSOLUTE$ = subexp("\\\\/" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + "?"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = "(?!" + PCHAR$ + ")",\n        PATH$ = subexp(PATH_ABEMPTY$ + "|" + PATH_ABSOLUTE$ + "|" + PATH_NOSCHEME$ + "|" + PATH_ROOTLESS$ + "|" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + "|" + merge("[\\\\/\\\\?]", IPRIVATE$$)) + "*"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + "|[\\\\/\\\\?]") + "*"),\n        HIER_PART$ = subexp(subexp("\\\\/\\\\/" + AUTHORITY$ + PATH_ABEMPTY$) + "|" + PATH_ABSOLUTE$ + "|" + PATH_ROOTLESS$ + "|" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + "\\\\:" + HIER_PART$ + subexp("\\\\?" + QUERY$) + "?" + subexp("\\\\#" + FRAGMENT$) + "?"),\n        RELATIVE_PART$ = subexp(subexp("\\\\/\\\\/" + AUTHORITY$ + PATH_ABEMPTY$) + "|" + PATH_ABSOLUTE$ + "|" + PATH_NOSCHEME$ + "|" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp("\\\\?" + QUERY$) + "?" + subexp("\\\\#" + FRAGMENT$) + "?"),\n        URI_REFERENCE$ = subexp(URI$ + "|" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + "\\\\:" + HIER_PART$ + subexp("\\\\?" + QUERY$) + "?"),\n        GENERIC_REF$ = "^(" + SCHEME$ + ")\\\\:" + subexp(subexp("\\\\/\\\\/(" + subexp("(" + USERINFO$ + ")@") + "?(" + HOST$ + ")" + subexp("\\\\:(" + PORT$ + ")") + "?)") + "?(" + PATH_ABEMPTY$ + "|" + PATH_ABSOLUTE$ + "|" + PATH_ROOTLESS$ + "|" + PATH_EMPTY$ + ")") + subexp("\\\\?(" + QUERY$ + ")") + "?" + subexp("\\\\#(" + FRAGMENT$ + ")") + "?$",\n        RELATIVE_REF$ = "^(){0}" + subexp(subexp("\\\\/\\\\/(" + subexp("(" + USERINFO$ + ")@") + "?(" + HOST$ + ")" + subexp("\\\\:(" + PORT$ + ")") + "?)") + "?(" + PATH_ABEMPTY$ + "|" + PATH_ABSOLUTE$ + "|" + PATH_NOSCHEME$ + "|" + PATH_EMPTY$ + ")") + subexp("\\\\?(" + QUERY$ + ")") + "?" + subexp("\\\\#(" + FRAGMENT$ + ")") + "?$",\n        ABSOLUTE_REF$ = "^(" + SCHEME$ + ")\\\\:" + subexp(subexp("\\\\/\\\\/(" + subexp("(" + USERINFO$ + ")@") + "?(" + HOST$ + ")" + subexp("\\\\:(" + PORT$ + ")") + "?)") + "?(" + PATH_ABEMPTY$ + "|" + PATH_ABSOLUTE$ + "|" + PATH_ROOTLESS$ + "|" + PATH_EMPTY$ + ")") + subexp("\\\\?(" + QUERY$ + ")") + "?$",\n        SAMEDOC_REF$ = "^" + subexp("\\\\#(" + FRAGMENT$ + ")") + "?$",\n        AUTHORITY_REF$ = "^" + subexp("(" + USERINFO$ + ")@") + "?(" + HOST$ + ")" + subexp("\\\\:(" + PORT$ + ")") + "?$";\n    return {\n        NOT_SCHEME: new RegExp(merge("[^]", ALPHA$$, DIGIT$$, "[\\\\+\\\\-\\\\.]"), "g"),\n        NOT_USERINFO: new RegExp(merge("[^\\\\%\\\\:]", UNRESERVED$$, SUB_DELIMS$$), "g"),\n        NOT_HOST: new RegExp(merge("[^\\\\%\\\\[\\\\]\\\\:]", UNRESERVED$$, SUB_DELIMS$$), "g"),\n        NOT_PATH: new RegExp(merge("[^\\\\%\\\\/\\\\:\\\\@]", UNRESERVED$$, SUB_DELIMS$$), "g"),\n        NOT_PATH_NOSCHEME: new RegExp(merge("[^\\\\%\\\\/\\\\@]", UNRESERVED$$, SUB_DELIMS$$), "g"),\n        NOT_QUERY: new RegExp(merge("[^\\\\%]", UNRESERVED$$, SUB_DELIMS$$, "[\\\\:\\\\@\\\\/\\\\?]", IPRIVATE$$), "g"),\n        NOT_FRAGMENT: new RegExp(merge("[^\\\\%]", UNRESERVED$$, SUB_DELIMS$$, "[\\\\:\\\\@\\\\/\\\\?]"), "g"),\n        ESCAPE: new RegExp(merge("[^]", UNRESERVED$$, SUB_DELIMS$$), "g"),\n        UNRESERVED: new RegExp(UNRESERVED$$, "g"),\n        OTHER_CHARS: new RegExp(merge("[^\\\\%]", UNRESERVED$$, RESERVED$$), "g"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, "g"),\n        IPV4ADDRESS: new RegExp("^(" + IPV4ADDRESS$ + ")$"),\n        IPV6ADDRESS: new RegExp("^\\\\[?(" + IPV6ADDRESS$ + ")" + subexp(subexp("\\\\%25|\\\\%(?!" + HEXDIG$$ + "{2})") + "(" + ZONEID$ + ")") + "?\\\\]?$") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i["return"]) _i["return"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError("Invalid attempt to destructure non-iterable instance");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = \'-\'; // \'\\x2D\'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t\'overflow\': \'Overflow: input needs wider integers to process\',\n\t\'not-basic\': \'Illegal input >= 0x80 (not a basic code point)\',\n\t\'invalid-input\': \'Invalid input\'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split(\'@\');\n\tvar result = \'\';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + \'@\';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, \'\\x2E\');\n\tvar labels = string.split(\'.\');\n\tvar encoded = map(labels, fn).join(\'.\');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It\'s a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It\'s an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don\'t use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it\'s not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1(\'not-basic\');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1(\'invalid-input\');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1(\'overflow\');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1(\'overflow\');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we\'ll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1(\'overflow\');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it\'s empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder\'s <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1(\'overflow\');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1(\'overflow\');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join(\'\');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn\'t matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn\'t matter if you call it with a domain that\'s already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? \'xn--\' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t\'version\': \'2.1.0\',\n\t/**\n  * An object of methods to convert from JavaScript\'s internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t\'ucs2\': {\n\t\t\'decode\': ucs2decode,\n\t\t\'encode\': ucs2encode\n\t},\n\t\'decode\': decode,\n\t\'encode\': encode,\n\t\'toASCII\': toASCII,\n\t\'toUnicode\': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS\'\' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = "%0" + c.toString(16).toUpperCase();else if (c < 128) e = "%" + c.toString(16).toUpperCase();else if (c < 2048) e = "%" + (c >> 6 | 192).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();else e = "%" + (c >> 12 | 224).toString(16).toUpperCase() + "%" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = "";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, "");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, "$1") || "0";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(".").map(_stripLeadingZeros).join(".");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split(\'::\').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(":").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(":").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || \'\';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === "0") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(":") + "::" + newLast.join(":");\n        } else {\n            newHost = fields.join(":");\n        }\n        if (zone) {\n            newHost += "%" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = "".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === "suffix") uriString = (options.scheme ? options.scheme + ":" : "") + "//" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || "";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf("@") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf("//") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || "";\n            components.query = uriString.indexOf("?") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf("#") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = "same-document";\n        } else if (components.scheme === undefined) {\n            components.reference = "relative";\n        } else if (components.fragment === undefined) {\n            components.reference = "absolute";\n        } else {\n            components.reference = "uri";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== "suffix" && options.reference !== components.reference) {\n            components.error = components.error || "URI is not a " + options.reference + " reference.";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];\n        //check if scheme can\'t handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || "Host\'s domain name can not be converted to ASCII via punycode: " + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || "URI can not be parsed.";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push("@");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return "[" + $1 + ($2 ? "%25" + $2 : "") + "]";\n        }));\n    }\n    if (typeof components.port === "number" || typeof components.port === "string") {\n        uriTokens.push(":");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join("") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, "");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, "/");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, "/");\n            output.pop();\n        } else if (input === "." || input === "..") {\n            input = "";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error("Unexpected dot segment condition");\n            }\n        }\n    }\n    return output.join("");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || "Host\'s domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== "suffix" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(":");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== "suffix") {\n            uriTokens.push("//");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== "/") {\n            uriTokens.push("/");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, "/%2F"); //don\'t allow the path to start with "//"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push("?");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push("#");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(""); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || "");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || "");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === "/") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = "/" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf("/") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: \'null\' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === "string") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === "object") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === "string") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === "object") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === "string") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === "object") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: "http",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || "HTTP URIs must have a host.";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === "https";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === "") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = "/";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: "https",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === \'boolean\' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === "wss";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: "ws",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || \'/\') + (wsComponents.query ? \'?\' + wsComponents.query : \'\');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === "") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === \'boolean\') {\n            wsComponents.scheme = wsComponents.secure ? \'wss\' : \'ws\';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split(\'?\'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== \'/\' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: "wss",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = "[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~" + (isIRI ? "\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF" : "") + "]";\nvar HEXDIG$$ = "[0-9A-Fa-f]"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp("%[EFef]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = "[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]";\n//const WSP$$ = "[\\\\x20\\\\x09]";\n//const OBS_QTEXT$$ = "[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge("[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = "[\\\\x21-\\\\x7E]";\n//const WSP$$ = "[\\\\x20\\\\x09]";\n//const OBS_QP$ = subexp("\\\\\\\\" + merge("[\\\\x00\\\\x0D\\\\x0A]", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + "*" + "\\\\x0D\\\\x0A") + "?" + WSP$$ + "+");\n//const QUOTED_PAIR$ = subexp(subexp("\\\\\\\\" + subexp(VCHAR$$ + "|" + WSP$$)) + "|" + OBS_QP$);\n//const QUOTED_STRING$ = subexp(\'\\\\"\' + subexp(FWS$ + "?" + QCONTENT$) + "*" + FWS$ + "?" + \'\\\\"\');\nvar ATEXT$$ = "[A-Za-z0-9\\\\!\\\\$\\\\%\\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]";\nvar QTEXT$$ = "[\\\\!\\\\$\\\\%\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]";\nvar VCHAR$$ = merge(QTEXT$$, "[\\\\\\"\\\\\\\\]");\nvar SOME_DELIMS$$ = "[\\\\!\\\\$\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]";\nvar UNRESERVED = new RegExp(UNRESERVED$$, "g");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, "g");\nvar NOT_LOCAL_PART = new RegExp(merge("[^]", ATEXT$$, "[\\\\.]", \'[\\\\"]\', VCHAR$$), "g");\nvar NOT_HFNAME = new RegExp(merge("[^]", UNRESERVED$$, SOME_DELIMS$$), "g");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: "mailto",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(",") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split("&");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split("=");\n                switch (hfield[0]) {\n                    case "to":\n                        var toAddrs = hfield[1].split(",");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case "subject":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case "body":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split("@");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || "Email address\'s domain name can not be converted to ASCII via punycode: " + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join("@");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf("@");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || "Email address\'s domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;\n                }\n                to[x] = localPart + "@" + domain;\n            }\n            components.path = to.join(",");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers["subject"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers["body"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + "=" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join("&");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: "urn",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || "urn";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + ":" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || "URN can not be parsed.";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || "urn";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + ":" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + ":" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: "urn:uuid",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || "UUID is not valid.";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || "").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, \'__esModule\', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n\n\n//# sourceURL=webpack://winbows11/./node_modules/uri-js/dist/es5/uri.all.js?\n}')},6617:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   z: () => (/* binding */ InputStream)\n/* harmony export */ });\n/* harmony import */ var _eventEmitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8035);\n\r\n\r\nclass InputStream extends _eventEmitter_js__WEBPACK_IMPORTED_MODULE_0__/* .EventEmitter */ .b {\r\n    constructor() {\r\n        super();\r\n        this.buffer = [];\r\n        this.readListeners = [];\r\n        this.ended = false;\r\n    }\r\n\r\n    write(data) {\r\n        if (this.ended) return;\r\n        if (this.readListeners.length > 0) {\r\n            const listener = this.readListeners.shift();\r\n            listener(data);\r\n        } else if (this.buffer.length > 0) {\r\n            resolve(this.buffer.shift());\r\n        } else {\r\n            this.buffer.push(data);\r\n        }\r\n\r\n        this._emit('data', data);\r\n    }\r\n\r\n    read() {\r\n        return new Promise(resolve => {\r\n            if (this.buffer.length > 0) {\r\n                resolve(this.buffer.shift());\r\n            } else {\r\n                this.readListeners.push(resolve);\r\n            }\r\n        });\r\n    }\r\n\r\n    end() {\r\n        if (this.ended) return;\r\n        this.ended = true;\r\n\r\n        while (this.listeners.length > 0) {\r\n            const listener = this.listeners.shift();\r\n            listener(null);\r\n        }\r\n\r\n        this.emit('end');\r\n    }\r\n}\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/utils/inputStream.js?\n}")},6735:module=>{"use strict";eval('{module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg width=%2714%27 height=%2714%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M10.5 6.65 4.9 2.8v7.7%27 fill=%27%23000%27/%3E%3C/svg%3E";\n\n//# sourceURL=webpack://winbows11/data:image/svg+xml;charset=utf-8,%253Csvg_width=%252714%2527_height=%252714%2527_fill=%2527none%2527_xmlns=%2527http://www.w3.org/2000/svg%2527%253E%253Cpath_d=%2527M10.5_6.65_4.9_2.8v7.7%2527_fill=%2527%2523000%2527/%253E%253C/svg%253E?\n}')},6856:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ Devtool)\n/* harmony export */ });\n/* harmony import */ var _lib_external_winbows_devtool_dist_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8199);\n/* harmony import */ var _lib_external_winbows_devtool_dist_index_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(701);\n/* harmony import */ var _viewport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(877);\n/* harmony import */ var _tabview_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3071);\n/* harmony import */ var _storage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8596);\n/* harmony import */ var _performance_monitor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2292);\n/* harmony import */ var _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(5392);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_storage_js__WEBPACK_IMPORTED_MODULE_4__, _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__]);\n([_storage_js__WEBPACK_IMPORTED_MODULE_4__, _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst { root } = _viewport_js__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .A;\r\nconst { ShellInstance, process } = _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_6__/* .apis */ .O;\r\n\r\nfunction Devtool() {\r\n    let side = 'right';\r\n    let width = 700;\r\n    let height = window.innerHeight;\r\n\r\n    if (width > window.innerWidth) {\r\n        width = window.innerWidth;\r\n    }\r\n\r\n    root.style.width = `calc(100% - ${width}px)`;\r\n\r\n    const devContainer = document.createElement('div');\r\n    const tabview = new _tabview_js__WEBPACK_IMPORTED_MODULE_3__/* .Tabview */ .t(devContainer);\r\n    devContainer.className = 'winbows-dev-container winui-dark winui-no-background';\r\n    devContainer.style = `right: 0; top: 0; width: ${width}px; height: var(--winbows-screen-height);`;\r\n    document.body.appendChild(devContainer);\r\n\r\n    const devtool = new _lib_external_winbows_devtool_dist_index_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"] */ .A();\r\n\r\n    const consoleTab = tabview.add({\r\n        id: 'console',\r\n        title: 'Console',\r\n        content: devtool.devtool,\r\n        closable: false\r\n    })\r\n    const performanceMonitorTab = tabview.add({\r\n        id: 'performance-monitor',\r\n        title: 'Performance Monitor',\r\n        content: _performance_monitor_js__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .A.container,\r\n        closable: false\r\n    })\r\n    const storageTab = tabview.add({\r\n        id: 'storage',\r\n        title: 'Storage',\r\n        content: _storage_js__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .A,\r\n        closable: false\r\n    })\r\n\r\n    tabview.select('console');\r\n    tabview.on('select', id => {\r\n        if (id != 'performance-monitor') {\r\n            _performance_monitor_js__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .A.monitors.forEach(monitor => {\r\n                monitor.stop();\r\n            })\r\n        } else {\r\n            _performance_monitor_js__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .A.monitors.forEach(monitor => {\r\n                monitor.start();\r\n            })\r\n        }\r\n    })\r\n\r\n    if (window.HMGR) {\r\n        window.HMGR.on('NIC:REQUEST:RECEIVED', (e) => {\r\n            devtool.console.log(`${e.isThisTab != true ? `From client [${e.fromClientId || 'UNKNOWN'}]\\n` : ''}%c[HMGR] %c${e.method} %c${e.url} %c${e.status}`, 'color:#ff00ff', '', 'color:#86b7ff', e.ok ? 'color:#58ff31' : 'color:red');\r\n        })\r\n    }\r\n\r\n    [\r\n        \"log\", \"info\", \"warn\", \"error\", \"debug\",\r\n        \"group\", \"groupCollapsed\", \"groupEnd\",\r\n        \"count\", \"countReset\",\r\n        \"time\", \"timeLog\", \"timeEnd\",\r\n        \"table\", \"trace\", \"assert\", \"clear\"\r\n    ].forEach(method => {\r\n        const original = console[method];\r\n        console[method] = function (...args) {\r\n            devtool.console[method].apply(devtool.console, args);\r\n            original.apply(console, args);\r\n        };\r\n    });\r\n\r\n    document.addEventListener('click', e => {\r\n        const el = e.target.closest('[data-href]');\r\n        if (!el) return;\r\n\r\n        const url = el.dataset.href;\r\n        console.log('Clicked:', url);\r\n        \r\n        const shell = new ShellInstance(process);\r\n        shell.stderr.on('data', (data) => {\r\n            console.error(data);\r\n        })\r\n        shell.execCommand('start code://' + url);\r\n        shell.dispose();\r\n    });\r\n\r\n    document.addEventListener('keydown', e => {\r\n        if (e.key !== 'Enter' && e.key !== ' ') return;\r\n        const el = e.target.closest('[data-href]');\r\n        if (!el) return;\r\n\r\n        e.preventDefault();\r\n        el.click();\r\n    });\r\n\r\n    return;\r\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/devtool/devtool.js?\n}")},7190:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   b: () => (/* binding */ iconManager)\n/* harmony export */ });\n/* harmony import */ var _taskbar_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8620);\n/* harmony import */ var _appRegistry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1123);\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3618);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_taskbar_js__WEBPACK_IMPORTED_MODULE_0__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_1__, _system_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_taskbar_js__WEBPACK_IMPORTED_MODULE_0__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_1__, _system_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\nlet systemItemOptions = {\r\n    start: {\r\n        display: true,\r\n        icon: {\r\n            light: 'C:/Winbows/icons/applications/tools/start.ico',\r\n            dark: 'C:/Winbows/icons/applications/tools/start2.ico'\r\n        }\r\n    },\r\n    search: {\r\n        display: true,\r\n        icon: {\r\n            light: 'C:/Winbows/icons/applications/tools/search.ico',\r\n            dark: 'C:/Winbows/icons/applications/tools/search2.ico'\r\n        }\r\n    },\r\n    taskview: {\r\n        display: true,\r\n        icon: {\r\n            light: 'C:/Winbows/icons/applications/tools/taskview.ico',\r\n            dark: 'C:/Winbows/icons/applications/tools/taskview2.ico'\r\n        }\r\n    },\r\n    widgets: {\r\n        display: false,\r\n        icon: 'C:/Winbows/icons/applications/tools/widgets.ico'\r\n    }\r\n}\r\n\r\nconst taskbarItems = document.createElement('div');\r\nconst taskbarApps = document.createElement('div');\r\n\r\ntaskbarItems.className = 'taskbar-items';\r\ntaskbarApps.className = 'taskbar-apps';\r\n\r\n_taskbar_js__WEBPACK_IMPORTED_MODULE_0__/* .taskbarIcons */ .r9.appendChild(taskbarItems);\r\n_taskbar_js__WEBPACK_IMPORTED_MODULE_0__/* .taskbarIcons */ .r9.appendChild(taskbarApps);\r\n\r\nlet pinnedApps = [\r\n    'C:/Winbows/SystemApps/Microhard.Winbows.FileExplorer/app.wrt',     // File explorer\r\n    'C:/Winbows/SystemApps/Microhard.Winbows.Edge/app.wrt',             // Edge\r\n    'C:/Winbows/SystemApps/Microhard.Winbows.MicrohardStore/app.wrt'    // MH Store\r\n];\r\nlet taskbarIcons = {};\r\nlet taskbarAppIconOrder = [];\r\n\r\nclass TaskbarIcon {\r\n    /**\r\n     * @typedef {Object} TaskbarIconData\r\n     * @property {number} appId\r\n     * @property {'system'|'app'} type\r\n     */\r\n    /**\r\n     * Create a taskbar icon\r\n     * @param {TaskbarIconData} data \r\n     * @param {*} options \r\n     * @returns\r\n     */\r\n    constructor(data, options = {}) {\r\n        if (!data.appId) return;\r\n        this.appId = data.appId;\r\n        this.type = data.type == 'system' ? 'system' : 'app';\r\n\r\n        this.status = {\r\n            focused: false,\r\n            show: false,\r\n            opened: false\r\n        }\r\n\r\n        if (this.type == 'app') {\r\n            // Not available on system icon\r\n            this.windows = [];\r\n            this.icon = _appRegistry_js__WEBPACK_IMPORTED_MODULE_1__/* .appRegistry */ .r.getIcon(data.appId);\r\n        }\r\n\r\n        this.item = document.createElement('div');\r\n        this.itemImage = document.createElement('div');\r\n        this.item.className = 'taskbar-item';\r\n        this.itemImage.className = 'taskbar-icon';\r\n        if (typeof data.icon === 'string') {\r\n            this.itemImage.style.backgroundImage = `url(${data.icon})`;\r\n        } else {\r\n            this.itemImage.style.backgroundImage = `url(${data.icon[_system_js__WEBPACK_IMPORTED_MODULE_2__/* .System */ .i.theme.get()]})`;\r\n            _system_js__WEBPACK_IMPORTED_MODULE_2__/* .System */ .i.theme.onChange(theme => {\r\n                this.itemImage.style.backgroundImage = `url(${data.icon[theme]})`;\r\n            })\r\n        }\r\n        this.item.appendChild(this.itemImage);\r\n\r\n        if (this.type == 'app') {\r\n            taskbarAppIconOrder.push(this.appId);\r\n        }\r\n\r\n        taskbarIcons.push(this);\r\n\r\n        return {\r\n            addWindow: () => {\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction pinApp(name) {\r\n    if (_appRegistry_js__WEBPACK_IMPORTED_MODULE_1__/* .appRegistry */ .r.exists(name) && !pinnedApps.includes(name)) {\r\n        pinnedApps.push(name);\r\n    }\r\n}\r\n\r\nfunction unpinApp(name) {\r\n    if (pinnedApps.includes(name)) {\r\n        pinnedApps.splice(pinnedApps.indexOf(name), 1);\r\n    }\r\n}\r\n\r\nfunction isPinned(path) {\r\n    return window.Taskbar.pinnedApps.includes(path);\r\n}\r\n\r\nfunction preloadImage() {\r\n\r\n}\r\n\r\nfunction init() {\r\n\r\n}\r\n\r\nfunction getIcon(data, options) {\r\n    const icon = taskbarIcons[appId];\r\n    if (icon) return icon;\r\n    return new TaskbarIcon(data, options || {});\r\n}\r\n\r\nconst iconManager = {\r\n    pinApp, unpinApp, isPinned, preloadImage, init, getIcon\r\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/taskbar/iconManager.js?\n}")},7659:module=>{"use strict";eval('{\r\n\r\nvar memo = {};\r\n\r\n/* istanbul ignore next  */\r\nfunction getTarget(target) {\r\n  if (typeof memo[target] === "undefined") {\r\n    var styleTarget = document.querySelector(target);\r\n\r\n    // Special case to return head of iframe instead of iframe itself\r\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\r\n      try {\r\n        // This will throw an exception if access to iframe is blocked\r\n        // due to cross-origin restrictions\r\n        styleTarget = styleTarget.contentDocument.head;\r\n      } catch (e) {\r\n        // istanbul ignore next\r\n        styleTarget = null;\r\n      }\r\n    }\r\n    memo[target] = styleTarget;\r\n  }\r\n  return memo[target];\r\n}\r\n\r\n/* istanbul ignore next  */\r\nfunction insertBySelector(insert, style) {\r\n  var target = getTarget(insert);\r\n  if (!target) {\r\n    throw new Error("Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.");\r\n  }\r\n  target.appendChild(style);\r\n}\r\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://winbows11/./node_modules/style-loader/dist/runtime/insertBySelector.js?\n}')},7825:module=>{"use strict";eval('{\r\n\r\n/* istanbul ignore next  */\r\nfunction apply(styleElement, options, obj) {\r\n  var css = "";\r\n  if (obj.supports) {\r\n    css += "@supports (".concat(obj.supports, ") {");\r\n  }\r\n  if (obj.media) {\r\n    css += "@media ".concat(obj.media, " {");\r\n  }\r\n  var needLayer = typeof obj.layer !== "undefined";\r\n  if (needLayer) {\r\n    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");\r\n  }\r\n  css += obj.css;\r\n  if (needLayer) {\r\n    css += "}";\r\n  }\r\n  if (obj.media) {\r\n    css += "}";\r\n  }\r\n  if (obj.supports) {\r\n    css += "}";\r\n  }\r\n  var sourceMap = obj.sourceMap;\r\n  if (sourceMap && typeof btoa !== "undefined") {\r\n    css += "\\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");\r\n  }\r\n\r\n  // For old IE\r\n  /* istanbul ignore if  */\r\n  options.styleTagTransform(css, styleElement, options.options);\r\n}\r\nfunction removeStyleElement(styleElement) {\r\n  // istanbul ignore if\r\n  if (styleElement.parentNode === null) {\r\n    return false;\r\n  }\r\n  styleElement.parentNode.removeChild(styleElement);\r\n}\r\n\r\n/* istanbul ignore next  */\r\nfunction domAPI(options) {\r\n  if (typeof document === "undefined") {\r\n    return {\r\n      update: function update() {},\r\n      remove: function remove() {}\r\n    };\r\n  }\r\n  var styleElement = options.insertStyleElement(options);\r\n  return {\r\n    update: function update(obj) {\r\n      apply(styleElement, options, obj);\r\n    },\r\n    remove: function remove() {\r\n      removeStyleElement(styleElement);\r\n    }\r\n  };\r\n}\r\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://winbows11/./node_modules/style-loader/dist/runtime/styleDomAPI.js?\n}')},8035:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   b: () => (/* binding */ EventEmitter)\n/* harmony export */ });\nclass EventEmitter {\r\n    constructor() {\r\n        this.listeners = new Map();\r\n    }\r\n\r\n    on(eventName, handler) {\r\n        if (!this.listeners.has(eventName)) {\r\n            this.listeners.set(eventName, new Set());\r\n        }\r\n        this.listeners.get(eventName).add(handler);\r\n    }\r\n\r\n    off(eventName, handler) {\r\n        if (!this.listeners.has(eventName)) return;\r\n        this.listeners.get(eventName).delete(handler);\r\n    }\r\n\r\n    _emit(eventName, ...args) {\r\n        if (!this.listeners.has(eventName)) return;\r\n        for (const handler of this.listeners.get(eventName)) {\r\n            try {\r\n                handler(...args);\r\n            } catch (e) {\r\n                console.error(`Error in handler for ${eventName}:`, e);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/utils/eventEmitter.js?\n}")},8199:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ k)\n/* harmony export */ });\n/*!\r\n * winbows-devtool v1.2.0\r\n * Copyright (c) Siyu1017 2025\r\n * Github : Siyu1017/winbows-devtool\r\n */\r\nfunction e(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){return"number"==typeof e&&isFinite(e)}function o(e){if(n(e))return e;const o=(l=e?.valueOf,"function"==typeof l?e.valueOf():e);var l;return+(e=t(o)?o+"":o)}function l(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function a(e){let t=null;return function(...n){t||(t=setTimeout(()=>{t=null,e.apply(this,n)},16))}}const s="…",i="ƒ";function r(e){const n=d(e);return!!["map","set","file","blob"].includes(n)||(Array.isArray(e)?e.length>0:!!t(e)&&Object.keys(e).length>0)}function c(e){return"string"!=typeof e&&(e=String(e)),l(e)}function d(e){const t=typeof e;return null===e?"null":"string"===t?"string":"boolean"===t?"boolean":"number"===t?"number":"undefined"===t?"undefined":"symbol"===t?"symbol":"function"===t?"function":Array.isArray(e)?"array":"[object Object]"==={}.toString.call(e)?"object":"object"===t?{}.toString.call(e).slice(8,-1).toLowerCase():void 0}function u(e,t){return`<span class="obj-viewer-value-preview obj-viewer-value-${t}">${e}</span>`}function p(t,o=0){const l=new WeakSet;return function t(n,o){const a=d(n),r=0==o;let p="";if("object"==a){if(l.has(n))return"[Circular]";l.add(n)}if(o>2)return s;if("array"==a){const e=n.length;if(r){let l=n.slice(0,100).map(e=>t(e,o+1)).join(", ");e>100&&(l+=", "+s),p=u(`${e>1?`<span class="obj-viewer-value-desc">(${c(e)})</span>`:""} [${l}]`,"array")}else p=u(`Array(${c(e)})`,"array")}else if("object"==a)if(r){const e=Object.keys(n);let l=e.slice(0,5).map(e=>{const l=n[e];return`${a=e,`<span class="obj-viewer-key-preview obj-viewer-key">${c(a)}</span>`}: ${u(t(l,o+1),d(l))}`;// removed by dead control flow\n{ var a; }}).join(", ");e.length>5&&(l+=", "+s),p=u(`{${l}}`,"object")}else p=u(`{${s}}`,"object");else if("string"==a)p=u(`\'${c(n)}\'`,"string");else if("function"==a)if(r){const e=function(e){try{return Function.prototype.toString.call(e)}catch(e){}try{return e+""}catch(e){}}(n),t=n.constructor?.toString().toLowerCase()||"",o=!n.prototype&&!/^(?:async\\s+)?function/.test(e),l=t.includes("async"),a=t.includes("generator");(e||"").trim().startsWith("class")?p=u(`<span style="color: #ff8b1c;">class</span> ${c(n.prototype?.constructor?.name)}`,"function"):o?p=u((l?\'<span style="color: #ff8b1c;">async</span>\':"")+" () => {}","function"):(p+=l?\'<span style="color: #ff8b1c;">async</span>\':"",p+=`<span style="color: #ff8b1c;">${l?" ":""}${i}</span>`,p+=a?\'<span style="color: #ff8b1c;">*</span>\':"",p+=` ${n.name&&e.match(/function([\\s\\S]*?)\\(.*?\\)/)?.[1]?.replace("*","").trim()?c(n.name):""}()`,p=u(p,"function"))}else p=u(i,"function");else if(e(n)){const e=n.id,t=[...n.classList],o=(t.length>0?".":"")+t.join(".");p=u(`<span style="color: #659fff;">${c(n.tagName.toLowerCase())}</span><span style="color: #ff8f26;">${c(e?"#"+e:"")}</span><span style="color: #a6d2ff;">${c(o)}</span>`,"generic")}else if("map"==a)if(r){const e=[...n.keys()];let l=e.slice(0,5).map(e=>{const l=n.get(e);return`${u(`\'${c(e)}\'`,"string")} => ${t(l,o+1)}`}).join(", ");e.length>5&&(l+=", "+s),p=u(`<span class="obj-viewer-value-desc">Map(${c(n.size)})</span> {${l}}`,"map")}else p=u(`Map(${c(n.size)})`,"map");else if("set"==a)if(r){const e=[...n.keys()];let l=e.slice(0,5).map(e=>`${t(e,o+1)}`).join(", ");e.length>5&&(l+=", "+s),p=u(`<span class="obj-viewer-value-desc">Set(${c(n.size)})</span> {${l}}`,"set")}else p=u(`Set(${c(n.size)})`,"set");else p="error"==a?u("Error: "+c(n.message),"error"):["number","boolean","null","undefined","symbol","date","regexp"].includes(a)?u(c(n),a):u(c((h=a,String(h).charAt(0).toUpperCase()+String(h).slice(1))),a);var h;return p}(t,o=n(o)?o:0)}function h({key:e,value:t,preview:n,separator:o,nextFn:l,type:a,expandable:s}){const i=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),p=document.createTextNode((o||":")+" "),h=document.createElement("div");if(i.className="obj-viewer-item",r.className="obj-viewer-line",c.className="obj-viewer-next",d.className="obj-viewer-expand",i.appendChild(r),r.appendChild(d),r.setAttribute("data-expandable",1==s),i.appendChild(c),1==s){let e=!1;r.setAttribute("data-expand",e),r.addEventListener("click",()=>{e=!e,r.setAttribute("data-expand",e),c.innerHTML="",l(t,c)})}return e&&"string"==typeof e&&(u.className="obj-viewer-key",u.textContent=e,r.appendChild(u),r.appendChild(p)),h.className="obj-viewer-value "+(a?"obj-viewer-value-"+a:""),h.innerHTML=n,r.appendChild(h),{item:i,line:r,next:c,key:u,preview:h}}const g=Symbol("triggerEvent"),m=Symbol("listeners");class v{constructor(e,n={shallow:!1}){var o;this.options=t(n)?n:{shallow:!1},this.container=document.createElement("div"),this.overview=document.createElement("div"),this.overviewExpand=document.createElement("div"),this.overviewContent=document.createElement("div"),this.content=document.createElement("div"),this.container.className="obj-viewer-container",this.overview.className="obj-viewer-overview",this.overviewExpand.className="obj-viewer-expand",this.overviewContent.className="obj-viewer-overview-content",this.content.className="obj-viewer-content",this.container.appendChild(this.overview),this.container.appendChild(this.content),this.overview.appendChild(this.overviewExpand),this.overview.appendChild(this.overviewContent),o=this.overview,r(e)?o.setAttribute("data-expandable",!0):o.setAttribute("data-expandable",!1);var l=!1;if(r(e))return this.overviewContent.innerHTML=this.getPreview(e,this.options.shallow?1:0),this.container.addEventListener("click",e=>{e.cancelable&&e.preventDefault(),e.stopPropagation()}),this.overview.addEventListener("click",()=>{l=!l,this.overview.setAttribute("data-expand",l),this.content.innerHTML="",this.getLevel(e,this.content)}),this[g]=(e,t)=>{this[m][e]&&this[m][e].forEach(e=>{e(t)})},this[m]={},this;this.container.innerHTML=this.getPreview(e,this.options.shallow?1:0)}on(e,t){this[m][e]||(this[m][e]=[]),this[m][e].push(t)}getLevel(e,t,n={levels:[],type:"generic",start:0,parentVLevels:void 0}){const o=d(e);if("array"==o)return function(e,t,n){return function e(t,o,l=0,a=0){const i=t.length,c=a||0;if(i>100||l>1&&100==i){const a=l?l-1:~~(Math.log10(i-1)/2),u=Math.pow(100,a),g=i/u;for(let l=0;l<g;l++){let g=t.slice(l*u,(l+1)*u),m=[c+l*u,c+(l+1)*u-1];m[1]>i-1&&0==c&&(m[1]=i-1),m[0]==m[1]&&(g=g[0]);const{item:v}=h(m[0]==m[1]?{key:String(m[0]),value:g,preview:p(g),nextFn:n,type:d(g),expandable:r(g)}:{value:g,preview:`[${m[0]} ${s} ${m[1]}]`,nextFn:(t,n)=>{e(g,n,a,m[0])},type:"array",expandable:!0});o.appendChild(v)}}else for(let e=0;e<i;e++){const l=t[e],{item:a}=h({key:String(c?c+e:e),value:l,preview:p(l),nextFn:n,type:d(l),expandable:r(l)});o.appendChild(a)}}(e,t)}(e,t,this.getLevel.bind(this));if("object"==o){const n=Object.keys(e).sort(),o=Object.getOwnPropertyNames(e).filter(e=>!n.includes(e)).sort();n.forEach(n=>{const o=e[n],{item:l}=h({key:n,value:o,preview:p(o),nextFn:this.getLevel.bind(this),type:d(o),expandable:r(o)});t.appendChild(l)}),o.forEach(n=>{const o=e[n],{item:l,key:a}=h({key:n,value:o,preview:p(o),nextFn:this.getLevel.bind(this),type:d(o),expandable:r(o)});t.appendChild(l),a.style.opacity=".6"})}else if("map"==o)e.keys().forEach((n,o)=>{const l=e.get(n),{item:a}=h({key:String(o),value:{key:n,value:l},preview:`{\'${c(n)}\' => ${this.getPreview(l,1)}}`,nextFn:this.getLevel.bind(this),type:"styleless",expandable:!0});t.appendChild(a)});else if("set"==o)e.keys().forEach((e,n)=>{const{item:o}=h({key:String(n),value:{value:e},preview:this.getPreview(e,1),nextFn:this.getLevel.bind(this),type:"styleless",expandable:!0});t.appendChild(o)});else if("file"==o){["lastModified","lastModifiedDate","name","size","type","webkitRelativePath"].forEach(n=>{const o=e[n],{item:l}=h({key:n,value:o,preview:this.getPreview(o),nextFn:this.getLevel.bind(this),type:d(o),expandable:!1});t.appendChild(l)})}else if("blob"==o){["size","type"].forEach(n=>{const o=e[n],{item:l}=h({key:n,value:o,preview:this.getPreview(o),nextFn:this.getLevel.bind(this),type:d(o),expandable:!1});t.appendChild(l)})}}getPreview=p}v.utils={isJSON:function(e){let t="string"!=typeof e?JSON.stringify(e):e;try{t=JSON.parse(t)}catch(e){return!1}return"object"==typeof t&&null!==t},isObject:t,isElement:e,isFinite:isFinite,isNaN:isNaN,getType:d,getClassName:function(e){switch(typeof e){case"string":return"obj-viewer-value-string";case"number":return"obj-viewer-value-number";case"boolean":return"obj-viewer-value-symbol";case"object":return null===e?"obj-viewer-value-empty":(Array.isArray(e),"obj-viewer-value-generic");case"undefined":return"obj-viewer-value-empty";default:return"obj-viewer-value-generic"}},expandable:r,parseJSON:function(e){const n=new WeakSet;return function e(o){if(t(o)){if(n.has(o))return"[Circular]";n.add(o)}if("string"==typeof o)try{o=JSON.parse(o)}catch(e){return""}if(Array.isArray(o))return o.map(t=>e(t));if(t(o)){const t={};return Object.keys(o).forEach(n=>{t[n]=e(o[n])}),t}return o}(e)},getPreview:p};var f={logContainer:"log-module_logContainer__RTRoP",noSep:"log-module_noSep__kpXQI",pt0:"log-module_pt0__gmfNw",pt5:"log-module_pt5__0Nnes",logIndent:"log-module_logIndent__hkxtj",logLevelIndent:"log-module_logLevelIndent__fcg-q",logItem:"log-module_logItem__nEqRs",warn:"log-module_warn__XWTVJ",error:"log-module_error__bESfD",info:"log-module_info__GH1qz",logIconContainer:"log-module_logIconContainer__3AkON",logIcon:"log-module_logIcon__gF-Ax",logCountContainer:"log-module_logCountContainer__2csmc",logCount:"log-module_logCount__N-mMq",logContent:"log-module_logContent__emWWb",logPlaintext:"log-module_logPlaintext__BA4Xk",logStyled:"log-module_logStyled__ebxwy",logClear:"log-module_logClear__v-Zvg",collapsibleContainer:"log-module_collapsibleContainer__-Df9-",collapsibleSummaryContainer:"log-module_collapsibleSummaryContainer__88ugq",collapsibleSummaryIconContainer:"log-module_collapsibleSummaryIconContainer__SuhjM",collapsibleSummaryIcon:"log-module_collapsibleSummaryIcon__drjo9",collapsed:"log-module_collapsed__FjxOv",collapsibleSummary:"log-module_collapsibleSummary__xbyOi",collapsibleContentContainer:"log-module_collapsibleContentContainer__z-1W3",collapsibleContent:"log-module_collapsibleContent__sKUKu",tableContainer:"log-module_tableContainer__vh3ut",table:"log-module_table__LCElu",tableHeader:"log-module_tableHeader__wL3Wr",tableBody:"log-module_tableBody__uGV9y",tableHeaderCell:"log-module_tableHeaderCell__eBa-G",tableHeaderCellCaret:"log-module_tableHeaderCellCaret__aubAp",up:"log-module_up__AW6is",tableCell:"log-module_tableCell__5KzwY",tableRow:"log-module_tableRow__LYjh-"};const b=/(?:blob:.+?\\/[a-f0-9A-F\\-]+|https?:\\/\\/([a-zA-Z0-9\\-\\.]+|localhost)(:\\d+)?\\/[a-zA-Z0-9?&#=.%_\\-~/]*)/g,y=/([A-Z]:[\\\\/](?:[^<>:"|?*\\r\\n]+[\\\\/])*[^<>:"|?*\\r\\n]*)/g;function C(e){return"string"!=typeof e&&(e=String(e)),l(e)}function w(e,t){const n=function(e){const t=[...e],n=t.shift();let l=[];if("string"==typeof n){const e=n.length,a={type:"plaintext",value:[]};let s="",i=null;for(let l=0;l<e;l++){const r=n[l];if("%"==r&&l+1<e){const e=n[++l],r=null!=i?i.value:a.value;if(0==t.length||!"sdifoOcj".includes(e)){s+="%",s+="%"!=e?e:"";continue}s&&(r.push({type:"auto",value:s}),s="");const c=t.shift();switch(e){case"s":r.push({type:"string",value:String(c)});break;case"d":case"i":r.push({type:"number",value:parseInt(c)});break;case"f":r.push({type:"number",value:o(c)});break;case"o":r.push({type:"object",options:{shallow:!0},value:c});break;case"O":r.push({type:"object",value:c});break;case"c":i&&a.value.push(i),i={type:"styled",value:[],style:c};break;case"j":r.push({type:"object",value:v.utils.parseJSON(c)})}}else s+=r}s&&(i?i.value:a.value).push({type:"auto",value:s}),i&&a.value.push(i),l.push(a)}else t.unshift(n);for(;t.length>0;)l.push({type:"auto",value:t.shift()});return l}(t),l=n[0],a="plaintext"==l.type||"string"==typeof l.value;!function t(n,o,l=0){const s=0==l;for(const i in n){const r=n[i];let c=document.createElement("span");if(s&&"plaintext"==r.type&&0==i)c.className=f.logPlaintext,t(r.value,c,l+1);else if(s||"styled"!=r.type)if(v.utils.expandable(r.value))c=new v(r.value,{shallow:r.options?.shallow||!1}).container;else if(s){const t=v.utils.getType(r.value);a&&"string"==t&&"object"!=r.type?c.innerHTML=(e.childElementCount>0?" ":"")+C(r.value).replace(b,e=>`<a href="${e}" target="_blank">${e}</a>`).replace(y,e=>`<a href="javascript:void(0)" data-href="${e}">${e}</a>`):"string"==t?(console.log(v.utils.getPreview(r.value)),c.innerHTML=(e.childElementCount>0?" ":"")+v.utils.getPreview(r.value).replace(b,e=>`<a href="${e}" target="_blank">${e}</a>`).replace(y,e=>`<a href="javascript:void(0)" data-href="${e}">${e}</a>`)):(c.className=`obj-viewer-value-${t}`,c.innerHTML=(e.childElementCount>0?" ":"")+v.utils.getPreview(r.value))}else c.innerHTML=C(r.value).replace(b,e=>`<a href="${e}" target="_blank">${e}</a>`).replace(y,e=>`<a href="javascript:void(0)" data-href="${e}">${e}</a>`);else c.style.cssText=r.style,c.className=f.logStyled,t(r.value,c,l+1);o.appendChild(c)}}(n,e,0)}function _(e=!0){const t=[],n=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");function c(t){(e=1==t)?n.classList.add(f.collapsed):n.classList.remove(f.collapsed),u(e)}function d(){(e=1!=e)?n.classList.add(f.collapsed):n.classList.remove(f.collapsed),u(e)}function u(e){t.forEach(t=>t(e))}return n.className=f.collapsibleContainer,o.className=f.collapsibleSummaryContainer,l.className=f.collapsibleSummaryIconContainer,a.className=f.collapsibleSummaryIcon,s.className=f.collapsibleSummary,i.className=f.collapsibleContentContainer,r.className=f.collapsibleContent,n.appendChild(o),o.appendChild(l),l.appendChild(a),o.appendChild(s),n.appendChild(i),i.appendChild(r),o.addEventListener("click",d),c(e),{get isCollapsed(){return e},container:n,summary:s,content:r,setCollapsed:c,toggle:d,onChange:function(e){t.push(e)}}}const E=Symbol("listeners"),S=Symbol("emit");class x{constructor(e="log",t){this[E]={},this[S]=(e,t)=>{if(this[E][e])for(const n of this[E][e])n(t)},this.on=(e,t)=>{this[E][e]||(this[E][e]=[]),this[E][e].push(t)},this.type=e,this.args=t,this.noSep=["info","warn","error"].includes(this.type),this.count=1,this.groupStack=[],this.container=document.createElement("div"),this.logIndent=document.createElement("div"),this.logItem=document.createElement("div"),this.logIconContainer=document.createElement("div"),this.logIcon=document.createElement("div"),this.logContent=document.createElement("div"),this.container.className=f.logContainer,this.logIndent.className=f.logIndent,this.logItem.classList.add(f.logItem),this.logIconContainer.className=f.logIconContainer,this.logIcon.className=f.logIcon,this.logContent.className=f.logContent,"log"!=this.type&&this.logItem.classList.add(f[this.type]),this.noSep&&(this.container.classList.add(f.noSep),this.logIcon.classList.add(f[this.type])),this.container.appendChild(this.logIndent),this.container.appendChild(this.logItem),this.logItem.appendChild(this.logIconContainer),this.logIconContainer.appendChild(this.logIcon),this.logItem.appendChild(this.logContent),this.isSimple=!0;for(const e of this.args)v.utils.expandable(e)&&(this.isSimple=!1);switch(this.observer=new ResizeObserver(()=>{this.updateSize(),this[S]("resize")}),this.observer.observe(this.logContent),this.width=0,this.height=0,this.onChange=()=>{},this.updateSize=a(()=>{if(this.measureEl){const e=this.container.cloneNode(!0);this.measureEl.appendChild(e);const{width:t,height:n}=e.getBoundingClientRect();this.width!=t&&(this.width=t),this.height!=n&&(this.height=n),e.remove()}}),this.type){case"log":case"info":case"debug":w(this.logContent,t);break;case"warn":case"error":case"trace":{const{summary:e,content:n,container:o}=_();w(e,t);const l=document.createElement("div");(function(){var e;try{throw new Error("")}catch(t){e=t.stack||""}return(e=e.split("\\n").map(function(e){return e.trim()})).splice("Error"==e[0]?2:1)})().forEach(e=>{const t=document.createElement("div");t.innerHTML="string"==typeof e?C(e).replace(b,e=>`<a href="${e}" target="_blank">${e}</a>`).replace(y,e=>`<a href="javascript:void(0)" data-href="${e}">${e}</a>`):"",l.appendChild(t)}),n.appendChild(l),this.logContent.appendChild(o);break}case"clear":const e=document.createElement("div");e.className=f.logClear,e.textContent="Console was cleared.",this.logContent.appendChild(e);break;case"group":case"groupCollapsed":{const{summary:e,container:n,onChange:o,isCollapsed:l,setCollapsed:a}=_("group"!=this.type);w(e,t),e.style.fontWeight="bold",this.logContent.appendChild(n),this.onChange=o,this.isCollapsed=l,this.setCollapsed=a;break}case"table":!function(e,t){const n=t[0],o=v.utils.getType(t[0]);let l=[],a=new Set;if("array"==o)n.forEach((e,t)=>{let n={"(index)":t,...e};Object.keys(n).forEach(e=>a.add(e)),l.push(n)});else{if("object"!=o)return w(e,t);Object.entries(n).forEach(([e,t])=>{let n={"(index)":e,...t};Object.keys(n).forEach(e=>a.add(e)),l.push(n)})}let s=t[1];s&&Array.isArray(s)&&(a=a.intersection(new Set(["(index)",...s])));const i=document.createElement("div"),r=document.createElement("table"),c=document.createElement("colgroup"),d=document.createElement("thead"),u=document.createElement("tr"),p=document.createElement("tbody");i.className=f.tableContainer,r.className=f.table,c.className=f.tableColgroup,d.className=f.tableHeader,u.className=f.tableHeaderRow,p.className=f.tableBody,e.appendChild(i),i.appendChild(r),r.appendChild(c),r.appendChild(d),d.appendChild(u),r.appendChild(p),a.forEach((e,t)=>{const n=document.createElement("th");n.className=f.tableHeaderCell,n.textContent=e,u.appendChild(n)}),l.forEach((e,t)=>{const n=document.createElement("tr");n.className=f.tableRow,p.appendChild(n),a.forEach(o=>{const l=document.createElement("td");l.className=f.tableCell,"(index)"==o?l.textContent=t:Object.prototype.hasOwnProperty.call(e,o)?l.innerHTML=v.utils.getPreview(e[o],1):l.textContent="",n.appendChild(l)})}),w(e,[n]),(()=>{const e=Array.from(p.rows),t=d.rows[0].cells,n=document.createElement("span");n.className=f.tableHeaderCellCaret;for(const o of t){const t=o.cellIndex;let l=0;o.addEventListener("click",()=>{n.remove(),1==l?n.classList.add(f.up):n.classList.remove(f.up),o.appendChild(n),e.sort((e,n)=>{const o=e.cells[t].textContent,a=n.cells[t].textContent;return 0==l?o.localeCompare(a):a.localeCompare(o)}),p.append(...e),l=0==l?1:0})}})()}(this.logContent,t)}}equals(e){if(!e)return!1;if(["group","groupCollapsed","groupEnd"].includes(this.type))return!1;if(0==this.isSimple)return!1;if(this.type!=e.type)return!1;if(this.args.length!=e.args.length)return!1;if(this.text()!=e.text())return!1;for(let t=0;t<this.args.length;t++)if(v.utils.getType(this.args[t])!=v.utils.getType(e.args[t]))return!1;return!0}addCount(){this.logCount&&this.logCountContainer||(this.logCountContainer=document.createElement("div"),this.logCount=document.createElement("div"),this.logCountContainer.className=f.logCountContainer,this.logCount.className=f.logCount,this.logIconContainer.remove(),this.logItem.insertAdjacentElement("afterbegin",this.logCountContainer),this.logCountContainer.appendChild(this.logCount)),this.count++,this.logCount.textContent=this.count}setGroupStack(e){this.groupStack=Array.from(e);for(let e=0;e<this.groupStack.length;e++){const e=document.createElement("div");e.className=f.logLevelIndent,this.logIndent.appendChild(e)}}getGroupID(){return this.groupStack[this.groupStack.length-1]||"root"}setMeasureEl(e){this.measureEl=e,this.updateSize()}setLastLog(e){null==e||0==e.noSep&&1==this.noSep?this.container.classList.add(f.pt0):0==e.noSep&&0==this.noSep&&this.container.classList.add(f.pt5)}text(){return this.logContent.textContent||""}}var j="devtool-module_devtool__40Bsh",L="devtool-module_devtoolLogsArea__PZMBh",N="devtool-module_devtoolMeasurementArea__CDPbA",$="devtool-module_devtoolLogs__BDFhB";class k{constructor(){let e;this.devtool=document.createElement("div"),this.devtoolLogsArea=document.createElement("div"),this.devtoolMeasurementArea=document.createElement("div"),this.devtoolLogs=document.createElement("div"),this.devtool.className=j,this.devtoolLogsArea.className=L,this.devtoolMeasurementArea.className=N,this.devtoolLogs.className=$,this.devtool.appendChild(this.devtoolLogsArea),this.devtoolLogsArea.appendChild(this.devtoolMeasurementArea),this.devtoolLogsArea.appendChild(this.devtoolLogs);let t=[],n=[],o=new Set,l=new Map,s={};const i=new Map,r=new Map,c=a((e=800,n=800)=>{const l=this.devtool.clientHeight,a=this.devtool.scrollTop,s=Math.max(0,a-e),i=a+l+n;let r=0,c=-1,d=0,u=0,p=t.filter(e=>!o.has(e.getGroupID()));for(let e=0;e<p.length;e++){const t=r;r+=p[e].height,r>=s&&t<=i&&(-1==c&&(c=e,u=t),d=e)}const h=this.devtool.scrollHeight-this.devtool.clientHeight<this.scrollTop+1;this.devtoolLogsArea.style.height=r+"px",this.devtoolLogs.style.top=u+"px";const g=this.devtoolLogs,m=p.slice(c,d+1).map(e=>e.container);return h&&(this.devtool.scrollTop=99999999),function(e,t){const n=t,o=Array.from(e.children),l=new Map;for(let e=0;e<o.length;e++)l.set(o[e],e);const a=new Array(n.length);for(let e=0;e<n.length;e++){const t=l.has(n[e])?l.get(n[e]):-1;a[e]=t}const s=[],i=new Array(n.length);for(let e=0;e<n.length;e++){const t=a[e];if(-1===t)continue;let n=0,o=s.length;for(;n<o;){const e=n+o>>1;a[s[e]]<t?n=e+1:o=e}n>=s.length?s.push(e):s[n]=e,i[e]=n>0?s[n-1]:-1}let r=new Set(s),c=null;for(let t=n.length-1;t>=0;t--){const o=n[t];-1===a[t]?e.insertBefore(o,c):r.has(t)||e.insertBefore(o,c),c=o}for(const e of o)n.includes(e)||e.remove()}(g,m)}),d=a=>{if(1==a.equals(e))e.addCount();else{if(t.push(a),a.setLastLog(e),a.setMeasureEl(this.devtoolMeasurementArea),a.on("resize",c),a.setGroupStack(n),"group"==a.type||"groupCollapsed"==a.type){const e=function(e,t){var n="",o=(t=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length;for(let l=0;l<e;l++)n+=t.charAt(Math.floor(Math.random()*o));return n}(12),t={id:e,collapsed:"groupCollapsed"==a.type,update:n=>{t.collapsed=n;let a=n;return[e].concat(Array.from(l.get(e))).forEach(e=>{1==a||1==s[e].collapsed?(o.add(e),a=!0):o.delete(e)}),c()}};for(const t of n)l.get(t).add(e);n.push(e),l.set(e,new Set),s[e]=t,a.onChange(t.update);let i=!1;n.forEach(e=>{1==s[e].collapsed||1==i?(o.add(e),i=!0):o.delete(e)})}e=a}c()};let u=0,p=0;this.devtool.onscroll=()=>{const e=this.devtool.scrollTop,t=performance.now(),n=t-p;let o=100*(Math.abs(e-u)/n),l=0,a=0;n>500&&(o=800),o>2e3&&(o=2e3),o<100&&(o=100),e<u?(l=o,a=100):(l=100,a=o),u=e,p=t,c(l,a)},this.console={log:(...e)=>{0!=e.length&&d(new x("log",e))},info:(...e)=>{0!=e.length&&d(new x("info",e))},debug:(...e)=>{0!=e.length&&d(new x("debug",e))},warn:(...e)=>{0!=e.length&&d(new x("warn",e))},error:(...e)=>{0!=e.length&&d(new x("error",e))},group:(...e)=>{e[0]||(e[0]="console.group"),d(new x("group",e))},groupCollapsed:(...e)=>{e[0]||(e[0]="console.groupCollapsed"),d(new x("groupCollapsed",e))},groupEnd:()=>{n.pop(),e={type:"groupEnd"}},count:(e="default")=>{e=String(e);const t=(r.get(e)||0)+1;r.set(e,t),d(new x("log",[`${e}: ${t}`]))},countReset:(e="default")=>{if(e=String(e),!r.has(e))return d(new x("warn",[`Count for \'${e}\' does not exist`]));r.set(e,0)},time:(e="default")=>{if(e=String(e),i.has(e))return d(new x("warn",[`Timer \'${e}\' already exists`]));i.set(e,performance.now())},timeLog:(e="default",...t)=>{if(e=String(e),!i.has(e))return d(new x("warn",[`Timer \'${e}\' does not exist`]));const n=performance.now()-i.get(e);d(new x("log",[`${e}: ${n}ms`].concat(t)))},timeEnd:(e="default")=>{if(e=String(e),!i.has(e))return d(new x("warn",[`Timer \'${e}\' does not exist`]));const t=performance.now()-i.get(e);d(new x("log",[`${e}: ${t}ms`])),i.delete(e)},table:(...e)=>{e[0]&&d(new x("table",e))},trace:(...e)=>{e[0]||(e[0]="console.trace"),d(new x("trace",e))},assert:(e,...t)=>{e||d(new x("error",["Assertion failed:",...t]))},clear:()=>{t=[],e=null,n=[],o=new Set,l=new Map,s={},d(new x("clear",["Console was cleared"])),c()}}}}\r\n\n\n//# sourceURL=webpack://winbows11/./src/lib/external/winbows-devtool/dist/index.js?\n}')},8547:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GE: () => (/* binding */ loadingImage),\n/* harmony export */   KQ: () => (/* binding */ loadingText),\n/* harmony export */   Ss: () => (/* binding */ startLoadingTime),\n/* harmony export */   g4: () => (/* binding */ loadingContainer),\n/* harmony export */   vB: () => (/* binding */ loadingProgressBar),\n/* harmony export */   wy: () => (/* binding */ updateProgressId)\n/* harmony export */ });\n/* harmony import */ var _viewport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(877);\n\r\n\r\n// Loading\r\nconst startLoadingTime = Date.now();\r\nconst loadingContainer = document.createElement('div');\r\nconst loadingImage = document.createElement('div');\r\nconst loadingSpinner = window.modes.dev == true || window.needsUpdate == true ? document.createElement('div') : document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\nconst loadingTextContainer = document.createElement('div');\r\nconst loadingTextShadowTop = document.createElement('div');\r\nconst loadingTextShadowBottom = document.createElement('div');\r\nconst loadingTextStrip = document.createElement('div');\r\nconst loadingProgress = document.createElement('div');\r\nconst loadingProgressBar = document.createElement('div');\r\n\r\nloadingContainer.className = 'winbows-loading active';\r\nloadingImage.className = 'winbows-loading-image';\r\nloadingTextContainer.className = 'winbows-loading-text-container';\r\nloadingTextShadowTop.className = 'winbows-loading-text-shadow-top';\r\nloadingTextShadowBottom.className = 'winbows-loading-text-shadow-bottom';\r\nloadingTextStrip.className = 'winbows-loading-text-strip';\r\nloadingContainer.appendChild(loadingImage);\r\n_viewport_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"] */ .A.root.appendChild(loadingContainer);\r\n\r\nfunction loadingText(content) {\r\n    const loadingText = document.createElement('div');\r\n    loadingText.textContent = content;\r\n    loadingText.className = 'winbows-loading-text';\r\n    loadingTextStrip.appendChild(loadingText);\r\n    loadingTextStrip.scrollTo({\r\n        top: loadingTextStrip.scrollHeight,\r\n        behavior: \"smooth\"\r\n    })\r\n    return loadingText;\r\n}\r\n\r\nif (window.modes.dev == false && window.needsUpdate == false) {\r\n    loadingSpinner.setAttribute('class', 'winbows-loading-spinner');\r\n    loadingSpinner.setAttribute('width', 48);\r\n    loadingSpinner.setAttribute('height', 48);\r\n    loadingSpinner.setAttribute('viewBox', \"0 0 16 16\");\r\n    loadingSpinner.innerHTML = '<circle cx=\"8px\" cy=\"8px\" r=\"7px\"></circle>';\r\n    loadingContainer.appendChild(loadingSpinner);\r\n} else {\r\n    loadingProgress.classList.add('winbows-loading-progress');\r\n    loadingProgressBar.classList.add('winbows-loading-progress-bar');\r\n    loadingContainer.appendChild(loadingTextContainer);\r\n    loadingTextContainer.appendChild(loadingTextShadowTop);\r\n    loadingTextContainer.appendChild(loadingTextShadowBottom);\r\n    loadingTextContainer.appendChild(loadingTextStrip);\r\n    loadingContainer.appendChild(loadingProgress);\r\n    loadingProgress.appendChild(loadingProgressBar);\r\n}\r\n\r\nloadingText('Starting Winbows11...');\r\n\r\nlet progress = 0;\r\nconst updateProgressId = setInterval(function () {\r\n    progress += Math.random() * 1 + 0.2;\r\n    if (progress > 90) progress = 90;\r\n    loadingProgressBar.style.width = progress + '%';\r\n}, 200);\r\n\r\n\n\n//# sourceURL=webpack://winbows11/./src/kernel/loading.js?\n}")},8596:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval('{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _storage_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(581);\n/* harmony import */ var _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5392);\n/* harmony import */ var _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6450);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__, _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__]);\n([_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__, _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\nconst { fs } = _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__/* .apis */ .O;\r\n\r\nconst storage = document.createElement(\'div\');\r\nconst root = document.createElement(\'div\');\r\nconst overview = document.createElement(\'div\');\r\nconst overviewIcon = document.createElement(\'div\');\r\nconst overviewText = document.createElement(\'div\');\r\nconst content = document.createElement(\'div\');\r\n\r\nstorage.className = \'devtool-storage\'\r\nroot.className = \'devtool-storage-item\';\r\noverview.className = \'devtool-storage-item-overview\';\r\noverviewIcon.className = \'devtool-storage-item-overview-icon\';\r\noverviewText.className = \'devtool-storage-item-overview-text\';\r\ncontent.className = \'devtool-storage-item-content\';\r\n\r\noverviewIcon.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hard-drive-icon lucide-hard-drive"><line x1="22" x2="2" y1="12" y2="12"/><path d="M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"/><line x1="6" x2="6.01" y1="16" y2="16"/><line x1="10" x2="10.01" y1="16" y2="16"/></svg>`\r\noverviewText.textContent = \'C:/\';\r\n\r\nstorage.appendChild(root);\r\nroot.appendChild(overview);\r\noverview.appendChild(overviewIcon);\r\noverview.appendChild(overviewText);\r\nroot.appendChild(content);\r\n\r\nasync function getContent(dir, parent) {\r\n    const items = await fs.readdir(dir)\r\n    const stats = [];\r\n\r\n    if (items.length == 0) {\r\n        const itemEl = document.createElement(\'div\');\r\n        const overview = document.createElement(\'div\');\r\n\r\n        itemEl.className = \'devtool-storage-item\';\r\n        overview.className = \'devtool-storage-item-overview empty\';\r\n        overview.textContent = \'This folder is empty.\';\r\n\r\n        itemEl.appendChild(overview);\r\n        return parent.appendChild(itemEl);\r\n    }\r\n\r\n    for (const item of items) {\r\n        stats.push({\r\n            name: _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__/* .fsUtils */ .P.basename(item),\r\n            path: item,\r\n            ...await fs.stat(item)\r\n        })\r\n    }\r\n\r\n    stats.sort((a, b) => {\r\n        if (a.type != b.type) {\r\n            return a.type == \'directory\' ? -1 : 1;\r\n        }\r\n\r\n        return a.name.localeCompare(b.name);\r\n    });\r\n\r\n    for (const stat of stats) {\r\n        const itemEl = document.createElement(\'div\');\r\n        const overview = document.createElement(\'div\');\r\n        const overviewIcon = document.createElement(\'div\');\r\n        const overviewText = document.createElement(\'div\');\r\n        const content = document.createElement(\'div\');\r\n\r\n        itemEl.className = \'devtool-storage-item\';\r\n        overview.className = \'devtool-storage-item-overview\';\r\n        overviewIcon.className = \'devtool-storage-item-overview-icon\';\r\n        overviewText.className = \'devtool-storage-item-overview-text\';\r\n        content.className = \'devtool-storage-item-content\';\r\n\r\n        if (stat.type == \'directory\') {\r\n            let append = false;\r\n            overview.addEventListener(\'click\', () => {\r\n                if (append == true) {\r\n                    content.innerHTML = \'\';\r\n                    append = false;\r\n                    return;\r\n                }\r\n                append = true;\r\n                getContent(stat.path, content);\r\n            })\r\n            overviewIcon.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder-icon lucide-folder"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>`;\r\n        } else {\r\n            const date = new Date(stat.lastModifiedTime);\r\n            let dateString = \'\';\r\n            if (isNaN(date)) {\r\n                dateString = \'Invalid date\';\r\n            } else {\r\n                const day = date.format("yyyy/MM/dd");\r\n                const time = (date.format("hh") < 13 ? date.format("hh:mm") : new Date(date.getTime() - 12 * 1000 * 60 * 60).format("hh:mm")) + (date.format("hh") < 12 ? \' AM\' : \' PM\');\r\n                dateString = day + \' \' + time;\r\n            }\r\n            overview.setAttribute(\'data-tooltip\', `Length: ${stat.length}\\nLast modified: ${dateString}`)\r\n            overviewIcon.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-icon lucide-file"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>`;\r\n        }\r\n        overviewText.textContent = stat.name;\r\n\r\n        itemEl.appendChild(overview);\r\n        overview.appendChild(overviewIcon);\r\n        overview.appendChild(overviewText);\r\n        itemEl.appendChild(content);\r\n        parent.appendChild(itemEl);\r\n    }\r\n}\r\n\r\nlet append = false;\r\noverview.addEventListener(\'click\', () => {\r\n    if (append == true) {\r\n        content.innerHTML = \'\';\r\n        append = false;\r\n        return;\r\n    }\r\n    append = true;\r\n    getContent(\'C:/\', content);\r\n})\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (storage);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/devtool/storage.js?\n}')},8620:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NM: () => (/* binding */ taskbar),\n/* harmony export */   on: () => (/* binding */ on),\n/* harmony export */   r9: () => (/* binding */ taskbarIcons)\n/* harmony export */ });\n/* unused harmony exports taskbarControls, off */\n/* harmony import */ var _WRT_utils_eventEmitter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8035);\n/* harmony import */ var _ui_winui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3477);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(248);\n/* harmony import */ var _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5392);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__]);\n_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n\r\n\r\n\r\nconst { ShellInstance, process } = _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__/* .apis */ .O;\r\nconst eventEmitter = new _WRT_utils_eventEmitter_js__WEBPACK_IMPORTED_MODULE_2__/* .EventEmitter */ .b();\r\n\r\nfunction on(...args) {\r\n    return eventEmitter.on.call(eventEmitter, ...args);\r\n}\r\n\r\nfunction off(...args) {\r\n    return eventEmitter.off.call(eventEmitter, ...args);\r\n}\r\n\r\nconst taskbar = document.createElement('div');\r\nconst taskbarIcons = document.createElement('div');\r\nconst taskbarControls = document.createElement('div');\r\n\r\nconst taskbarMenu = _ui_winui_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"] */ .A.contextMenu([\r\n    {\r\n        className: \"taskmgr\",\r\n        icon: \"diagnostic\",\r\n        text: \"Task Manager\",\r\n        action: () => {\r\n            new ShellInstance(process).execCommand('taskmgr').then(res => {\r\n                console.log(res);\r\n            }).catch(e => {\r\n                console.error(e);\r\n            })\r\n        }\r\n    }, {\r\n        type: \"separator\"\r\n    }, {\r\n        className: \"settings\",\r\n        icon: \"settings\",\r\n        text: \"Taskbar Settings\",\r\n        action: () => {\r\n            new ShellInstance(process).execCommand('start settings://personalization/taskbar').then(res => {\r\n                console.log(res);\r\n            }).catch(e => {\r\n                console.error(e);\r\n            })\r\n        },\r\n    },\r\n])\r\n\r\ntaskbar.className = 'taskbar';\r\ntaskbarIcons.className = 'taskbar-group icons';\r\ntaskbarControls.className = 'taskbar-group controls';\r\n\r\n\r\n[\"mousedown\", \"touchstart\", \"pointerdown\"].forEach(event => {\r\n    window.addEventListener(event, (e) => {\r\n        eventEmitter._emit('pointerdown', e);\r\n    })\r\n})\r\n\r\ntaskbar.appendChild(taskbarIcons);\r\ntaskbar.appendChild(taskbarControls);\r\n\r\ntaskbar.addEventListener('contextmenu', (e) => {\r\n    e.preventDefault();\r\n    if (e.type.startsWith('touch')) {\r\n        var touch = e.touches[0] || e.changedTouches[0];\r\n        e.pageX = touch.pageX;\r\n        e.pageY = touch.pageY;\r\n    }\r\n    taskbarMenu.container.style.setProperty('--contextmenu-bg', 'var(--winbows-taskbar-bg)');\r\n    taskbarMenu.container.style.setProperty('--contextmenu-backdrop-filter', 'saturate(3) blur(20px)');\r\n    taskbarMenu.open(e.pageX, taskbar.offsetHeight + 4, 'left-bottom');\r\n    if (_utils_js__WEBPACK_IMPORTED_MODULE_3__/* .getPosition */ .E9(taskbarMenu.container).x + taskbarMenu.container.offsetWidth > window.innerWidth) {\r\n        taskbarMenu.container.style.left = 'unset';\r\n        taskbarMenu.container.style.right = '4px';\r\n    }\r\n})\r\n\r\n// Taskbar menu\r\non('pointerdown', (e) => {\r\n    if (!taskbarMenu.container.contains(e.target)) {\r\n        taskbarMenu.close();\r\n        taskbarMenu.container.style.right = 'unset';\r\n    }\r\n})\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n//# sourceURL=webpack://winbows11/./src/kernel/taskbar/taskbar.js?\n}")},9188:(module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1601);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6314);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.devtool-storage {\r\n    height: 100%;\r\n    width: 100%;\r\n    padding: .5rem .5rem 1rem;\r\n    overflow: auto;\r\n}\r\n\r\n.devtool-storage-item {}\r\n\r\n.devtool-storage-item-overview {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: .375rem;\r\n    padding: .25rem .5rem;\r\n}\r\n\r\n.devtool-storage-item-overview:not(.empty):hover {\r\n    background: rgba(255, 255, 255, .1);\r\n    border-radius: .375rem;\r\n}\r\n\r\n.devtool-storage-item-overview.empty {\r\n    color: #6e6e6e;\r\n}\r\n\r\n.devtool-storage-item-overview-icon {\r\n    width: 1rem;\r\n    height: 1rem;\r\n    color: #9198a1;\r\n}\r\n\r\n.devtool-storage-item-overview-icon svg {\r\n    width: inherit;\r\n    height: inherit;\r\n}\r\n\r\n.devtool-storage-item-content {\r\n    padding-left: 1.25rem;\r\n    position: relative;\r\n}\r\n\r\n.devtool-storage-item-content::before {\r\n    content: '';\r\n    position: absolute;\r\n    left: 1rem;\r\n    height: 100%;\r\n    width: 1px;\r\n    border-left: 1px solid #6e6e6e;\r\n}\r\n\r\n.devtool-storage-item-overview[data-tooltip] {\r\n    position: relative;\r\n}\r\n\r\n.devtool-storage-item-overview[data-tooltip]:hover:after {\r\n    opacity: 1;\r\n    visibility: visible;\r\n    -webkit-transform: translate(0%, -8px);\r\n    transform: translate(0%, -8px);\r\n}\r\n\r\n.devtool-storage-item-overview[data-tooltip]:after {\r\n    position: absolute;\r\n    content: attr(data-tooltip);\r\n    background: rgb(255, 255, 255);\r\n    padding: .375rem .625rem;\r\n    text-align: left;\r\n    color: rgb(24, 24, 24);\r\n    font-size: 12px;\r\n    line-height: 1.1;\r\n    white-space: pre-wrap;\r\n    border-radius: .5rem;\r\n    -webkit-transform: translate(0%, -8px);\r\n    transform: translate(0%, -8px);\r\n    display: flex;\r\n    align-items: center;\r\n    pointer-events: none;\r\n    box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, .1);\r\n    transform-origin: bottom center;\r\n    top: auto;\r\n    bottom: 100%;\r\n    left: 0%;\r\n    z-index: 5;\r\n    opacity: 0;\r\n    visibility: hidden;\r\n    -webkit-transition: 0.1s ease-in;\r\n    transition: 0.1s ease-in;\r\n}`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://winbows11/./src/kernel/devtool/storage.css?./node_modules/css-loader/dist/cjs.js\n}")},9191:module=>{"use strict";eval('{module.exports = "data:image/svg+xml;charset=utf-8,%3Csvg width=%2714%27 height=%2714%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27m7 9.45 3.85-5.6h-7.7%27 fill=%27%23000%27/%3E%3C/svg%3E";\n\n//# sourceURL=webpack://winbows11/data:image/svg+xml;charset=utf-8,%253Csvg_width=%252714%2527_height=%252714%2527_fill=%2527none%2527_xmlns=%2527http://www.w3.org/2000/svg%2527%253E%253Cpath_d=%2527m7_9.45_3.85-5.6h-7.7%2527_fill=%2527%2523000%2527/%253E%253C/svg%253E?\n}')},9304:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   d: () => (/* binding */ screenLockContainer),\n/* harmony export */   n: () => (/* binding */ setInitFn)\n/* harmony export */ });\n/* harmony import */ var _viewport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(877);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(248);\n/* harmony import */ var _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5392);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__]);\n_kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\r\n\r\n\r\n\r\nconst { fs } = _kernelRuntime_js__WEBPACK_IMPORTED_MODULE_1__/* .apis */ .O;\r\nconst screenLockContainer = document.createElement('div');\r\nconst screenLock = document.createElement('div');\r\nconst screenLockBackground = document.createElement('div');\r\nconst screenLockMain = document.createElement('div');\r\nconst screenLockSignin = document.createElement('div');\r\n\r\nscreenLockContainer.className = 'screen-lock-container active';\r\nscreenLock.className = 'screen-lock';\r\nscreenLockBackground.className = 'screen-lock-background';\r\nscreenLockMain.className = 'screen-lock-main';\r\nscreenLockSignin.className = 'screen-lock-signin';\r\n\r\nscreenLockContainer.appendChild(screenLock);\r\nscreenLock.appendChild(screenLockBackground);\r\nscreenLock.appendChild(screenLockMain);\r\nscreenLock.appendChild(screenLockSignin);\r\n\r\n// Clock on lock panel\r\nconst screenLockTime = document.createElement('div');\r\nconst screenLockDate = document.createElement('div');\r\n\r\nscreenLockTime.className = 'screen-lock-time';\r\nscreenLockDate.className = 'screen-lock-date';\r\n\r\nscreenLockMain.appendChild(screenLockTime);\r\nscreenLockMain.appendChild(screenLockDate);\r\n\r\n// Signin panel\r\nconst screenLockSigninAvatar = document.createElement('div');\r\nconst screenLockSigninUsername = document.createElement('div');\r\nconst screenLockSigninButton = document.createElement('button');\r\n\r\nscreenLockSigninAvatar.className = 'screen-lock-signin-avatar';\r\nscreenLockSigninUsername.className = 'screen-lock-signin-username';\r\nscreenLockSigninButton.className = 'screen-lock-signin-button';\r\n\r\nscreenLockSignin.appendChild(screenLockSigninAvatar);\r\nscreenLockSignin.appendChild(screenLockSigninUsername);\r\nscreenLockSignin.appendChild(screenLockSigninButton);\r\n\r\nscreenLockSigninUsername.innerHTML = _utils_js__WEBPACK_IMPORTED_MODULE_2__/* .replaceHTMLTags */ .Tm('Admin');\r\nscreenLockSigninButton.innerHTML = _utils_js__WEBPACK_IMPORTED_MODULE_2__/* .replaceHTMLTags */ .Tm('Sign In');\r\n\r\n// Loading images\r\ntry {\r\n    fs.getFileURL('C:/Winbows/icons/user.png').then(url => {\r\n        screenLockSigninAvatar.style.backgroundImage = `url(${url})`;\r\n    })\r\n    await fs.getFileURL('C:/Winbows/bg/img100.jpg').then(url => {\r\n        if (!url) {\r\n            screenLockBackground.style.backgroundImage = 'linear-gradient(to right, #000)';\r\n        } else {\r\n            screenLockBackground.style.backgroundImage = `url(${url})`;\r\n        }\r\n    }).catch(err => {\r\n        screenLockBackground.style.backgroundImage = 'linear-gradient(to right, #000)';\r\n        console.error(err);\r\n    })\r\n} catch (e) {\r\n    console.error('Error loading image:', e);\r\n}\r\n\r\nlet init = true;\r\nconst now = new Date();\r\nconst leftToUpdateTime = (60 - now.getSeconds()) * 1000;\r\nconst leftToUpdateDate = (((24 - now.getHours()) * 60 * 60) - (now.getMinutes() * 60) - now.getSeconds()) * 1000;\r\n\r\nscreenLockTime.innerHTML = now.format(\"hh\") < 13 ? now.format(\"hh:mm\") : new Date(now.getTime() - 12 * 1000 * 60 * 60).format(\"hh:mm\");\r\nscreenLockDate.innerHTML = now.toLocaleDateString(void 0, {\r\n    weekday: \"long\",\r\n    month: \"long\",\r\n    day: \"numeric\"\r\n})\r\n\r\nfunction updateTime() {\r\n    const now = new Date();\r\n    const leftToUpdateTime = (60 - now.getSeconds()) * 1000;\r\n    screenLockTime.innerHTML = now.format(\"hh\") < 13 ? now.format(\"hh:mm\") : new Date(now.getTime() - 12 * 1000 * 60 * 60).format(\"hh:mm\");\r\n    setTimeout(updateTime, leftToUpdateTime);\r\n}\r\n\r\nfunction updateDate() {\r\n    const now = new Date();\r\n    const leftToUpdateDate = (((24 - now.getHours()) * 60 * 60) - ((60 - now.getMinutes()) * 60) - now.getSeconds()) * 1000;\r\n    screenLockDate.innerHTML = now.toLocaleDateString(void 0, {\r\n        weekday: \"long\",\r\n        month: \"long\",\r\n        day: \"numeric\"\r\n    })\r\n    setTimeout(updateDate, leftToUpdateDate);\r\n}\r\n\r\nif (window.modes.debug == true) {\r\n    console.log('Next update of time :', new Date(Date.now() + leftToUpdateTime))\r\n    console.log('Next update of date :', new Date(Date.now() + leftToUpdateDate))\r\n}\r\n\r\nsetTimeout(updateTime, leftToUpdateTime);\r\nsetTimeout(updateDate, leftToUpdateDate);\r\n\r\nscreenLockMain.addEventListener('click', () => {\r\n    screenLock.classList.add('signin');\r\n})\r\n\r\nlet initFn = () => { };\r\nscreenLockSigninButton.addEventListener('click', () => {\r\n    screenLockContainer.classList.remove('active');\r\n    screenLock.classList.remove('signin');\r\n    if (init == true) {\r\n        // initTaskbar();\r\n        init = false;\r\n        initFn();\r\n        /*\r\n        kernelRuntime.runCode('await(()=>{return new Promise(_=>{})})();', {\r\n            __filename: 'C:/Winbows/System/kernel/kernel.js',\r\n            __dirname: 'C:/Winbows/System/kernel/'\r\n        })\r\n        kernelRuntime.process.title = 'System';\r\n\r\n        var command = getJsonFromURL()['command'];\r\n        if (command) {\r\n            ShellInstance.execCommand(command);\r\n        }*/\r\n    }\r\n})\r\n\r\nfunction setInitFn(fn) {\r\n    initFn = fn;\r\n}\r\n\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://winbows11/./src/kernel/lockScreen.js?\n}")},9306:(__webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   kz: () => (/* binding */ register)\n/* harmony export */ });\n/* unused harmony exports maxZIndex, createBrowserWindow */\n/* harmony import */ var _ui_winui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3477);\n/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2810);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(248);\n/* harmony import */ var _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6450);\n/* harmony import */ var _utils_eventEmitter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(8035);\n/* harmony import */ var _viewport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(877);\n/* harmony import */ var _appRegistry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1123);\n/* harmony import */ var _system_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3618);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_kernel_js__WEBPACK_IMPORTED_MODULE_1__, _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_4__, _system_js__WEBPACK_IMPORTED_MODULE_5__]);\n([_kernel_js__WEBPACK_IMPORTED_MODULE_1__, _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__, _appRegistry_js__WEBPACK_IMPORTED_MODULE_4__, _system_js__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst fs = (0,_lib_fs_js__WEBPACK_IMPORTED_MODULE_2__/* .IDBFS */ .J)(\"~WRT\");\r\nconst { appWrapper, screenElement } = _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A;\r\n\r\nlet browserWindowPosition = {};\r\nlet maxZIndex = 0;\r\n\r\nconst snapPreview = document.createElement('div');\r\nsnapPreview.className = 'browser-window-snap-preview';\r\nappWrapper.appendChild(snapPreview);\r\n\r\nfunction cubicBezier(p1x, p1y, p2x, p2y) {\r\n    return function (t) {\r\n        const cx = 3 * p1x;\r\n        const bx = 3 * (p2x - p1x) - cx;\r\n        const ax = 1 - cx - bx;\r\n\r\n        const cy = 3 * p1y;\r\n        const by = 3 * (p2y - p1y) - cy;\r\n        const ay = 1 - cy - by;\r\n\r\n        const x = ((ax * t + bx) * t + cx) * t;\r\n        const y = ((ay * t + by) * t + cy) * t;\r\n\r\n        return y;\r\n    };\r\n}\r\n\r\nfunction getMaxZIndex() {\r\n    return String(0);\r\n}\r\n\r\nconst events = {\r\n    \"start\": [\"mousedown\", \"touchstart\", \"pointerdown\"],\r\n    \"move\": [\"mousemove\", \"touchmove\", \"pointermove\"],\r\n    \"end\": [\"mouseup\", \"touchend\", \"pointerup\", \"blur\"]\r\n}\r\nconst animateProfiles = {\r\n    'window-show': {\r\n        func: cubicBezier(.04, .73, .16, 1),\r\n        duration: 150\r\n    },\r\n    'window-hide': {\r\n        func: cubicBezier(.77, -0.02, .98, .59),\r\n        duration: 150\r\n    },\r\n    'window-open': {\r\n        func: cubicBezier(.42, 0, .58, 1),\r\n        duration: 100\r\n    },\r\n    'window-close': {\r\n        func: cubicBezier(.42, 0, .58, 1),\r\n        duration: 100\r\n    }\r\n};\r\nconst icons = {\r\n    close: await fs.getFileURL('C:/Winbows/icons/controls/close.png'),\r\n    minimize: await fs.getFileURL('C:/Winbows/icons/controls/minimize.png'),\r\n    maxmin: await fs.getFileURL('C:/Winbows/icons/controls/maxmin.png'),\r\n    maximize: await fs.getFileURL('C:/Winbows/icons/controls/maximize.png')\r\n}\r\nconst defaultStyle = await fs.getFileURL('C:/Winbows/System/styles/app.css');\r\nconst resizerConfig = {\r\n    'browser-window-resizer-top': 'vertical',\r\n    'browser-window-resizer-bottom': 'vertical',\r\n    'browser-window-resizer-left': 'horizontal',\r\n    'browser-window-resizer-right': 'horizontal',\r\n    'browser-window-resizer-right-top': 'both',\r\n    'browser-window-resizer-right-bottom': 'both',\r\n    'browser-window-resizer-left-bottom': 'both',\r\n    'browser-window-resizer-left-top': 'both'\r\n}\r\n\r\nfunction decompose2DMatrix(matrixStr) {\r\n    const match = matrixStr.match(/matrix\\(([^)]+)\\)/);\r\n    if (!match) throw new Error(\"Not a valid 2D matrix\");\r\n\r\n    const [a, b, c, d, e, f] = match[1].split(',').map(parseFloat);\r\n\r\n    const scaleX = Math.sqrt(a * a + b * b);\r\n    const scaleY = Math.sqrt(c * c + d * d);\r\n\r\n    const rotation = Math.atan2(b, a) * (180 / Math.PI);\r\n\r\n    const skewX = Math.atan2(a * c + b * d, scaleX * scaleX) * (180 / Math.PI);\r\n\r\n    return {\r\n        translateX: e,\r\n        translateY: f,\r\n        scaleX,\r\n        scaleY,\r\n        rotation,\r\n        skewX\r\n    };\r\n}\r\n\r\nasync function register(path, ctx) {\r\n    const app = {\r\n        _cbs: {},\r\n        on: (evt, cb) => {\r\n            if (!app._cbs[evt]) app._cbs[evt] = [];\r\n            app._cbs[evt].push(cb);\r\n        },\r\n        executeAsync: async () => {\r\n            app._cbs['ready']?.forEach((cb) => cb())\r\n            return new Promise((rs, rj) => {\r\n                //browserWindow.setPromise(rs, rj);\r\n            });\r\n        }\r\n    }\r\n\r\n    function BrowserWindow(config) {\r\n        const browserWindowObj = createBrowserWindow(config);\r\n        const wrt = new _kernel_js__WEBPACK_IMPORTED_MODULE_1__/* .WRT */ .U(_kernel_js__WEBPACK_IMPORTED_MODULE_1__/* .WRT */ .U.defaultCwd, {\r\n            keepAlive: true,\r\n            subProcess: true\r\n        })\r\n\r\n        async function load(path) {\r\n            const filePath = _lib_fs_js__WEBPACK_IMPORTED_MODULE_2__/* .fsUtils */ .P.resolve(ctx.__dirname, path);\r\n            let code = await fs.getFileAsText(filePath);\r\n            code = `const {document,browserWindow}=this;\\n${code}`;\r\n            browserWindowObj.on('close', () => {\r\n                wrt.close();\r\n            })\r\n            wrt.runCode(code, {\r\n                __filename: filePath,\r\n                // Proxy document\r\n                document: new Proxy(document, {\r\n                    get: (target, prop) => {\r\n                        switch (prop) {\r\n                            case 'damn':\r\n                                return 'Damn!';\r\n                            case 'head':\r\n                                return browserWindowObj.shadowRoot;\r\n                            case 'documentElement':\r\n                                return browserWindowObj.window;\r\n                            case 'body':\r\n                                return browserWindowObj.content;\r\n                            case 'write':\r\n                                return () => {\r\n                                    console.error('Missing permissions to access %cdocument.write', 'background: rgb(30,30,30);color:#ededed;border-radius:8px;padding:6px 8px;')\r\n                                };\r\n                            case 'addEventListener':\r\n                                return (event, callback) => { browserWindowObj.shadowRoot.addEventListener(event, callback) };\r\n                            case 'removeEventListener':\r\n                                return (event, callback) => { browserWindowObj.shadowRoot.removeEventListener(event, callback) };\r\n                            case 'querySelector':\r\n                                return (selector) => { return browserWindowObj.shadowRoot.querySelector(selector) };\r\n                            case 'querySelectorAll':\r\n                                return (selector) => { return browserWindowObj.shadowRoot.querySelectorAll(selector) };\r\n                            default:\r\n                                if (target[prop]) {\r\n                                    const value = Reflect.get(target, prop);\r\n                                    return typeof value === 'function' ? value.bind(document) : value;\r\n                                } else {\r\n                                    return undefined;\r\n                                }\r\n                        }\r\n                    }\r\n                }),\r\n                // browserWindow\r\n                browserWindow: browserWindowObj\r\n            });\r\n        }\r\n\r\n        return { load };\r\n    }\r\n    BrowserWindow.prototype._ = '';\r\n\r\n    return { app, BrowserWindow };\r\n}\r\n\r\nfunction createBrowserWindow(config = {\r\n    resizable: true,\r\n    minimizable: true,\r\n    maximizable: true,\r\n    closable: true,\r\n    snappable: true,\r\n    fullscreenable: true,\r\n    mica: false,\r\n    showOnTop: false,\r\n    theme: 'light',\r\n    width: 800,\r\n    height: 600,\r\n    icon: '',\r\n    title: 'App',\r\n}) {\r\n    const eventEmitter = new _utils_eventEmitter_js__WEBPACK_IMPORTED_MODULE_6__/* .EventEmitter */ .b();\r\n\r\n    // Status\r\n    let isMaximized = false;\r\n    let isMinimized = false;\r\n    let originalSnapSide = '';\r\n    let pointerMoved = false;\r\n    let showSnapPreview = false;\r\n    let snapMargin = 12;\r\n    let pointerDown = false;\r\n    let pointerPosition = [];\r\n    let originalPosition = {};\r\n    let immovableElements = [];\r\n    let snapSide = '';\r\n\r\n    // Elements\r\n    const container = document.createElement('div');\r\n    const micaElement = document.createElement('div');\r\n    const windowElement = document.createElement('div');\r\n    const resizerContainer = document.createElement('div');\r\n    const windowContent = document.createElement('div');\r\n    const shadowRoot = windowContent.attachShadow({ mode: 'open' });\r\n\r\n    // Toolbar\r\n    const toolbarInfo = document.createElement('div');\r\n    const toolbarIcon = document.createElement('div');\r\n    const toolbarTitle = document.createElement('div');\r\n    const toolbarButtons = document.createElement('div');\r\n    const minimizeButton = document.createElement('div');\r\n    const minimizeImage = document.createElement('div');\r\n    const maximizeButton = document.createElement('div');\r\n    const maximizeImage = document.createElement('div');\r\n    const closeButton = document.createElement('div');\r\n    const closeImage = document.createElement('div');\r\n\r\n    // Browser Window\r\n    const browserWindow = {\r\n        window: document.createElement('div'),\r\n        toolbar: document.createElement('div'),\r\n        content: document.createElement('div')\r\n    }\r\n    const taskbarIconElement = document.createElement('div');\r\n\r\n    // Options\r\n    let resizable = config.resizable;\r\n    let minimizable = config.minimizable;\r\n    let maximizable = config.maximizable;\r\n    let closable = config.closable;\r\n    let snappable = config.snappable;\r\n    let fullscreenable = config.fullscreenable;\r\n    let mica = config.mica;\r\n    let showOnTop = config.showOnTop;\r\n    let theme = config.theme;\r\n\r\n    let width = config.width;\r\n    let height = config.height;\r\n    let x = (config.x == 'center' || !config.x) ? _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.width / 2 - width / 2 : config.x;\r\n    let y = (config.y == 'center' || !config.y) ? _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.height / 2 - height / 2 : config.y;\r\n    let icon = config.icon;\r\n    let title = config.title;\r\n\r\n    if (!config.x && !config.y && browserWindowPosition['caller']) {\r\n        // Restore previous position\r\n        x = browserWindowPosition['caller'][0];\r\n        y = browserWindowPosition['caller'][1];\r\n    }\r\n\r\n    // Container\r\n    container.className = 'browser-window-container';\r\n    micaElement.className = 'browser-window-mica';\r\n    windowElement.className = 'broser-window';\r\n    resizerContainer.className = 'browser-window-resizers';\r\n    windowContent.className = 'browser-window-content';\r\n\r\n    maxZIndex++;\r\n    container.style.zIndex = maxZIndex;\r\n    container.style.transition = 'none';\r\n    container.style.transform = `translate(${x}px,${y}px)`;\r\n\r\n    container.appendChild(micaElement);\r\n    container.appendChild(windowElement);\r\n    windowElement.appendChild(resizerContainer);\r\n    windowElement.appendChild(windowContent);\r\n\r\n    // Inside Shadow Root\r\n    browserWindow.window.className = 'window';\r\n    browserWindow.toolbar.className = 'window-toolbar';\r\n    browserWindow.content.className = 'window-content';\r\n\r\n    shadowRoot.appendChild(browserWindow.window);\r\n    browserWindow.window.appendChild(browserWindow.toolbar);\r\n    browserWindow.window.appendChild(browserWindow.content);\r\n\r\n    if (showOnTop == true) {\r\n        screenElement.appendChild(container);\r\n    } else {\r\n        appWrapper.appendChild(container);\r\n    }\r\n\r\n    // Animation Data\r\n    let animationData = {\r\n        from: {\r\n            x: x,\r\n            y: y,\r\n            scaleX: width / 800,\r\n            scaleY: height / 600,\r\n            opacity: 0,\r\n            ts: Date.now()\r\n        },\r\n        to: {\r\n            x: x,\r\n            y: y,\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n            opacity: 1,\r\n            ts: Date.now() + 100\r\n        },\r\n        isRunning: false,\r\n        profile: {\r\n            func: cubicBezier(.42, 0, .58, 1),\r\n            duration: 100\r\n        }\r\n    };\r\n\r\n    // Load style \r\n    const style = document.createElement('link');\r\n    style.rel = 'stylesheet';\r\n    style.type = 'text/css';\r\n    style.href = defaultStyle;\r\n    shadowRoot.appendChild(style);\r\n\r\n    // Mica Effect\r\n    if (mica == true) {\r\n        const observer = new ResizeObserver(updateMica);\r\n        observer.observe(container);\r\n        window.addEventListener('resize', updateMica);\r\n\r\n        container.classList.add('mica');\r\n    }\r\n\r\n    // Resizers\r\n    if (resizable == true) {\r\n        // Resizers\r\n        Object.keys(resizerConfig).forEach(key => {\r\n            var allowed = resizerConfig[key];\r\n            var pointerDown = false;\r\n            var pointerPosition = {};\r\n            var resizer = document.createElement('div');\r\n            var originalPosition = {};\r\n            var originalSize = {};\r\n            resizer.className = key;\r\n\r\n            const updateSizeAndData = (e) => {\r\n                const position = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPointerPosition */ .Jt(e);\r\n                var diffX = position.x - pointerPosition.x;\r\n                var diffY = position.y - pointerPosition.y;\r\n                var width = originalSize.width;\r\n                var height = originalSize.height;\r\n                if (allowed == 'vertical') {\r\n                    diffX = 0;\r\n                } else if (allowed == 'horizontal') {\r\n                    diffY = 0;\r\n                }\r\n                var translateX = originalPosition.x;\r\n                var translateY = originalPosition.y;\r\n                // For vertical resize\r\n                if (key.search('top') > -1) {\r\n                    // Fixate bottom\r\n                    translateY += diffY;\r\n                    browserWindow.window.style.height = height - diffY + 'px';\r\n                    height = height - diffY;\r\n                } else if (key.search('bottom') > -1) {\r\n                    // Fixate top\r\n                    browserWindow.window.style.height = height + diffY + 'px';\r\n                    height = height + diffY;\r\n                }\r\n\r\n                // For horizontal resize\r\n                if (key.search('left') > -1) {\r\n                    // Fixate right\r\n                    translateX += diffX;\r\n                    browserWindow.window.style.width = width - diffX + 'px';\r\n                    width = width - diffX;\r\n                } else {\r\n                    // Fixate left\r\n                    browserWindow.window.style.width = width + diffX + 'px';\r\n                    width = width + diffX;\r\n                }\r\n\r\n                x = translateX;\r\n                y = translateY;\r\n\r\n                container.style.transition = 'none';\r\n                container.style.transform = `translate(${x}px,${y}px)`;\r\n            }\r\n\r\n            const handleStartResizing = (e) => {\r\n                if (isMaximized == true) return;\r\n                pointerPosition = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPointerPosition */ .Jt(e);\r\n                originalPosition = {\r\n                    x: x,\r\n                    y: y\r\n                }\r\n                originalSize = {\r\n                    width: width,\r\n                    height: height\r\n                }\r\n                appWrapper.classList.add('moving');\r\n                pointerDown = true;\r\n                if (mica == true) {\r\n                    updateMica();\r\n                }\r\n            }\r\n\r\n            const handleMoveResizing = (e) => {\r\n                if (pointerDown == true) {\r\n                    try {\r\n                        document.getSelection().removeAllRanges();\r\n                    } catch (e) { };\r\n                    updateSizeAndData(e);\r\n                    if (mica == true) {\r\n                        updateMica();\r\n                    }\r\n                }\r\n            }\r\n\r\n            const handleEndResizing = (e) => {\r\n                if (pointerDown == false) return;\r\n                updateSizeAndData(e);\r\n                pointerDown = false;\r\n                appWrapper.classList.remove('moving');\r\n                if (mica == true) {\r\n                    updateMica();\r\n                }\r\n            }\r\n\r\n            events.start.forEach(event => {\r\n                resizer.addEventListener(event, handleStartResizing);\r\n            })\r\n            events.move.forEach(event => {\r\n                window.addEventListener(event, handleMoveResizing);\r\n            })\r\n            events.end.forEach(event => {\r\n                window.addEventListener(event, handleEndResizing);\r\n            })\r\n\r\n            resizerContainer.appendChild(resizer);\r\n        })\r\n    } else {\r\n        resizerContainer.remove();\r\n    }\r\n\r\n    // Open window with animation\r\n    container.style.transition = 'none';\r\n    animate({\r\n        from: {\r\n            scaleX: .9,\r\n            scaleY: .9,\r\n            opacity: 0\r\n        },\r\n        to: {\r\n            x: x,\r\n            y: y,\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n            opacity: 1,\r\n        },\r\n        profile: 'window-open'\r\n    });\r\n    updateMica();\r\n\r\n    // Default toolbar\r\n    toolbarInfo.className = 'window-toolbar-info';\r\n    toolbarIcon.className = 'window-toolbar-icon';\r\n    toolbarTitle.className = 'window-toolbar-title';\r\n    toolbarButtons.className = 'window-toolbar-buttons';\r\n    minimizeButton.className = 'window-toolbar-button';\r\n    maximizeButton.className = 'window-toolbar-button';\r\n    closeButton.className = 'window-toolbar-button close';\r\n    minimizeImage.className = 'window-toolbar-button-icon';\r\n    maximizeImage.className = 'window-toolbar-button-icon';\r\n    closeImage.className = 'window-toolbar-button-icon';\r\n\r\n    // Load icon image\r\n    fs.getFileURL(icon || _appRegistry_js__WEBPACK_IMPORTED_MODULE_4__/* .appRegistry */ .r.getIcon(''))\r\n        .then(url => {\r\n            toolbarIcon.style.backgroundImage = `url(${url})`;\r\n        });\r\n\r\n    toolbarTitle.innerHTML = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .replaceHTMLTags */ .Tm(title);\r\n    minimizeImage.style.backgroundImage = `url(${icons.minimize})`;\r\n    maximizeImage.style.backgroundImage = `url(${icons.maxmin})`;\r\n    closeImage.style.backgroundImage = `url(${icons.close})`;\r\n\r\n    minimizeButton.addEventListener('click', () => {\r\n        minimize();\r\n    });\r\n    closeButton.addEventListener('click', () => {\r\n        close();\r\n    });\r\n    maximizeButton.addEventListener('click', () => {\r\n        if (isMaximized == false) {\r\n            maximizeWindow();\r\n        } else {\r\n            unmaximizeWindow();\r\n        }\r\n    });\r\n\r\n    minimizeButton.appendChild(minimizeImage);\r\n    maximizeButton.appendChild(maximizeImage);\r\n    closeButton.appendChild(closeImage);\r\n    toolbarButtons.appendChild(minimizeButton);\r\n    toolbarButtons.appendChild(maximizeButton);\r\n    toolbarButtons.appendChild(closeButton);\r\n    toolbarInfo.appendChild(toolbarIcon);\r\n    toolbarInfo.appendChild(toolbarTitle);\r\n    browserWindow.toolbar.appendChild(toolbarInfo);\r\n    browserWindow.toolbar.appendChild(toolbarButtons);\r\n\r\n    // Toolbar menu\r\n    const toolbarMenu = _ui_winui_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"] */ .A.contextMenu([]);\r\n    toolbarMenu.container.style.setProperty('--contextmenu-icon-size', '.58rem');\r\n    toolbarMenu.container.style.setProperty('--contextmenu-expand-size', '.58rem');\r\n    browserWindow.toolbar.addEventListener('contextmenu', (e) => {\r\n        e.preventDefault();\r\n        const { x, y } = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPointerPosition */ .Jt(e);\r\n        toolbarMenu.setItems([\r\n            {\r\n                className: \"restore\",\r\n                icon: \"chrome-restore\",\r\n                text: \"Restore\",\r\n                disabled: !isMaximized == true,\r\n                action: () => {\r\n                    unmaximizeWindow();\r\n                }\r\n            }, {\r\n                className: \"minimize\",\r\n                icon: \"chrome-minimize\",\r\n                text: \"Minimize\",\r\n                disabled: minimizable == false,\r\n                action: () => {\r\n                    minimize();\r\n                    // update icon status\r\n                },\r\n            }, {\r\n                className: \"maximize\",\r\n                icon: \"chrome-maximize\",\r\n                text: \"Maximize\",\r\n                disabled: !(isMaximized == false && !maximizable == false),\r\n                action: () => {\r\n                    maximizeWindow();\r\n                },\r\n            }, {\r\n                type: \"separator\"\r\n            }, {\r\n                className: \"close\",\r\n                icon: \"chrome-close\",\r\n                text: \"Close\",\r\n                action: () => {\r\n                    close();\r\n                },\r\n            }\r\n        ]);\r\n        toolbarMenu.open(x, y, 'left-top');\r\n    })\r\n    events.start.forEach(event => {\r\n        window.addEventListener(event, (e) => {\r\n            if (toolbarMenu.container.contains(e.target)) return;\r\n            toolbarMenu.close();\r\n        })\r\n    })\r\n\r\n    if (fullscreenable == false) {\r\n        maximizeButton.remove();\r\n    }\r\n    if (minimizable == false) {\r\n        minimizeButton.remove();\r\n    }\r\n    if (maximizable == false) {\r\n        maximizeButton.remove();\r\n    }\r\n    if (closable == false) {\r\n        closeButton.remove();\r\n    }\r\n\r\n    let windowTheme = theme == 'system' ? _system_js__WEBPACK_IMPORTED_MODULE_5__/* .System */ .i.theme.get() : theme == 'dark' ? 'dark' : 'light';\r\n    browserWindow.window.setAttribute('data-theme', windowTheme);\r\n\r\n    events.start.forEach(event => {\r\n        browserWindow.toolbar.addEventListener(event, handleStartMoving);\r\n    })\r\n    events.move.forEach(event => {\r\n        window.addEventListener(event, handleMoveMoving);\r\n    })\r\n    events.end.forEach(event => {\r\n        window.addEventListener(event, handleEndMoving);\r\n    })\r\n\r\n    container.addEventListener('pointerdown', (e) => {\r\n        eventEmitter._emit('focus');\r\n    })\r\n\r\n    function onFocus() {\r\n        maxZIndex++;\r\n        container.style.zIndex = maxZIndex;\r\n        container.style.pointerEvents = 'all';\r\n        container.style.visibility = 'visible';\r\n        windowContent.style.pointerEvents = 'unset';\r\n    }\r\n\r\n    function onBlur() {\r\n\r\n    }\r\n\r\n    function animate({\r\n        from,\r\n        to,\r\n        profile\r\n    }) {\r\n        if (profile) {\r\n            animationData.profile = animateProfiles[profile];\r\n        }\r\n        Object.keys(to).forEach(CSSKey => {\r\n            if (/[A-z]/gi.test(CSSKey[0])) {\r\n                animationData.to[CSSKey] = to[CSSKey];\r\n            }\r\n        })\r\n        var cT = getComputedStyle(container).transform;\r\n        var cO = getComputedStyle(container).opacity;\r\n        var opacity = Number(cO);\r\n\r\n        var x = 0, y = 0, scaleX = 1, scaleY = 1;\r\n        if (cT.startsWith(\"matrix(\")) {\r\n            var transform = decompose2DMatrix(cT);\r\n            x = transform.translateX;\r\n            y = transform.translateY;\r\n            scaleX = transform.scaleX;\r\n            scaleY = transform.scaleY;\r\n        }\r\n\r\n        if (from) {\r\n            x = from.x || x;\r\n            y = from.y || y;\r\n            scaleX = from.scaleX || scaleX;\r\n            scaleY = from.scaleY || scaleY;\r\n            opacity = from.opacity || opacity;\r\n        }\r\n\r\n        const now = Date.now();\r\n\r\n        animationData.from.x = x;\r\n        animationData.from.y = y;\r\n        animationData.from.scaleX = scaleX;\r\n        animationData.from.scaleY = scaleY;\r\n        animationData.from.opacity = opacity;\r\n        animationData.from.ts = now;\r\n        animationData.to.ts = now + animationData.profile.duration;\r\n\r\n        if (animationData.isRunning == false) {\r\n            animateRunner();\r\n        }\r\n    }\r\n\r\n    function animateRunner() {\r\n        animationData.isRunning = true;\r\n        const now = Date.now();\r\n        const d = now - animationData.from.ts;\r\n        const t = d / animationData.profile.duration;\r\n        const p = animationData.profile.func(t > 1 ? 1 : t < 0 ? 0 : t);\r\n\r\n        container.style.transform = `translate(\r\n${animationData.from.x + (animationData.to.x - animationData.from.x) * p}px,\r\n${animationData.from.y + (animationData.to.y - animationData.from.y) * p}px\r\n) scale(\r\n${animationData.from.scaleX + (animationData.to.scaleX - animationData.from.scaleX) * p},\r\n${animationData.from.scaleY + (animationData.to.scaleY - animationData.from.scaleY) * p}\r\n)`;\r\n        container.style.opacity = (animationData.from.opacity + (animationData.to.opacity - animationData.from.opacity) * p).toString();\r\n\r\n        if (now < animationData.to.ts) {\r\n            requestAnimationFrame(animateRunner);\r\n        } else {\r\n            animationData.isRunning = false;\r\n        }\r\n    }\r\n\r\n    function getSnapSide(x, y) {\r\n        let side = '';\r\n        if (y >= appWrapper.offsetHeight - snapMargin) {\r\n            side += 'b';\r\n        } else if (y <= snapMargin) {\r\n            side += 't';\r\n        }\r\n        if (x >= appWrapper.offsetWidth - snapMargin) {\r\n            side += 'r';\r\n        } else if (x <= snapMargin) {\r\n            side += 'l';\r\n        }\r\n        if (side.length == 1) {\r\n            side += 'f';\r\n        }\r\n        if (side.includes('b') && side.includes('f')) {\r\n            return '';\r\n        }\r\n        return side;\r\n    }\r\n\r\n    function getSnapSize(side) {\r\n        var width = 'var(--viewport-width)';\r\n        var height = 'calc(var(--viewport-height) - var(--taskbar-height))';\r\n        if (side.includes('l') || side.includes('r')) {\r\n            width = 'calc(var(--viewport-width) / 2)';\r\n        }\r\n        if ((side.includes('t') && !side.includes('f')) || side.includes('b')) {\r\n            height = 'calc((var(--viewport-height) - var(--taskbar-height)) / 2)';\r\n        }\r\n        return {\r\n            width: width,\r\n            height: height\r\n        }\r\n    }\r\n\r\n    function getSnapPosition(side) {\r\n        var left = '0';\r\n        var top = '0';\r\n        if (side.includes('r')) {\r\n            left = 'calc(var(--viewport-width) / 2)';\r\n        }\r\n        if (side.includes('b')) {\r\n            top = 'calc((var(--viewport-height) - var(--taskbar-height)) / 2)';\r\n        }\r\n        return {\r\n            left: left,\r\n            top: top\r\n        }\r\n    }\r\n\r\n    function getSnapPreviewSize(side) {\r\n        var width = appWrapper.offsetWidth - snapMargin * 2;\r\n        var height = appWrapper.offsetHeight - snapMargin * 2;\r\n        if (side.includes('l') || side.includes('r')) {\r\n            width = appWrapper.offsetWidth / 2 - snapMargin * 2;\r\n        }\r\n        if ((side.includes('t') && !side.includes('f')) || side.includes('b')) {\r\n            height = appWrapper.offsetHeight / 2 - snapMargin * 2;\r\n        }\r\n        return {\r\n            width: width,\r\n            height: height\r\n        }\r\n    }\r\n\r\n    function getSnapPreviewPosition(side) {\r\n        var left = snapMargin;\r\n        var top = snapMargin;\r\n        if (side.includes('r')) {\r\n            left = appWrapper.offsetWidth / 2 + snapMargin;\r\n        }\r\n        if (side.includes('b')) {\r\n            top = appWrapper.offsetHeight / 2 + snapMargin;\r\n        }\r\n        return {\r\n            left: left,\r\n            top: top\r\n        }\r\n    }\r\n\r\n    // Moving\r\n    function handleStartMoving(e) {\r\n        if (toolbarButtons.contains(e.target)) return;\r\n        for (const element of immovableElements) {\r\n            if (element == e.target || element.contains(e.target)) {\r\n                return;\r\n            }\r\n        }\r\n        const pointer = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPointerPosition */ .Jt(e);\r\n        var pageX = pointer.x, pageY = pointer.y;\r\n        if (pageX < 0) {\r\n            pageX = 0;\r\n        } else if (pageX > _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.width) {\r\n            pageX = _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.width;\r\n        }\r\n        if (pageY < 0) {\r\n            pageY = 0;\r\n        } else if (pageY > _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.height) {\r\n            pageY = _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.height;\r\n        }\r\n        pointerDown = true;\r\n        pointerMoved = false;\r\n        var position = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(container);\r\n        pointerPosition = [pageX, pageY];\r\n        originalPosition = {\r\n            x: position.x,\r\n            y: position.y\r\n        }\r\n        eventEmitter._emit('dragstart', {\r\n            preventDefault: () => {\r\n                handleEndMoving({}, 'preventDefault');\r\n            },\r\n            type: e.type,\r\n            target: e.target\r\n        })\r\n        updateMica()\r\n    }\r\n\r\n    function handleMoveMoving(e) {\r\n        if (pointerDown) {\r\n            try {\r\n                document.getSelection().removeAllRanges();\r\n            } catch (e) { };\r\n            if (originalSnapSide != '' || isMaximized == true || browserWindow.window.offsetWidth != width || browserWindow.window.offsetHeight != browserWindow.window.offsetHeight) {\r\n                container.style.transition = 'transform 100ms ease-in-out, opacity 100ms ease-in-out';\r\n                browserWindow.window.style.transition = 'none';\r\n                container.removeAttribute('data-maximized');\r\n                browserWindow.window.style.width = width + 'px';\r\n                browserWindow.window.style.height = height + 'px';\r\n                browserWindow.window.style.borderRadius = 'revert-layer';\r\n                maximizeImage.style.backgroundImage = `url(${icons.maxmin})`;\r\n                isMaximized = false;\r\n                originalSnapSide = '';\r\n            }\r\n            const pointer = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPointerPosition */ .Jt(e);\r\n            var pageX = pointer.x, pageY = pointer.y;\r\n            if (pageX != pointerPosition[0] || pageY != pointerPosition[1]) {\r\n                pointerMoved = true;\r\n            }\r\n            if (pageX < 0) {\r\n                pageX = 0;\r\n            } else if (pageX > _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.width) {\r\n                pageX = _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.width;\r\n            }\r\n            if (pageY < 0) {\r\n                pageY = 0;\r\n            } else if (pageY > _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.height) {\r\n                pageY = _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.height;\r\n            }\r\n            const side = getSnapSide(pageX, pageY);\r\n            appWrapper.classList.add('moving');\r\n\r\n            container.style.transition = 'none';\r\n            container.style.transform = `translate(${originalPosition.x + pageX - pointerPosition[0]}px,${originalPosition.y + pageY - pointerPosition[1]}px)`;\r\n\r\n            if (snappable == false) {\r\n                snapSide = '';\r\n            } else {\r\n                if (side != '') {\r\n                    snapPreview.style.position = 'fixed';\r\n                    if (!showSnapPreview == true) {\r\n                        snapPreview.style.width = container.offsetWidth + 'px';\r\n                        snapPreview.style.height = container.offsetHeight + 'px';\r\n                        snapPreview.style.left = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(container).x + 'px';\r\n                        snapPreview.style.top = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(container).y + 'px';\r\n                        snapPreview.classList.add('active');\r\n                    }\r\n                    var size = getSnapPreviewSize(side);\r\n                    var position = getSnapPreviewPosition(side);\r\n                    snapPreview.style.transition = 'all .15s ease-in-out';\r\n                    snapPreview.style.zIndex = container.style.zIndex || maxZIndex;\r\n                    snapPreview.style.left = position.left + 'px';\r\n                    snapPreview.style.top = position.top + 'px';\r\n                    snapPreview.style.width = size.width + 'px';\r\n                    snapPreview.style.height = size.height + 'px';\r\n                    showSnapPreview = true;\r\n                } else {\r\n                    if (showSnapPreview == true) {\r\n                        snapPreview.style.width = container.offsetWidth + 'px';\r\n                        snapPreview.style.height = container.offsetHeight + 'px';\r\n                        snapPreview.style.left = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(container).x + 'px';\r\n                        snapPreview.style.top = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(container).y + 'px';\r\n                        setTimeout(() => {\r\n                            if (showSnapPreview == true) return;\r\n                            snapPreview.style.transition = 'none';\r\n                            snapPreview.classList.remove('active');\r\n                        }, 150)\r\n                    }\r\n                    showSnapPreview = false;\r\n                }\r\n                snapSide = side;\r\n            }\r\n            eventEmitter._emit('dragging', {\r\n                preventDefault: () => {\r\n                    handleEndMoving({}, 'preventDefault');\r\n                },\r\n                type: e.type,\r\n                target: e.target\r\n            })\r\n            updateMica()\r\n        }\r\n    }\r\n\r\n    function handleEndMoving(e, type = 'user') {\r\n        if (pointerDown == false) return;\r\n        if (pointerMoved == false) {\r\n            return pointerDown = false;\r\n        }\r\n        pointerDown = false;\r\n        showSnapPreview = false;\r\n        snapPreview.style.width = container.offsetWidth + 'px';\r\n        snapPreview.style.height = container.offsetHeight + 'px';\r\n        snapPreview.style.left = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(container).x + 'px';\r\n        snapPreview.style.top = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(container).y + 'px';\r\n        setTimeout(() => {\r\n            snapPreview.style.transition = 'none';\r\n            snapPreview.classList.remove('active');\r\n        }, 150)\r\n        appWrapper.classList.remove('moving');\r\n        if (snapSide != '') {\r\n            if (snapSide.includes('t') && snapSide.includes('f')) {\r\n                maximizeWindow();\r\n            }\r\n            var position = getSnapPosition(snapSide);\r\n            var size = getSnapSize(snapSide);\r\n\r\n            container.style.transform = `translate(${position.left},${position.top})`;\r\n\r\n            container.style.transition = 'all 200ms cubic-bezier(.8,.01,.28,.99)';\r\n            browserWindow.window.style.transition = 'all 200ms cubic-bezier(.8,.01,.28,.99)';\r\n            setTimeout(() => {\r\n                container.style.transition = 'transform 100ms ease-in-out, opacity 100ms ease-in-out';\r\n                browserWindow.window.style.transition = 'none';\r\n            }, 200)\r\n\r\n            browserWindow.window.style.width = size.width;\r\n            browserWindow.window.style.height = size.height;\r\n            browserWindow.window.style.borderRadius = '0';\r\n        } else if (type == 'user') {\r\n            let pageX = e.pageX;\r\n            let pageY = e.pageY;\r\n            if (e.type.startsWith('touch')) {\r\n                var touch = e.touches[0] || e.changedTouches[0];\r\n                pageX = touch.pageX;\r\n                pageY = touch.pageY;\r\n            }\r\n            if (pageX < 0) {\r\n                pageX = 0;\r\n            } else if (pageX > _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.width) {\r\n                pageX = _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.width;\r\n            }\r\n            if (pageY < 0) {\r\n                pageY = 0;\r\n            } else if (pageY > _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.height) {\r\n                pageY = _viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.height;\r\n            }\r\n            x = originalPosition.x + pageX - pointerPosition[0];\r\n            y = originalPosition.y + pageY - pointerPosition[1];\r\n            container.style.transition = 'none';\r\n            container.style.transform = `translate(${originalPosition.x + pageX - pointerPosition[0]}px,${originalPosition.y + pageY - pointerPosition[1]}px)`;\r\n        }\r\n        originalSnapSide = snapSide;\r\n        snapSide = '';\r\n        eventEmitter._emit('dragend', {\r\n            preventDefault: () => {\r\n\r\n            },\r\n            type: e.type,\r\n            target: e.target\r\n        })\r\n        updateMica()\r\n    }\r\n\r\n    function updateMica() {\r\n        if (mica == true) {\r\n            requestAnimationFrame(() => {\r\n                const rect = container.getBoundingClientRect();\r\n                micaElement.style.clipPath = `inset(${rect.top + 1}px ${_viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.width - rect.right + 1}px ${_viewport_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .A.height - rect.bottom + 1}px ${rect.left + 1}px)`;\r\n                micaElement.style.transform = `translate(${-rect.left}px,${-rect.top}px)`;\r\n            });\r\n        }\r\n    }\r\n\r\n    function minimize() {\r\n        var position = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(taskbarIconElement);\r\n        var width = container.offsetWidth;\r\n        var height = container.offsetHeight;\r\n\r\n        container.style.transition = 'none';\r\n\r\n        var scaleX = 180 / width;\r\n        var scaleY = 120 / height;\r\n        var scale = scaleX;\r\n\r\n        if (scaleY < scaleX) {\r\n            scale = scaleY\r\n        }\r\n\r\n        var windowWidth = width * scale;\r\n        var windowHeight = height * scale;\r\n\r\n        animate({\r\n            to: {\r\n                x: position.x - width * (1 - scale) / 2 - windowWidth / 2 + taskbarIconElement.offsetWidth / 2,\r\n                y: window.innerHeight - 48 - 8 - height * (1 - scale) / 2 - windowHeight,\r\n                scaleX: scale,\r\n                scaleY: scale,\r\n                opacity: 0\r\n            },\r\n            profile: 'window-hide'\r\n        });\r\n        eventEmitter._emit('minimize');\r\n    }\r\n\r\n    function unmaximizeWindow(animation = true) {\r\n        originalSnapSide = '';\r\n        isMaximized = false;\r\n        container.removeAttribute('data-maximized');\r\n        container.style.transform = `translate(${x}px,${y}px)`;\r\n\r\n        if (animation == true) {\r\n            container.style.transition = 'all 200ms cubic-bezier(.8,.01,.28,.99)';\r\n            browserWindow.window.style.transition = 'all 200ms cubic-bezier(.8,.01,.28,.99)';\r\n            setTimeout(() => {\r\n                container.style.transition = 'transform 100ms ease-in-out, opacity 100ms ease-in-out';\r\n                browserWindow.window.style.transition = 'none';\r\n            }, 200)\r\n        } else {\r\n            container.style.transition = 'transform 100ms ease-in-out, opacity 100ms ease-in-out';\r\n            browserWindow.window.style.transition = 'none';\r\n        }\r\n\r\n        browserWindow.window.style.width = width + 'px';\r\n        browserWindow.window.style.height = height + 'px';\r\n        browserWindow.window.style.borderRadius = 'revert-layer';\r\n        maximizeImage.style.backgroundImage = `url(${icons.maxmin})`;\r\n        updateMica()\r\n    }\r\n\r\n    function maximizeWindow(animation = true) {\r\n        originalSnapSide = 'f';\r\n        isMaximized = true;\r\n        container.setAttribute('data-maximized', 'true');\r\n        container.style.transform = `translate(0px,0px)`;\r\n        // hostElement.style.width = 'var(--viewport-width)';\r\n        // hostElement.style.height = 'calc(var(--viewport-height) - var(--taskbar-height))';\r\n\r\n        if (animation == true) {\r\n            container.style.transition = 'all 200ms cubic-bezier(.8,.01,.28,.99)';\r\n            browserWindow.window.style.transition = 'all 200ms cubic-bezier(.8,.01,.28,.99)';\r\n            setTimeout(() => {\r\n                container.style.transition = 'transform 100ms ease-in-out, opacity 100ms ease-in-out';\r\n                browserWindow.window.style.transition = 'none';\r\n            }, 200)\r\n        } else {\r\n            container.style.transition = 'transform 100ms ease-in-out, opacity 100ms ease-in-out';\r\n            browserWindow.window.style.transition = 'none';\r\n        }\r\n\r\n        browserWindow.window.style.width = 'var(--viewport-width)';\r\n        browserWindow.window.style.height = 'calc(var(--viewport-height) - var(--taskbar-height))';\r\n        browserWindow.window.style.borderRadius = '0';\r\n        maximizeImage.style.backgroundImage = `url(${icons.maximize})`;\r\n        updateMica()\r\n    }\r\n\r\n    function close() {\r\n        if (window.modes.debug == true) {\r\n\r\n        }\r\n        container.style.transition = 'none';\r\n        const position = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .getPosition */ .E9(container);\r\n        animate({\r\n            to: {\r\n                x: position.x,\r\n                y: position.y,\r\n                scaleX: .9,\r\n                scaleY: .9,\r\n                opacity: 0\r\n            },\r\n            profile: 'window-close'\r\n        });\r\n        eventEmitter._emit('close');\r\n        setTimeout(() => {\r\n            container.remove();\r\n        }, 200);\r\n    }\r\n\r\n    function changeTitle(title = 'App') {\r\n        if (!title) return;\r\n        title = title;\r\n        toolbarTitle.innerHTML = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .replaceHTMLTags */ .Tm(title);\r\n        eventEmitter._emit('title-changed', title);\r\n    }\r\n\r\n    function changeIcon(url = '') {\r\n        if (!url) return;\r\n        icon = url;\r\n        toolbarIcon.style.backgroundImage = `url(${url})`;\r\n        eventEmitter._emit('icon-changed', url);\r\n    }\r\n\r\n    function setTheme(theme) {\r\n        windowTheme = theme == 'dark' ? 'dark' : 'light';\r\n        browserWindow.window.setAttribute('data-theme', windowTheme);\r\n    }\r\n\r\n    function getTheme() {\r\n        return windowTheme;\r\n    }\r\n\r\n    function setSnappable(value) {\r\n        snappable = value == true;\r\n    }\r\n\r\n    function setMovable(element) {\r\n        events.start.forEach(event => {\r\n            element.addEventListener(event, handleStartMoving);\r\n        })\r\n    }\r\n\r\n    function unsetMovable(element) {\r\n        events.start.forEach(event => {\r\n            element.removeEventListener(event, handleStartMoving);\r\n        })\r\n    }\r\n\r\n    function setImmovable(element) {\r\n        if (!immovableElements.includes(element)) {\r\n            immovableElements.push(element);\r\n        }\r\n    }\r\n\r\n    function unsetImmovable(element) {\r\n        if (immovableElements.includes(element)) {\r\n            immovableElements.splice(immovableElements.indexOf(element), 1);\r\n        }\r\n    }\r\n\r\n    function addEventListener(event, listener) {\r\n        console.warn('%cBrowserWindow.addEventListener()%c has been deprecated.\\nPlease use %cBrowserWindow.on()%c instead', 'font-family:monospace;background:rgb(24,24,24);color:#fff;border-radius:4px;padding:4px 6px;', '', 'font-family:monospace;background:rgb(24,24,24);color:#fff;border-radius:4px;padding:4px 6px;', '')\r\n        eventEmitter.on(event, listener);\r\n    }\r\n\r\n    function useTabview(config = {\r\n        icon: true\r\n    }) {\r\n        const tabview = document.createElement('div');\r\n        const tabStrip = document.createElement('div');\r\n        const tabStripTabs = document.createElement('div');\r\n        const tabStripCreate = document.createElement('div');\r\n        const tabStripCreateButton = document.createElement('button');\r\n\r\n        tabview.className = 'tabview';\r\n        tabStrip.className = 'tabview-tabstrip';\r\n        tabStripTabs.className = 'tabview-tabstrip-tabs';\r\n        tabStripCreate.className = 'tabview-tabstrip-create';\r\n        tabStripCreateButton.className = 'tabview-tabstrip-create-button';\r\n\r\n        container.appendChild(tabview);\r\n        if (config.icon == false) {\r\n            browserWindow.toolbar.replaceChild(tabStrip, toolbarInfo);\r\n        } else {\r\n            toolbarInfo.replaceChild(tabStrip, toolbarTitle);\r\n        }\r\n        tabStrip.appendChild(tabStripTabs);\r\n        tabStrip.appendChild(tabStripCreate);\r\n        tabStripCreate.appendChild(tabStripCreateButton);\r\n\r\n        tabStripCreateButton.addEventListener('click', async () => {\r\n            triggerEvent('requestCreateTab', {\r\n                active: true,\r\n                target: tabStripCreateButton\r\n            })\r\n        })\r\n\r\n        eventEmitter.on('dragstart', (e) => {\r\n            if (e.target == tabStripCreateButton || tabStripTabs.contains(e.target)) {\r\n                e.preventDefault();\r\n            }\r\n        })\r\n\r\n        var order = [];\r\n        var tabs = {};\r\n        var listeners = {};\r\n\r\n        function randomID() {\r\n            var patterns = '0123456789abcdef';\r\n            var id = '_';\r\n            for (var i = 0; i < 6; i++) {\r\n                id += patterns.charAt(Math.floor(Math.random() * patterns.length));\r\n            }\r\n            if (tabs[id]) {\r\n                return randomID();\r\n            }\r\n            return id;\r\n        }\r\n\r\n        function on(event, listener) {\r\n            if (!listeners[event]) {\r\n                listeners[event] = []\r\n            }\r\n            listeners[event].push(listener);\r\n        }\r\n\r\n        function triggerEvent(event, detail) {\r\n            if (listeners[event]) {\r\n                listeners[event].forEach((listener) => listener(detail));\r\n            }\r\n        }\r\n\r\n        class Tab {\r\n            tab = document.createElement('div');\r\n            tabInfo = document.createElement('div');\r\n            tabIcon = document.createElement('div');\r\n            tabHeader = document.createElement('div');\r\n            tabClose = document.createElement('div');\r\n            tabviewItem = document.createElement('div');\r\n            id = randomID();\r\n\r\n            constructor(config = {\r\n                active: true,\r\n                icon: true,\r\n                tabAnimation: true\r\n            }) {\r\n                // Initialize tab\r\n                order.push(this.id);\r\n\r\n                this.tab.className = 'tabview-tabstrip-tab';\r\n                this.tabInfo.className = 'tabview-tabstrip-tab-info';\r\n                this.tabIcon.className = 'tabview-tabstrip-tab-icon';\r\n                this.tabHeader.className = 'tabview-tabstrip-tab-header';\r\n                this.tabClose.className = 'tabview-tabstrip-tab-close';\r\n                this.tabviewItem.className = 'tabview-item';\r\n\r\n                var originalPosition = order.indexOf(this.id);\r\n                var currentPosition = order.indexOf(this.id);\r\n                var startX = 0;\r\n                var dragging = false;\r\n                var events = {\r\n                    \"start\": [\"mousedown\", \"touchstart\", \"pointerdown\"],\r\n                    \"move\": [\"mousemove\", \"touchmove\", \"pointermove\"],\r\n                    \"end\": [\"mouseup\", \"touchend\", \"pointerup\", \"blur\"]\r\n                }\r\n\r\n                tabs[this.id] = this;\r\n\r\n                function moveNodeToIndex(nodeIndex, targetIndex, container) {\r\n                    const children = Array.from(container.children);\r\n                    if (nodeIndex < 0 || nodeIndex >= children.length || targetIndex < 0 || targetIndex >= children.length) {\r\n                        // console.error('over range');\r\n                        return;\r\n                    }\r\n                    const nodeToMove = children[nodeIndex];\r\n                    if (targetIndex === children.length - 1) {\r\n                        container.appendChild(nodeToMove);\r\n                    } else if (targetIndex < nodeIndex) {\r\n                        container.insertBefore(nodeToMove, children[targetIndex]);\r\n                    } else {\r\n                        container.insertBefore(nodeToMove, children[targetIndex + 1]);\r\n                    }\r\n                }\r\n\r\n                function moveArrayItem(arr, fromIndex, toIndex) {\r\n                    if (fromIndex < 0 || fromIndex >= arr.length || toIndex < 0 || toIndex >= arr.length) {\r\n                        // console.error('over range');\r\n                        return;\r\n                    }\r\n                    const item = arr.splice(fromIndex, 1)[0];\r\n                    arr.splice(toIndex, 0, item);\r\n                    // console.log(arr, item)\r\n                    return arr;\r\n                }\r\n\r\n                const dragStart = (e) => {\r\n                    if (this.tabClose.contains(e.target)) return;\r\n                    this.focus();\r\n                    let pageX = e.pageX;\r\n                    if (e.type.startsWith('touch')) {\r\n                        const touch = e.touches[0] || e.changedTouches[0];\r\n                        pageX = touch.pageX;\r\n                    }\r\n                    originalPosition = order.indexOf(this.id);\r\n                    currentPosition = order.indexOf(this.id);\r\n                    this.tab.style.transition = 'none';\r\n                    dragging = true;\r\n                    startX = pageX;\r\n                }\r\n\r\n                const dragMove = (e) => {\r\n                    if (!dragging) return;\r\n                    try {\r\n                        document.getSelection().removeAllRanges();\r\n                    } catch (e) { };\r\n                    let pageX = e.pageX;\r\n                    if (e.type.startsWith('touch')) {\r\n                        const touch = e.touches[0] || e.changedTouches[0];\r\n                        pageX = touch.pageX;\r\n                    }\r\n                    var x = pageX - startX;\r\n                    var unit = this.tab.offsetWidth + 8;\r\n                    var count = Math.round(x / unit);\r\n\r\n                    if (config.tabAnimation != false) {\r\n                        this.tab.style.transform = `translateX(${x}px)`;\r\n                    }\r\n\r\n                    currentPosition = originalPosition + count;\r\n                    if (currentPosition > order.length - 1) {\r\n                        currentPosition = order.length - 1;\r\n                    } else if (currentPosition < 0) {\r\n                        currentPosition = 0;\r\n                    }\r\n                    count = currentPosition - originalPosition;\r\n\r\n                    if (x > 0) {\r\n                        Object.values(tabs).filter(tab => tab.id != this.id).forEach(tab => {\r\n                            if (config.tabAnimation != false) {\r\n                                tab.tab.style.transition = 'revert-layer';\r\n                            }\r\n                            var index = order.indexOf(tab.id);\r\n                            if (index <= originalPosition + count && index > originalPosition) {\r\n                                tab.tab.style.transform = 'translateX(calc(-100% - 8px))';\r\n                            } else {\r\n                                tab.tab.style.transform = '';\r\n                            }\r\n                        })\r\n                    } else if (x < 0) {\r\n                        Object.values(tabs).filter(tab => tab.id != this.id).forEach(tab => {\r\n                            if (config.tabAnimation != false) {\r\n                                tab.tab.style.transition = 'revert-layer';\r\n                            }\r\n                            var index = order.indexOf(tab.id);\r\n                            if (index >= originalPosition + count && index < originalPosition) {\r\n                                tab.tab.style.transform = 'translateX(calc(100% + 8px))';\r\n                            } else {\r\n                                tab.tab.style.transform = '';\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n\r\n                const dragEnd = () => {\r\n                    if (dragging == false) return;\r\n                    dragging = false;\r\n                    if (currentPosition != originalPosition) {\r\n                        moveNodeToIndex(originalPosition, currentPosition, tabStripTabs);\r\n                        moveArrayItem(order, originalPosition, currentPosition);\r\n                        originalPosition = currentPosition;\r\n                        Object.values(tabs).forEach(tab => {\r\n                            tab.tab.style.transition = 'none';\r\n                            tab.tab.style.transform = 'translateX(0)';\r\n                            tab.tab.style['-webkit-transform']\r\n                            setTimeout(() => {\r\n                                tab.tab.style.transition = 'revert-layer';\r\n                            }, 200)\r\n                        })\r\n                    } else {\r\n                        this.tab.style.transition = 'revert-layer';\r\n                        this.tab.style.transform = '';\r\n                    }\r\n                }\r\n\r\n                events.start.forEach(event => {\r\n                    this.tab.addEventListener(event, dragStart);\r\n                })\r\n                events.move.forEach(event => {\r\n                    window.addEventListener(event, dragMove);\r\n                })\r\n                events.end.forEach(event => {\r\n                    window.addEventListener(event, dragEnd);\r\n                })\r\n\r\n                this.tabClose.addEventListener('click', () => {\r\n                    this.close()\r\n                });\r\n\r\n                this.tab.appendChild(this.tabInfo);\r\n                this.tab.appendChild(this.tabClose);\r\n                this.tabInfo.appendChild(this.tabIcon);\r\n                this.tabInfo.appendChild(this.tabHeader);\r\n                tabStripTabs.appendChild(this.tab);\r\n                tabview.appendChild(this.tabviewItem);\r\n\r\n                if (config.active != false) {\r\n                    this.focus();\r\n                }\r\n                if (config.icon == false) {\r\n                    this.tabIcon.remove();\r\n                }\r\n            }\r\n            getContainer() {\r\n                return this.tabviewItem;\r\n            }\r\n            focus() {\r\n                Object.values(tabs).forEach(tab => {\r\n                    tab.blur();\r\n                })\r\n                this.tab.classList.add('active');\r\n                this.tabviewItem.classList.add('active');\r\n            }\r\n            changeHeader(header) {\r\n                this.tabHeader.innerHTML = _utils_js__WEBPACK_IMPORTED_MODULE_7__/* .replaceHTMLTags */ .Tm(header);\r\n            }\r\n            changeIcon(icon) {\r\n                this.tabIcon.style.backgroundImage = `url(${icon})`;\r\n            }\r\n            close() {\r\n                this.tab.remove();\r\n                this.tabviewItem.remove();\r\n                var index = order.indexOf(this.id);\r\n                delete tabs[this.id];\r\n                order.splice(index, 1);\r\n                if (Object.keys(tabs).length == 0) {\r\n                    return close();\r\n                } else if (order[index]) {\r\n                    return tabs[order[index]].focus();\r\n                } else if (order[index - 1]) {\r\n                    return tabs[order[index - 1]].focus();\r\n                } else {\r\n                    return tabs[order[0]].focus();\r\n                }\r\n            }\r\n            blur() {\r\n                this.tab.classList.remove('active');\r\n                this.tabviewItem.classList.remove('active');\r\n            }\r\n        }\r\n\r\n        return { Tab, on };\r\n    }\r\n\r\n    eventEmitter.on('focus', onFocus);\r\n    eventEmitter.on('blur', onBlur);\r\n\r\n    onFocus();\r\n\r\n    return {\r\n        shadowRoot,\r\n        container,\r\n        window: browserWindow.window,\r\n        toolbar: browserWindow.toolbar,\r\n        content: browserWindow.content,\r\n\r\n        // Methods\r\n        close,\r\n        addEventListener,\r\n        setTheme,\r\n        getTheme,\r\n        setMovable,\r\n        unsetMovable,\r\n        setImmovable,\r\n        unsetImmovable,\r\n        changeTitle,\r\n        changeIcon,\r\n        setSnappable,\r\n        useTabview,\r\n        on: eventEmitter.on.bind(eventEmitter)\r\n    }\r\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://winbows11/./src/kernel/WRT/WApplication.v2.js?\n}")}},__webpack_module_cache__={},hasSymbol,webpackQueues,webpackExports,webpackError,resolveQueue;function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var r=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,hasSymbol="function"==typeof Symbol,webpackQueues=hasSymbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports=hasSymbol?Symbol("webpack exports"):"__webpack_exports__",webpackError=hasSymbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},__webpack_require__.a=(e,n,r)=>{var t;r&&((t=[]).d=-1);var o,a,i,s=new Set,l=e.exports,c=new Promise(((e,n)=>{i=n,a=e}));c[webpackExports]=l,c[webpackQueues]=e=>(t&&e(t),s.forEach(e),c.catch((e=>{}))),e.exports=c,n((e=>{var n;o=(e=>e.map((e=>{if(null!==e&&"object"==typeof e){if(e[webpackQueues])return e;if(e.then){var n=[];n.d=0,e.then((e=>{r[webpackExports]=e,resolveQueue(n)}),(e=>{r[webpackError]=e,resolveQueue(n)}));var r={};return r[webpackQueues]=e=>e(n),r}}var t={};return t[webpackQueues]=e=>{},t[webpackExports]=e,t})))(e);var r=()=>o.map((e=>{if(e[webpackError])throw e[webpackError];return e[webpackExports]})),a=new Promise((e=>{(n=()=>e(r)).r=0;var a=e=>e!==t&&!s.has(e)&&(s.add(e),e&&!e.d&&(n.r++,e.push(n)));o.map((e=>e[webpackQueues](a)))}));return n.r?a:r()}),(e=>(e?i(c[webpackError]=e):a(l),resolveQueue(t)))),t&&t.d<0&&(t.d=0)},__webpack_require__.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(e,n)=>{for(var r in n)__webpack_require__.o(n,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__(1830)})();